(this["webpackJsonpvisualization-tool"]=this["webpackJsonpvisualization-tool"]||[]).push([[0],{25:function(t,i,e){},36:function(t,i,e){t.exports=e(47)},37:function(t,i,e){},47:function(t,i,e){"use strict";e.r(i);e(25);var s=e(12),h=e(15),a=e(2),n=e(3),r=e(4),l=e(1),o=e(5),c=(e(37),e(18)),d=e(13),u=function t(i,e,s,h,n){Object(a.a)(this,t),this.objectID=i,this.fromX=e,this.fromY=s,this.toX=h,this.toY=n},m=function(){function t(){Object(a.a)(this,t)}return Object(n.a)(t,[{key:"addUndoAnimation",value:function(){return!1}},{key:"undoInitialStep",value:function(){}}]),t}(),g=function(t){function i(t,e,s,h,n){var o;return Object(a.a)(this,i),(o=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,o.fromX=e,o.fromY=s,o.toX=h,o.toY=n,o}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addUndoAnimation",value:function(t){var i=new u(this.objectID,this.fromX,this.fromY,this.toX,this.toY);return t.push(i),!0}}]),i}(m),p=function(t){function i(t){var e;return Object(a.a)(this,i),(e=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,e}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.removeObject(this.objectID)}}]),i}(m),I=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,h.highlightValue=e,h.color=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setHighlight(this.objectID,this.highlightValue,this.color)}}]),i}(m),f=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.height=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setHeight(this.objectID,this.height)}}]),i}(m),b=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.width=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setWidth(this.objectID,this.width)}}]),i}(m),D=function(t){function i(t,e){var s;if(Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t.objectID,s.sizeBeforeChange=t.getNumElements(),s.sizeAfterChange=e,s.sizeBeforeChange>s.sizeAfterChange){s.labels=new Array(s.sizeBeforeChange-s.sizeAfterChange),s.colors=new Array(s.sizeBeforeChange-s.sizeAfterChange);for(var h=0;h<s.sizeBeforeChange-s.sizeAfterChange;h++)s.labels[h]=t.getText(h+s.sizeAfterChange),s.colors[h]=t.getTextColor(h+s.sizeAfterChange)}return s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){if(t.setNumElements(this.objectID,this.sizeBeforeChange),this.sizeBeforeChange>this.sizeAfterChange)for(var i=0;i<this.sizeBeforeChange-this.sizeAfterChange;i++)t.setText(this.objectID,this.labels[i],i+this.sizeAfterChange),t.setTextColor(this.objectID,this.colors[i],i+this.sizeAfterChange)}}]),i}(m),v=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.alphaVal=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setAlpha(this.objectID,this.alphaVal)}}]),i}(m),x=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.nullVal=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setNull(this.objectID,this.nullVal)}}]),i}(m),y=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.nullVal=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setPrevNull(this.objectID,this.nullVal)}}]),i}(m),k=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.nullVal=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setNextNull(this.objectID,this.nullVal)}}]),i}(m),L=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.color=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setForegroundColor(this.objectID,this.color)}}]),i}(m),C=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.color=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setBackgroundColor(this.objectID,this.color)}}]),i}(m),T=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.index=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setHighlightIndex(this.objectID,this.index)}}]),i}(m),F=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,h.newText=e,h.labelIndex=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setText(this.objectID,this.newText,this.labelIndex)}}]),i}(m),w=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,h.color=e,h.index=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setTextColor(this.objectID,this.color,this.index)}}]),i}(m),j=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).fromID=t,h.toID=e,h.highlightValue=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setEdgeHighlight(this.fromID,this.toID,this.highlightValue)}}]),i}(m),A=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).fromID=t,h.toID=e,h.thickness=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setEdgeThickness(this.fromID,this.toID,this.thickness)}}]),i}(m),S=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).fromID=t,h.toID=e,h.color=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setEdgeColor(this.fromID,this.toID,this.color)}}]),i}(m),B=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).fromID=t,h.toID=e,h.alpha=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setEdgeAlpha(this.fromID,this.toID,this.alpha)}}]),i}(m),_=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,h.x=e,h.y=s,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setNodePosition(this.objectID,this.x,this.y)}}]),i}(m),O=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.onTop=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setAlwaysOnTop(this.objectID,this.onTop)}}]),i}(m),P=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.thicknessArray=e,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.setRectangleEdgeThickness(this.objectID,this.thicknessArray)}}]),i}(m),E=function(){function t(){Object(a.a)(this,t),this.events=[]}return Object(n.a)(t,[{key:"removeListener",value:function(t,i,e){if(null!=this.events[t]){var s,h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===i){h=this.events[t][s];break}if(null!=h)for(s=0;s<h.functions.length;s++)if(h.functions[s]===e)return void h.functions.splice(s,1)}}},{key:"addListener",value:function(t,i,e){var s;void 0===this.events[t]&&(this.events[t]=[]);var h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===i){h=this.events[t][s];break}for(null===h&&(this.events[t].push({scope:i,functions:[]}),h=this.events[t][this.events[t].length-1]),s=0;s<h.functions.length;s++)if(h.functions[s]===e)return;h.functions.push(e)}},{key:"fireEvent",value:function(t,i){if(void 0!==this.events[t])for(var e=0;e<this.events[t].length;e++)for(var s=this.events[t][e],h=s.functions,a=s.scope,n=0;n<h.length;n++){h[n].call(a,i)}}}]),t}(),H=function(){function t(){Object(a.a)(this,t),this.objectID=-1,this.x=0,this.y=0,this.backgroundColor="#FFFFFF",this.foregroundColor="#000000",this.highlighted=!1,this.label="",this.labelColor="#000000",this.layer=0,this.alpha=1,this.minHeightDiff=3,this.range=5,this.highlightIndex=-1,this.highlightIndexDirty=!0,this.addedToScene=!0}return Object(n.a)(t,[{key:"setBackgroundColor",value:function(t){this.backgroundColor=t}},{key:"setNull",value:function(){}},{key:"getNull",value:function(){return!1}},{key:"setAlpha",value:function(t){this.alpha=t}},{key:"getAlpha",value:function(){return this.alpha}},{key:"setForegroundColor",value:function(t){this.foregroundColor=t,this.labelColor=t}},{key:"getHighlight",value:function(){return this.highlighted}},{key:"getWidth",value:function(){return 0}},{key:"getHeight",value:function(){return 0}},{key:"setHighlight",value:function(t,i){this.highlighted=t,this.highlightColor=i||"#ff0000"}},{key:"centerX",value:function(){return this.x}},{key:"setWidth",value:function(){throw new Error("setWidth() should be implemented in a base class")}},{key:"centerY",value:function(){return this.y}},{key:"getAlignLeftPos",value:function(t){return[t.right()+this.getWidth()/2,t.centerY()]}},{key:"getAlignRightPos",value:function(t){return[t.left()-this.getWidth()/2,t.centerY()]}},{key:"getAlignTopPos",value:function(t){return[t.centerX(),t.top()-this.getHeight()/2]}},{key:"getAlignBottomPos",value:function(t){return[t.centerX(),t.bottom()+this.getHeight()/2]}},{key:"alignLeft",value:function(t){this.y=t.centerY(),this.x=t.right()+this.getWidth()/2}},{key:"alignRight",value:function(t){this.y=t.centerY(),this.x=t.left()-this.getWidth()/2}},{key:"alignTop",value:function(t){this.x=t.centerX(),this.y=t.top()-this.getHeight()/2}},{key:"alignBottom",value:function(t){this.x=t.centerX(),this.y=t.bottom()+this.getHeight()/2}},{key:"getClosestCardinalPoint",value:function(t,i){var e,s,h,a;return t<this.left()?(e=this.left()-t,h=this.left()):t>this.right()?(e=t-this.right(),h=this.right()):(e=0,h=this.centerX()),i<this.top()?(s=this.top()-i,a=this.top()):i>this.bottom()?(s=i-this.bottom(),a=this.bottom()):(s=0,a=this.centerY()),s>e?h=this.centerX():a=this.centerY(),[h,a]}},{key:"centered",value:function(){return!1}},{key:"pulseHighlight",value:function(t){if(this.highlighted){var i=t/7,e=Math.abs(i%(2*this.range-2)-this.range+1);this.highlightDiff=e+this.minHeightDiff}}},{key:"getTailPointerAttachPos",value:function(){return[this.x,this.y]}},{key:"getHeadPointerAttachPos",value:function(){return[this.x,this.y]}},{key:"identifier",value:function(){return this.objectID}},{key:"getText",value:function(){return this.label}},{key:"getTextColor",value:function(){return this.labelColor}},{key:"setTextColor",value:function(t){this.labelColor=t}},{key:"setText",value:function(t){this.label=t}},{key:"setHighlightIndex",value:function(t){this.highlightIndex=t,this.highlightIndexDirty=!0}},{key:"getHighlightIndex",value:function(){return this.highlightIndex}}]),t}(),z=function(t){function i(t,e,s,h,n,o){var c;Object(a.a)(this,i),(c=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,c.backgroundColor=n,c.foregroundColor=o,c.widthPerElement=e,c.h=s,c.numLabels=h,c.labels=[],c.labelColors=[];for(var d=0;d<c.numLabels;d++)c.labelColors[d]=c.foregroundColor;return c}return Object(o.a)(i,t),Object(n.a)(i,[{key:"getNumElements",value:function(){return this.numLabels}},{key:"getWidth",value:function(){return this.numLabels>0?this.widthPerElement*this.numLabels:10}},{key:"setNumElements",value:function(t){if(this.numLabels<t){for(var i=this.numLabels;i<t;i++)this.labels[i]="",this.labelColors[i]=this.foregroundColor;this.numLabels=t}else if(this.numLabels>t){for(var e=t;e<this.numLabels;e++)this.labels[e]=null;this.numLabels=t}}},{key:"left",value:function(){return this.x-this.getWidth()/2}},{key:"right",value:function(){return this.x+this.getWidth()/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"draw",value:function(t){var i;i=this.left(),isNaN(i)&&(i=0);var e=this.top();this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(i-this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.getWidth()+this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.getWidth()+this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.getWidth(),e),t.lineTo(i+this.getWidth(),e+this.h),t.lineTo(i,e+this.h),t.lineTo(i,e),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.textBaseline="middle";for(var s=0;s<this.numLabels;s++){var h=this.x-this.widthPerElement*this.numLabels/2+this.widthPerElement/2+s*this.widthPerElement,a=this.y;t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],h,a)}}},{key:"getHeight",value:function(){return this.h}},{key:"setForegroundColor",value:function(t){this.foregroundColor=t;for(var i=0;i<this.numLabels;i++)this.labelColor[i]=t}},{key:"getTailPointerAttachPos",value:function(t,i,e){return 0===e?[this.left()+5,this.y]:e===this.numLabels?[this.right()-5,this.y]:[this.left()+e*this.widthPerElement,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,i){return i<this.y-this.h/2?[this.x,this.y-this.h/2]:this.fromY>this.y+this.h/2?[this.x,this.y+this.h/2]:t<this.x-this.getWidth()/2?[this.x-this.getWidth()/2,this.y]:[this.x+this.getWidth()/2,this.y]}},{key:"getTextColor",value:function(t){return t=t||0,this.labelColors[t]}},{key:"getText",value:function(t){return t=t||0,this.labels[t]}},{key:"setTextColor",value:function(t,i){i=i||0,this.labelColors[i]=t}},{key:"setText",value:function(t,i){i=i||0,this.labels[i]=t}},{key:"createUndoDelete",value:function(){return new N(this.objectID,this.numLabels,this.labels,this.x,this.y,this.widthPerElement,this.h,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}]),i}(H),N=function(t){function i(t,e,s,h,n,o,c,d,u,m,g,p,I){var f;return Object(a.a)(this,i),(f=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,f.numLabels=e,f.labels=s,f.x=h,f.y=n,f.widthPerElement=o,f.h=c,f.labelColors=d,f.backgroundColor=u,f.foregroundColor=m,f.layer=g,f.highlighted=p,f.highlightColor=I,f}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addBTreeNode(this.objectID,this.widthPerElement,this.h,this.numLabels,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y);for(var i=0;i<this.numLabels;i++)t.setText(this.objectID,this.labels[i],i),t.setTextColor(this.objectID,this.labelColors[i],i);t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),R=function(t){function i(t,e){var s;return Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,s.label=e,s.radius=20,s.thickness=3,s.highlightIndex=-1,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"getTailPointerAttachPos",value:function(t,i){return this.getHeadPointerAttachPos(t,i)}},{key:"getWidth",value:function(){return 2*this.radius}},{key:"setWidth",value:function(t){this.radius=t/2}},{key:"getHeadPointerAttachPos",value:function(t,i){var e=t-this.x,s=i-this.y,h=Math.sqrt(e*e+s*s);return 0===h?[this.x,this.y]:[this.x+e/h*this.radius,this.y+s/h*this.radius]}},{key:"setHighlightIndex",value:function(t){this.highlightIndex=t,this.highlightIndexDirty=!0}},{key:"draw",value:function(t){t.globalAlpha=this.alpha,this.highlighted&&(t.fillStyle=this.highlightColor,t.beginPath(),t.arc(this.x,this.y,this.radius+this.highlightDiff,0,2*Math.PI,!0),t.closePath(),t.fill()),t.fillStyle=this.backgroundColor,t.strokeStyle=this.foregroundColor,t.lineWidth=1.2,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,t.fillStyle=this.foregroundColor;var i=this.label.split("\n");if(1===i.length)if(this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.textWidth=t.measureText(this.label).width,this.highlightIndexDirty=!1),-1!==this.highlightIndex&&this.highlightIndex<this.label.length){var e=this.x-this.textWidth/2;t.textAlign="left";var s=this.label.substring(0,this.highlightIndex),h=this.label.substring(this.highlightIndex,this.highlightIndex+1),a=this.label.substring(this.highlightIndex+1);t.fillText(s,e,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(h,e+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(a,e+this.leftWidth+this.centerWidth,this.y)}else t.fillText(this.label,this.x,this.y);else if(i.length%2===0)for(var n=i.length/2,r=0;r<i.length/2;r++)t.fillText(i[n-r-1],this.x,this.y-12*(r+.5)),t.fillText(i[n+r],this.x,this.y+12*(r+.5));else{var l=(i.length-1)/2;t.fillText(i[l],this.x,this.y);for(var o=0;o<l;o++)t.fillText(i[l-(o+1)],this.x,this.y-12*(o+1)),t.fillText(i[l+(o+1)],this.x,this.y+12*(o+1))}}},{key:"createUndoDelete",value:function(){return new M(this.objectID,this.label,this.x,this.y,this.foregroundColor,this.backgroundColor,this.layer,this.radius,this.highlighted,this.highlightColor)}}]),i}(H),M=function(t){function i(t,e,s,h,n,o,c,d,u,m){var g;return Object(a.a)(this,i),(g=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,g.label=e,g.x=s,g.y=h,g.foregroundColor=n,g.backgroundColor=o,g.layer=c,g.radius=d,g.highlighted=u,g.highlightColor=m,g}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addCircleObject(this.objectID,this.label),t.setWidth(this.objectID,2*this.radius),t.setNodePosition(this.objectID,this.x,this.y),t.setForegroundColor(this.objectID,this.foregroundColor),t.setBackgroundColor(this.objectID,this.backgroundColor),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),V=function(t){function i(t,e,s,h,n,o,c){var d;return Object(a.a)(this,i),(d=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,d.w=s,d.h=h,d.backgroundColor=o,d.foregroundColor=c,d.highlighted=!1,d.linkPercent=n,d.nullPointer=!1,d.label=e,d.labelPosX=0,d.labelPosY=0,d.labelColor=c,d}return Object(o.a)(i,t),Object(n.a)(i,[{key:"setNull",value:function(t){this.nullPointer!==t&&(this.nullPointer=t)}},{key:"getNull",value:function(){return this.nullPointer}},{key:"left",value:function(){return this.x-this.w*(1-this.linkPercent)/2}},{key:"right",value:function(){return this.x+this.w*(this.linkPercent+1)/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"resetTextPosition",value:function(){this.labelPosX=this.x,this.labelPosY=this.y}},{key:"getTailPointerAttachPos",value:function(){return[this.x+this.w/2,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,i){return t<this.x?this.getClosestCardinalPoint(t,i):[this.x,this.bottom()]}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var i,e;t.lineWidth=2,i=this.left(),e=this.top(),this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(i-this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.lineTo(i+this.w,e+this.h),t.lineTo(i,e+this.h),t.lineTo(i,e),t.closePath(),t.stroke(),t.fill(),i=this.right()-this.w*this.linkPercent,e=this.top(),t.lineWidth=1,t.beginPath(),t.moveTo(i,e+this.h),t.lineTo(i,e),this.nullPointer&&t.lineTo(this.right(),e+this.h),t.closePath(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,t.fillText(this.label,this.labelPosX,this.labelPosY)}},{key:"setTextColor",value:function(t){this.labelColor=t}},{key:"getTextColor",value:function(){return this.labelColor}},{key:"getText",value:function(){return this.label}},{key:"setText",value:function(t){this.label=t,this.resetTextPosition()}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}},{key:"createUndoDelete",value:function(){return new X(this.objectID,this.label,this.w,this.h,this.x,this.y,this.linkPercent,this.backgroundColor,this.foregroundColor,this.labelColor,this.layer,this.nullPointer,this.highlighted,this.highlightColor)}}]),i}(H),X=function(t){function i(t,e,s,h,n,o,c,d,u,m,g,p,I,f){var b;return Object(a.a)(this,i),(b=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,b.label=e,b.w=s,b.h=h,b.x=n,b.y=o,b.linkPercent=c,b.backgroundColor=d,b.foregroundColor=u,b.labelColor=m,b.layer=g,b.nullPointer=p,b.highlighted=I,b.highlightColor=f,b}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addCircularlyLinkedListObject(this.objectID,this.label,this.w,this.h,this.linkPercent,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer),t.setTextColor(this.objectID,this.labelColor),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),K=function(t){function i(t,e,s,h,n,o,c){var d;return Object(a.a)(this,i),(d=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,d.w=s,d.h=h,d.backgroundColor=o,d.foregroundColor=c,d.highlighted=!1,d.linkPercent=n,d.prevNullPointer=!1,d.nextNullPointer=!1,d.label=e,d.labelPosX=0,d.labelPosY=0,d.labelColor=c,d}return Object(o.a)(i,t),Object(n.a)(i,[{key:"setPrevNull",value:function(t){this.prevNullPointer!==t&&(this.prevNullPointer=t)}},{key:"setNextNull",value:function(t){this.nextNullPointer!==t&&(this.nextNullPointer=t)}},{key:"getLeftNull",value:function(){return this.prevNullPointer}},{key:"getRightNull",value:function(){return this.nextNullPointer}},{key:"left",value:function(){return this.x-this.w*(1-this.linkPercent)/2}},{key:"right",value:function(){return this.x+this.w*(this.linkPercent+1)/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"resetTextPosition",value:function(){this.labelPosY=this.y,this.labelPosX=this.left()+this.w*(2*this.linkPercent)}},{key:"getTailPointerAttachPos",value:function(t,i,e){return 0===e?[this.x+this.w/2,this.y-.2*this.h]:[this.left()+this.w*this.linkPercent/2,this.y+.2*this.h]}},{key:"getHeadPointerAttachPos",value:function(t,i){var e=this.getClosestCardinalPoint(t,i);return e[1]===this.y?e[0]===this.left()?[e[0],this.y-.2*this.h]:[e[0],this.y+.2*this.h]:[e[0],e[1]]}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var i,e;t.lineWidth=2,i=this.left(),e=this.top(),this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(i-this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.lineTo(i+this.w,e+this.h),t.lineTo(i,e+this.h),t.lineTo(i,e),t.closePath(),t.stroke(),t.fill(),t.lineWidth=1,i=this.left()+this.w*this.linkPercent,e=this.top(),t.beginPath(),t.moveTo(i,e+this.h),t.lineTo(i,e),this.prevNullPointer&&(t.moveTo(this.left(),e),t.lineTo(this.left()+this.w*this.linkPercent,e+this.h)),t.closePath(),t.stroke(),i=this.right()-this.w*this.linkPercent,e=this.top(),t.beginPath(),t.moveTo(i,e+this.h),t.lineTo(i,e),this.nextNullPointer&&(t.moveTo(this.right()-this.w*this.linkPercent,e),t.lineTo(this.right(),e+this.h)),t.closePath(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,t.fillText(this.label,this.labelPosX,this.labelPosY)}},{key:"setTextColor",value:function(t){this.labelColors=t}},{key:"getTextColor",value:function(){return this.labelColors}},{key:"getText",value:function(){return this.label}},{key:"setText",value:function(t){this.label=t,this.resetTextPosition()}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}},{key:"createUndoDelete",value:function(){return new q(this.objectID,this.label,this.w,this.h,this.x,this.y,this.linkPercent,this.backgroundColor,this.foregroundColor,this.labelColor,this.layer,this.prevNullPointer,this.nextNullPointer,this.highlighted,this.highlightColor)}}]),i}(H),q=function(t){function i(t,e,s,h,n,o,c,d,u,m,g,p,I,f,b){var D;return Object(a.a)(this,i),(D=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,D.label=e,D.w=s,D.h=h,D.x=n,D.y=o,D.linkPercent=c,D.backgroundColor=d,D.foregroundColor=u,D.labelColors=m,D.layer=g,D.prevNullPointer=p,D.nextNullPointer=I,D.highlighted=f,D.highlightColor=b,D}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addDoublyLinkedListObject(this.objectID,this.label,this.w,this.h,this.linkPercent,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setPrevNull(this.objectID,this.prevNullPointer),t.setNextNull(this.objectID,this.nextNullPointer),t.setTextColor(this.objectID,this.labelColor),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),W=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,h.radius=s,h.thickness=4,h.foregroundColor=e,h.x=0,h.y=0,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"draw",value:function(t){t.globalAlpha=this.alpha,t.strokeStyle=this.foregroundColor,t.lineWidth=this.thickness,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.stroke()}},{key:"createUndoDelete",value:function(){return new G(this.objectID,this.x,this.y,this.foregroundColor,this.radius,this.layer,this.alpha,this.highlighted,this.highlightColor)}}]),i}(H),G=function(t){function i(t,e,s,h,n,o,c,d,u){var m;return Object(a.a)(this,i),(m=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,m.x=e,m.y=s,m.foregroundColor=h,m.radius=n,m.layer=o,m.alpha=c,m.highlighted=d,m.highlightColor=u,m}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addHighlightCircleObject(this.objectID,this.foregroundColor,this.radius),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setAlpha(this.objectID,this.alpha),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),Y=function(t){function i(t,e,s,h){var n;return Object(a.a)(this,i),(n=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,n.textWidth=h||0,n.label=e,n.labelColor="#000000",n.highlighted=!1,n.centered=s,n.leftWidth=-1,n.centerWidth=-1,n.highlightIndex=-1,n}return Object(o.a)(i,t),Object(n.a)(i,[{key:"centered",value:function(){return this.centered}},{key:"draw",value:function(t){if(this.addedToScene){t.globalAlpha=this.alpha,t.font="12px Arial";var i=this.x;this.highlightIndex>=this.label.length&&(this.highlightIndex=-1),this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.highlightIndexDirty=!1),this.centered?-1!==this.highlightIndex?(i=this.x-this.width/2,t.textAlign="left",t.textBaseline="middle"):(t.textAlign="center",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="top"),this.highlighted&&(t.strokeStyle="#FFAAAA",t.fillStyle="#FF0000",t.lineWidth=this.highlightDiff,t.strokeText(this.label,this.x,this.y)),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.lineWidth=2;var e=this.label.split("\n");if(1===e.length)if(-1===this.highlightIndex)t.fillText(this.label,this.x,this.y);else{var s=this.label.substring(0,this.highlightIndex),h=this.label.substring(this.highlightIndex,this.highlightIndex+1),a=this.label.substring(this.highlightIndex+1);t.fillText(s,i,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(h,i+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(a,i+this.leftWidth+this.centerWidth,this.y)}else for(var n=this.centered?(1-e.length)/2:0,r=0;r<e.length;r++)t.fillText(e[r],this.x,this.y+n+12*r);t.closePath()}}},{key:"getAlignLeftPos",value:function(t){return this.centered?[t.left()-this.textWidth/2,this.y=t.centerY()]:[t.left()-this.textWidth,t.centerY()-5]}},{key:"alignLeft",value:function(t){this.centered?(this.y=t.centerY(),this.x=t.left()-this.textWidth/2):(this.y=t.centerY()-5,this.x=t.left()-this.textWidth)}},{key:"alignRight",value:function(t){this.centered?(this.y=t.centerY(),this.x=t.right()+this.textWidth/2):(this.y=t.centerY()-5,this.x=t.right())}},{key:"getAlignRightPos",value:function(t){return this.centered?[t.right()+this.textWidth/2,t.centerY()]:[t.right(),t.centerY()-5]}},{key:"alignTop",value:function(t){this.centered?(this.y=t.top()-5,this.x=t.centerX()):(this.y=t.top()-10,this.x=t.centerX()-this.textWidth/2)}},{key:"getAlignTopPos",value:function(t){return this.centered?[t.centerX(),t.top()-5]:[t.centerX()-this.textWidth/2,t.top()-10]}},{key:"alignBottom",value:function(t){this.centered?(this.y=t.bottom()+5,this.x=t.centerX()):(this.y=t.bottom(),this.x=t.centerX()-this.textWidth/2)}},{key:"getAlignBottomPos",value:function(t){return this.centered?[t.centerX(),t.bottom()+5]:[t.centerX()-this.textWidth/2,t.bottom()]}},{key:"getWidth",value:function(){return this.textWidth}},{key:"getHeight",value:function(){return 10}},{key:"setHighlight",value:function(t){this.highlighted=t}},{key:"centerX",value:function(){return this.centered?this.x:this.x+this.textWidth}},{key:"centerY",value:function(){return this.centered?this.y:this.y+5}},{key:"top",value:function(){return this.centered?this.y-5:this.y}},{key:"bottom",value:function(){return this.centered?this.y+5:this.y+10}},{key:"right",value:function(){return this.centered?this.x+this.textWidth/2:this.x+this.textWidth}},{key:"left",value:function(){return this.centered?this.x-this.textWidth/2:this.x}},{key:"setHighlightIndex",value:function(t){-1===this.label.indexOf("\n")&&this.label.length>t?(this.highlightIndex=t,this.highlightIndexDirty=!0):this.highlightIndex=-1}},{key:"getTailPointerAttachPos",value:function(t,i){return this.getClosestCardinalPoint(t,i)}},{key:"getHeadPointerAttachPos",value:function(t,i){return this.getClosestCardinalPoint(t,i)}},{key:"setText",value:function(t,i,e){this.label=t,null!=e&&(this.textWidth=e)}},{key:"createUndoDelete",value:function(){return new U(this.objectID,this.label,this.x,this.y,this.centered,this.labelColor,this.layer,this.highlightIndex,this.highlighted,this.highlightColor)}}]),i}(H),U=function(t){function i(t,e,s,h,n,o,c,d,u,m){var g;return Object(a.a)(this,i),(g=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,g.label=e,g.x=s,g.y=h,g.centered=n,g.labelColor=o,g.layer=c,g.highlightIndex=d,g.highlighted=u,g.highlightColor=m,g}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addLabelObject(this.objectID,this.label,this.centered),t.setNodePosition(this.objectID,this.x,this.y),t.setForegroundColor(this.objectID,this.labelColor),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),Q=function(){function t(i,e,s,h,n,r,l,o){Object(a.a)(this,t),this.fromID=i,this.toID=e,this.foregroundColor=s,this.edgeLabel=r,this.highlighted=!1,this.highlightDiff=0,this.dirty=!1,this.directed=n,this.anchorPoint=l,this.alpha=1,this.thickness=o,this.arrowHeight=8,this.arrowWidth=4,this.curve=h}return Object(n.a)(t,[{key:"color",value:function(){return this.foregroundColor}},{key:"setColor",value:function(t){this.foregroundColor=t,this.dirty=!0}},{key:"setHighlight",value:function(t,i){this.highlighted=t,this.highlightColor=i||"#FF0000"}},{key:"setThickness",value:function(t){this.thickness=t}},{key:"pulseHighlight",value:function(t){if(this.highlighted){var i=t/14,e=Math.abs(i%4-3+1);this.highlightDiff=e+this.thickness+3,this.dirty=!0}}},{key:"hasNode",value:function(t){return this.fromID===t||this.toID===t}},{key:"sign",value:function(t){return t>0?1:-1}},{key:"drawArrow",value:function(t,i,e){e.strokeStyle=i,e.fillStyle=i,e.lineWidth=t;var s=this.fromID.getTailPointerAttachPos(this.toID.x,this.toID.y,this.anchorPoint),h=this.toID.getHeadPointerAttachPos(this.fromID.x,this.fromID.y),a=h[0]-s[0],n=h[1]-s[1],r=a/2+s[0],l=n/2+s[1],o=r-n*this.curve,c=l+a*this.curve;e.beginPath(),e.moveTo(s[0],s[1]),e.quadraticCurveTo(o,c,h[0],h[1]),e.stroke();var d=.25*s[0]+.5*o+.25*h[0],u=.25*s[1]+.5*c+.25*h[1],m=Math.sqrt(n*n+a*a);if(0!==m&&(d+=-n*this.sign(this.curve)/m*10,u+=a*this.sign(this.curve)/m*10),e.textAlign="center",e.font="12px Arial",e.textBaseline="middle",e.fillText(this.edgeLabel,d,u),this.directed){var g=o-h[0],p=c-h[1],I=Math.sqrt(g*g+p*p);I>0&&(g/=I,p/=I,e.beginPath(),e.moveTo(h[0],h[1]),e.lineTo(h[0]+g*this.arrowHeight-p*this.arrowWidth,h[1]+p*this.arrowHeight+g*this.arrowWidth),e.lineTo(h[0]+g*this.arrowHeight+p*this.arrowWidth,h[1]+p*this.arrowHeight-g*this.arrowWidth),e.lineTo(h[0],h[1]),e.closePath(),e.stroke(),e.fill())}}},{key:"draw",value:function(t){t.globalAlpha=this.alpha,this.highlighted&&this.drawArrow(this.highlightDiff,this.highlightColor,t),this.drawArrow(this.thickness,this.foregroundColor,t)}},{key:"createUndoConnect",value:function(){return new J(this.fromID.objectID,this.toID.objectID,!0,this.foregroundColor,this.curve,this.directed,this.edgeLabel,this.anchorPoint,this.thickness,this.highlighted)}}]),t}(),J=function(){function t(i,e,s,h,n,r,l,o,c,d){Object(a.a)(this,t),this.fromID=i,this.toID=e,this.createConnection=s,this.color=h,this.curve=n,this.directed=r,this.edgeLabel=l,this.anchorPoint=o,this.thickness=c,this.highlighted=d}return Object(n.a)(t,[{key:"undoInitialStep",value:function(t){this.createConnection?(t.connectEdge(this.fromID,this.toID,this.color,this.curve,this.directed,this.edgeLabel,this.anchorPoint,this.thickness),t.setEdgeHighlight(this.fromID,this.toID,this.highlighted)):t.disconnect(this.fromID,this.toID)}},{key:"addUndoAnimation",value:function(){return!1}}]),t}(),Z=function(t){function i(t,e,s,h,n,o,c,d,u){var m;return Object(a.a)(this,i),(m=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,m.w=s,m.h=h,m.backgroundColor=d,m.foregroundColor=u,m.highlighted=!1,m.vertical=o,m.linkPosEnd=c,m.linkPercent=n,m.nullPointer=!1,m.labels=e,m.labelPosX=[0],m.labelPosY=[0],m.labelColors=[u],m}return Object(o.a)(i,t),Object(n.a)(i,[{key:"left",value:function(){return this.vertical?this.x-this.w/2:this.linkPosEnd?this.x-this.w*(1-this.linkPercent)/2:this.x-this.w*(this.linkPercent+1)/2}},{key:"setNull",value:function(t){this.nullPointer!==t&&(this.nullPointer=t)}},{key:"getNull",value:function(){return this.nullPointer}},{key:"right",value:function(){return this.vertical?this.x+this.w/2:this.linkPosEnd?this.x+this.w*(this.linkPercent+1)/2:this.x+this.w*(1-this.linkPercent)/2}},{key:"top",value:function(){return this.vertical?this.linkPosEnd?this.y-this.h*(1-this.linkPercent)/2:this.y-this.h*(1+this.linkPercent)/2:this.y-this.h/2}},{key:"bottom",value:function(){return this.vertical?this.linkPosEnd?this.y+this.h*(1+this.linkPercent)/2:this.y+this.h*(1-this.linkPercent)/2:this.y+this.h/2}},{key:"getTailPointerAttachPos",value:function(t,i,e){return this.vertical&&this.linkPosEnd?[this.x,this.y+this.h/2]:this.vertical&&!this.linkPosEnd?[this.x,this.y-this.h/2]:!this.vertical&&this.linkPosEnd?[this.x+this.w/2,this.y]:[this.x-this.w/2,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,i){return this.getClosestCardinalPoint(t,i)}},{key:"setWidth",value:function(t){this.w=t}},{key:"setHeight",value:function(t){this.h=t}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var i,e;if(t.lineWidth=2,i=this.left(),e=this.top(),this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(i-this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.lineTo(i+this.w,e+this.h),t.lineTo(i,e+this.h),t.lineTo(i,e),t.closePath(),t.stroke(),t.fill(),this.vertical){i=this.left();for(var s=1;s<this.labels.length;s++)e=this.y+this.h*(1-this.linkPercent)*(s/this.labels.length-.5),t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.closePath(),t.stroke()}else{e=this.top();for(var h=1;h<this.labels.length;h++)i=this.x+this.w*(1-this.linkPercent)*(h/this.labels.length-.5),t.beginPath(),t.moveTo(i,e),t.lineTo(i,e+this.h),t.closePath(),t.stroke()}if(t.lineWidth=1,this.vertical&&this.linkPosEnd?(i=this.left(),e=this.bottom()-this.h*this.linkPercent,t.beginPath(),t.moveTo(i+this.w,e),t.lineTo(i,e),this.nullPointer&&t.lineTo(this.startX+this.w,this.bottom()),t.closePath(),t.stroke()):this.vertical&&!this.linkPosEnd?(i=this.left(),e=this.top()+this.h*this.linkPercent,t.beginPath(),t.moveTo(i+this.w,e),t.lineTo(i,e),this.nullPointer&&t.lineTo(i+this.w,this.top()),t.closePath(),t.stroke()):!this.vertical&&this.linkPosEnd?(i=this.right()-this.w*this.linkPercent,e=this.top(),t.beginPath(),t.moveTo(i,e+this.h),t.lineTo(i,e),this.nullPointer&&t.lineTo(this.right(),e+this.h),t.closePath(),t.stroke()):(i=this.left()+this.w*this.linkPercent,e=this.top(),t.beginPath(),t.moveTo(i,e+this.h),t.lineTo(i,e),this.nullPointer&&t.lineTo(this.left(),e),t.closePath(),t.stroke()),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.vertical){this.labelPosX[0]=this.x,this.labelPosY[0]=this.y+this.h*(1-this.linkPercent)/2*(1/this.labels.length-1);for(var a=1;a<this.labels.length;a++)this.labelPosX[a]=this.x,this.labelPosY[a]=this.labelPosY[a-1]+this.h*(1-this.linkPercent)/this.labels.length}else{this.labelPosY[0]=this.y,this.labelPosX[0]=this.x+this.w*(1-this.linkPercent)/2*(1/this.labels.length-1);for(var n=1;n<this.labels.length;n++)this.labelPosY[n]=this.y,this.labelPosX[n]=this.labelPosX[n-1]+this.w*(1-this.linkPercent)/this.labels.length}for(var r=0;r<this.labels.length;r++)t.fillStyle=this.labelColors[r],t.fillText(this.labels[r],this.labelPosX[r],this.labelPosY[r])}},{key:"setTextColor",value:function(t,i){this.labelColors[i]=t}},{key:"getTextColor",value:function(t){return this.labelColors[t]}},{key:"getText",value:function(t){return this.labels[t]}},{key:"setText",value:function(t,i){this.labels[i]=t}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}},{key:"createUndoDelete",value:function(){return new $(this.objectID,this.labels,this.w,this.h,this.x,this.y,this.linkPercent,this.vertical,this.linkPosEnd,this.backgroundColor,this.foregroundColor,this.labelColors,this.layer,this.nullPointer,this.highlighted,this.highlightColor)}}]),i}(H),$=function(t){function i(t,e,s,h,n,o,c,d,u,m,g,p,I,f,b,D){var v;return Object(a.a)(this,i),(v=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,v.labels=e,v.w=s,v.h=h,v.x=n,v.y=o,v.linkPercent=c,v.vertical=d,v.linkPosEnd=u,v.backgroundColor=m,v.foregroundColor=g,v.labelColors=p,v.layer=I,v.nullPointer=f,v.highlighted=b,v.highlightColor=D,v}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addLinkedListObject(this.objectID,this.labels,this.w,this.h,this.linkPercent,this.vertical,this.linkPosEnd,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer);for(var i=0;i<this.labels.length;i++)t.setTextColor(this.objectID,this.labelColors[i],i);t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),tt=function(t){function i(t,e,s,h,n,o,c,d){var u;return Object(a.a)(this,i),(u=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,u.w=s,u.h=h,u.xJustify=n,u.yJustify=o,u.backgroundColor=c,u.foregroundColor=d,u.textColor=d,u.highlighted=!1,u.thicknessArray=[!1,!1,!1,!1],u.label=e,u.nullPointer=!1,u}return Object(o.a)(i,t),Object(n.a)(i,[{key:"setNull",value:function(t){this.nullPointer=t}},{key:"getNull",value:function(){return this.nullPointer}},{key:"left",value:function(){return"left"===this.xJustify?this.x:"center"===this.xJustify?this.x-this.w/2:this.x-this.w}},{key:"centerX",value:function(){return"center"===this.xJustify?this.x:"left"===this.xJustify?this.x+this.w/2:this.x-this.w/2}},{key:"centerY",value:function(){return"center"===this.yJustify?this.y:"top"===this.yJustify?this.y+this.h/2:this.y-this.w/2}},{key:"top",value:function(){return"top"===this.yJustify?this.y:"center"===this.yJustify?this.y-this.h/2:this.y-this.h}},{key:"bottom",value:function(){return"top"===this.yJustify?this.y+this.h:"center"===this.yJustify?this.y+this.h/2:this.y}},{key:"right",value:function(){return"left"===this.xJustify?this.x+this.w:"center"===this.xJustify?this.x+this.w/2:this.x}},{key:"getHeadPointerAttachPos",value:function(t,i){return this.getClosestCardinalPoint(t,i)}},{key:"getTailPointerAttachPos",value:function(t,i,e){switch(e){case 0:return this.getClosestCardinalPoint(t,i);case 1:return[this.x,this.top()];case 2:return[this.x,this.bottom()];case 3:return[this.left(),this.y];case 4:return[this.right(),this.y];default:return null}}},{key:"setWidth",value:function(t){this.w=t}},{key:"setHeight",value:function(t){this.h=t}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var i,e;this.addedToScene&&(t.globalAlpha=this.alpha,t.lineWidth=2,"left"===this.xJustify?i=this.x:"center"===this.xJustify?i=this.x-this.w/2:"right"===this.xJustify&&(i=this.x-this.w),"top"===this.yJustify?e=this.y:"center"===this.yJustify?e=this.y-this.h/2:"bottom"===this.yJustify&&(e=this.y-this.h),t.lineWidth=2,this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(i-this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.lineTo(i+this.w,e+this.h),t.lineTo(i,e+this.h),t.lineTo(i,e),t.closePath(),t.stroke(),t.fill(),this.thicknessArray[0]&&(t.lineWidth=3,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.stroke(),t.closePath()),this.thicknessArray[1]&&(t.lineWidth=3,t.beginPath(),t.moveTo(i+this.w,e),t.lineTo(i+this.w,e+this.h),t.stroke(),t.closePath()),this.thicknessArray[2]&&(t.lineWidth=3,t.beginPath(),t.moveTo(i+this.w,e+this.h),t.lineTo(i,e+this.h),t.stroke(),t.closePath()),this.thicknessArray[3]&&(t.lineWidth=3,t.beginPath(),t.moveTo(i,e+this.h),t.lineTo(i,e),t.stroke(),t.closePath()),t.lineWidth=1.2,this.nullPointer&&(t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e+this.h),t.closePath(),t.stroke()),t.fillStyle=this.textColor,t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,t.fillText(this.label,this.x,this.y))}},{key:"setText",value:function(t){this.label=t}},{key:"setTextColor",value:function(t){this.textColor=t}},{key:"getTextColor",value:function(){return this.textColor}},{key:"setHighlight",value:function(t){this.highlighted=t}},{key:"setEdgeThickness",value:function(t){this.thicknessArray=t}},{key:"getEdgeThickness",value:function(){return this.thicknessArray}},{key:"createUndoDelete",value:function(){return new it(this.objectID,this.label,this.x,this.y,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}]),i}(H),it=function(t){function i(t,e,s,h,n,o,c,d,u,m,g,p,I){var f;return Object(a.a)(this,i),(f=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,f.label=e,f.x=s,f.y=h,f.w=n,f.h=o,f.xJustify=c,f.yJustify=d,f.backgroundColor=u,f.foregroundColor=m,f.layer=g,f.highlighted=p,f.highlightColor=I,f}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addRectangleObject(this.objectID,this.label,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),et=function(t){function i(t,e,s,h,n,o){var c;return Object(a.a)(this,i),(c=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,c.w=s,c.h=h,c.backgroundColor=n,c.foregroundColor=o,c.highlighted=!1,c.label=e,c.labelPosX=0,c.labelPosY=0,c.labelColor=o,c}return Object(o.a)(i,t),Object(n.a)(i,[{key:"left",value:function(){return this.x-this.w/2}},{key:"right",value:function(){return this.x+this.w/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"resetTextPosition",value:function(){this.labelPosY=this.y,this.labelPosX=this.x}},{key:"getTailPointerAttachPos",value:function(t,i,e){switch(e){case 0:return[this.x,this.top()];case 1:return[this.x,this.bottom()];case 2:return[this.left(),this.y];case 3:return[this.right(),this.y];default:return this.getClosestCardinalPoint(t,i)}}},{key:"getHeadPointerAttachPos",value:function(t,i){return this.getClosestCardinalPoint(t,i)}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var i=this.left(),e=this.top();this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(i-this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e-this.highlightDiff),t.lineTo(i+this.w+this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e+this.h+this.highlightDiff),t.lineTo(i-this.highlightDiff,e-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.w,e),t.lineTo(i+this.w,e+this.h),t.lineTo(i,e+this.h),t.lineTo(i,e),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,"\u2212\u221e"!==this.label&&"\u221e"!==this.label||(t.font="18px sans-serif"),t.fillText(this.label,this.labelPosX,this.labelPosY)}},{key:"setTextColor",value:function(t){this.labelColor=t}},{key:"getTextColor",value:function(){return this.labelColor}},{key:"getText",value:function(){return this.label}},{key:"setText",value:function(t){this.label=t,this.resetTextPosition()}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}},{key:"createUndoDelete",value:function(){return new st(this.objectID,this.label,this.w,this.h,this.x,this.y,this.labelColor,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}]),i}(H),st=function(t){function i(t,e,s,h,n,o,c,d,u,m,g,p){var I;return Object(a.a)(this,i),(I=Object(r.a)(this,Object(l.a)(i).call(this))).objectID=t,I.label=e,I.w=s,I.h=h,I.x=n,I.y=o,I.labelColor=c,I.backgroundColor=d,I.foregroundColor=u,I.layer=m,I.highlighted=g,I.highlightColor=p,I}return Object(o.a)(i,t),Object(n.a)(i,[{key:"undoInitialStep",value:function(t){t.addSkipListObject(this.objectID,this.label,this.w,this.h,this.backgroundColor,this.foregroundColor),t.setTextColor(this.objectID,this.labelColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}]),i}(m),ht=function(){function t(i){Object(a.a)(this,t),this.nodes=[],this.edges=[],this.backEdges=[],this.activeLayers=[],this.activeLayers[0]=!0,this.ctx=i.current.getContext("2d"),this.framenum=0,this.width=0,this.height=0,this.statusReport=new Y(-1,"XXX",!1,30),this.statusReport.x=30}return Object(n.a)(t,[{key:"draw",value:function(){var t,i;for(this.framenum++,this.framenum>1e3&&(this.framenum=0),this.ctx.clearRect(0,0,this.width,this.height),this.statusReport.y=this.height-15,t=0;t<this.nodes.length;t++)null==this.nodes[t]||this.nodes[t].highlighted||!this.nodes[t].addedToScene||this.nodes[t].alwaysOnTop||this.nodes[t].draw(this.ctx);for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&this.nodes[t].highlighted&&!this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&(this.nodes[t].pulseHighlight(this.framenum),this.nodes[t].draw(this.ctx));for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&!this.nodes[t].highlighted&&this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&this.nodes[t].draw(this.ctx);for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&this.nodes[t].highlighted&&this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&(this.nodes[t].pulseHighlight(this.framenum),this.nodes[t].draw(this.ctx));for(t=0;t<this.edges.length;t++)if(null!=this.edges[t])for(i=0;i<this.edges[t].length;i++)this.edges[t][i].addedToScene&&(this.edges[t][i].pulseHighlight(this.framenum),this.edges[t][i].draw(this.ctx));this.statusReport.draw(this.ctx)}},{key:"update",value:function(){}},{key:"setLayers",value:function(t,i){for(var e=0;e<i.length;e++)this.activeLayers[i[e]]=t;this.resetLayers()}},{key:"addHighlightCircleObject",value:function(t,i,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addHighlightCircleObject: object with same ID ("+String(t)+") already exists!");var s=new W(t,i,e);this.nodes[t]=s}},{key:"setEdgeAlpha",value:function(t,i,e){var s=1;if(null!=this.edges[t]&&void 0!==this.edges[t])for(var h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[i]&&(s=this.edges[t][h].alpha,this.edges[t][h].alpha=e);return s}},{key:"setAlpha",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setAlpha(i)}},{key:"getAlpha",value:function(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]?this.nodes[t].getAlpha():-1}},{key:"getTextColor",value:function(t,i){return null!=this.nodes[t]&&void 0!==this.nodes[t]?this.nodes[t].getTextColor(i):"#000000"}},{key:"setTextColor",value:function(t,i,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setTextColor(i,e)}},{key:"setHighlightIndex",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHighlightIndex(i)}},{key:"setAllLayers",value:function(t){this.activeLayers=[];for(var i=0;i<t.length;i++)this.activeLayers[t[i]]=!0;this.resetLayers()}},{key:"resetLayers",value:function(){var t;for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&void 0!==this.nodes[t]&&(this.nodes[t].addedToScene=!0===this.activeLayers[this.nodes[t].layer]);for(t=this.edges.length-1;t>=0;t--)if(null!=this.edges[t]&&void 0!==this.edges[t])for(var i=0;i<this.edges[t].length;i++)null!=this.edges[t][i]&&void 0!==this.edges[t][i]&&(this.edges[t][i].addedToScene=!0===this.activeLayers[this.edges[t][i].fromID.layer]&&!0===this.activeLayers[this.edges[t][i].toID.layer])}},{key:"setLayer",value:function(t,i){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){if(this.nodes[t].layer=i,this.activeLayers[i]?this.nodes[t].addedToScene=!0:this.nodes[t].addedToScene=!1,null!=this.edges[t]&&void 0!==this.edges[t])for(var e=0;e<this.edges[t].length;e++){var s=this.edges[t][e];null!=s&&void 0!==s&&(s.addedToScene=s.fromID.addedToScene&&s.toID.addedToScene)}if(null!=this.backEdges[t]&&void 0!==this.backEdges[t])for(var h=0;h<this.backEdges[t].length;h++){var a=this.backEdges[t][h];null!=a&&void 0!==a&&(a.addedToScene=a.fromID.addedToScene&&a.toID.addedToScene)}}}},{key:"clearAllObjects",value:function(){this.nodes=[],this.edges=[],this.backEdges=[]}},{key:"setForegroundColor",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setForegroundColor(i)}},{key:"setBackgroundColor",value:function(t,i){null!=this.nodes[t]&&this.nodes[t].setBackgroundColor(i)}},{key:"setHighlight",value:function(t,i,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHighlight(i,e)}},{key:"getHighlight",value:function(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getHighlight()}},{key:"getHighlightIndex",value:function(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getHighlightIndex()}},{key:"setWidth",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setWidth(i)}},{key:"setHeight",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHeight(i)}},{key:"getHeight",value:function(t){return null==this.nodes[t]||void 0===this.nodes[t]?-1:this.nodes[t].getHeight()}},{key:"getWidth",value:function(t){return null==this.nodes[t]||void 0===this.nodes[t]?-1:this.nodes[t].getWidth()}},{key:"backgroundColor",value:function(t){return null!=this.nodes[t]?this.nodes[t].backgroundColor:"#000000"}},{key:"foregroundColor",value:function(t){return null!=this.nodes[t]?this.nodes[t].foregroundColor:"#000000"}},{key:"disconnect",value:function(t,i){var e,s=null;if(null!=this.edges[t])for(var h=(e=this.edges[t].length)-1;h>=0;h--)null!=this.edges[t][h]&&this.edges[t][h].toID===this.nodes[i]&&(s=this.edges[t][h].createUndoConnect(),this.edges[t][h]=this.edges[t][e-1],e-=1,this.edges[t].pop());if(null!=this.backEdges[i])for(var a=(e=this.backEdges[i].length)-1;a>=0;a--)null!=this.backEdges[i][a]&&this.backEdges[i][a].fromID===this.nodes[t]&&(this.backEdges[i][a],this.backEdges[i][a]=this.backEdges[i][e-1],e-=1,this.backEdges[i].pop());return s}},{key:"deleteIncident",value:function(t){var i,e=[];if(null!=this.edges[t]){for(var s=this.edges[t].length-1;s>=0;s--){var h=(i=this.edges[t][s]).toID.identifier();e.push(i.createUndoConnect());for(var a=this.backEdges[h].length,n=a-1;n>=0;n--)this.backEdges[h][n]===i&&(this.backEdges[h][n]=this.backEdges[h][a-1],a-=1,this.backEdges[h].pop())}this.edges[t]=null}if(null!=this.backEdges[t]){for(var r=this.backEdges[t].length-1;r>=0;r--){var l=(i=this.backEdges[t][r]).fromID.identifier();e.push(i.createUndoConnect());for(var o=this.edges[l].length,c=o-1;c>=0;c--)this.edges[l][c]===i&&(this.edges[l][c]=this.edges[l][o-1],o-=1,this.edges[l].pop())}this.backEdges[t]=null}return e}},{key:"removeObject",value:function(t){var i=this.nodes[t];return t===this.nodes.length-1?this.nodes.pop():this.nodes[t]=null,i}},{key:"getObject",value:function(t){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getObject:Object with ID ("+String(t)+") does not exist");return this.nodes[t]}},{key:"addCircleObject",value:function(t,i){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addCircleObject: object with same ID ("+String(t)+") already exists!");var e=new R(t,i);this.nodes[t]=e}},{key:"getNodeX",value:function(t){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("Getting x position of an object that does not exist");return this.nodes[t].x}},{key:"getTextWidth",value:function(t){this.ctx.font="12px Arial";var i=t.split("\n"),e=0;if(1===i.length)e=this.ctx.measureText(t).width;else for(var s=0;s<i.length;s++)e=Math.max(e,this.ctx.measureText(i[s]).width);return e}},{key:"setText",value:function(t,i,e){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("setting text of an object that does not exist");this.nodes[t].setText(i,e,this.getTextWidth(i))}},{key:"getText",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getting text of an object that does not exist");return this.nodes[t].getText(i)}},{key:"getNodeY",value:function(t){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getting y position of an object that does not exist");return this.nodes[t].y}},{key:"connectEdge",value:function(t,i,e,s,h,a,n,r){var l=this.nodes[t],o=this.nodes[i];if(null==l||null==o)throw new Error("Tried to connect two nodes, one didn't exist!");var c=new Q(l,o,e,s,h,a,n,r);null==this.edges[t]&&(this.edges[t]=[]),null==this.backEdges[i]&&(this.backEdges[i]=[]),c.addedToScene=l.addedToScene&&o.addedToScene,this.edges[t].push(c),this.backEdges[i].push(c)}},{key:"setNull",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setNull(i)}},{key:"setPrevNull",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setPrevNull(i)}},{key:"setNextNull",value:function(t,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setNextNull(i)}},{key:"getNull",value:function(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getNull()}},{key:"getLeftNull",value:function(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getLeftNull()}},{key:"getRightNull",value:function(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getRightNull()}},{key:"setEdgeColor",value:function(t,i,e){var s="#000000";if(null!=this.edges[t]&&void 0!==this.edges[t])for(var h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[i]&&(s=this.edges[t][h].color(),this.edges[t][h].setColor(e));return s}},{key:"alignTop",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[i]||void 0===this.nodes[i])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(i));this.nodes[t].alignTop(this.nodes[i])}},{key:"alignLeft",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[i]||void 0===this.nodes[i])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(i));this.nodes[t].alignLeft(this.nodes[i])}},{key:"alignRight",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[i]||void 0===this.nodes[i])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(i));this.nodes[t].alignRight(this.nodes[i])}},{key:"getAlignRightPos",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[i]||void 0===this.nodes[i])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(i));return this.nodes[t].getAlignRightPos(this.nodes[i])}},{key:"getAlignLeftPos",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[i]||void 0===this.nodes[i])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(i));return this.nodes[t].getAlignLeftPos(this.nodes[i])}},{key:"alignBottom",value:function(t,i){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[i]||void 0===this.nodes[i])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(i));this.nodes[t].alignBottom(this.nodes[i])}},{key:"setAlwaysOnTop",value:function(t,i){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){var e=this.nodes[t].alwaysOnTop;return this.nodes[t].alwaysOnTop=i,e}throw new Error("Trying to bring node that doesn't exist to top")}},{key:"setEdgeHighlight",value:function(t,i,e,s){var h=!1;if(null!=this.edges[t]&&void 0!==this.edges[t])for(var a=this.edges[t].length-1;a>=0;a--)null!=this.edges[t][a]&&void 0!==this.edges[t][a]&&this.edges[t][a].toID===this.nodes[i]&&(h=this.edges[t][a].highlighted,this.edges[t][a].setHighlight(e,s));return h}},{key:"setEdgeThickness",value:function(t,i,e){var s=1;if(null!=this.edges[t]&&void 0!==this.edges[t])for(var h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[i]&&(s=this.edges[t][h].thickness,this.edges[t][h].setThickness(e));return s}},{key:"setRectangleEdgeThickness",value:function(t,i){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){var e=this.nodes[t].getEdgeThickness();return this.nodes[t].setEdgeThickness(i),e}throw new Error("Trying to bring node that doesn't exist to top")}},{key:"addLabelObject",value:function(t,i,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addLabelObject: object already exists!");var s=new Y(t,i,e,this.getTextWidth(i));this.nodes[t]=s}},{key:"addLinkedListObject",value:function(t,i,e,s,h,a,n,r,l){if(null!=this.nodes[t])throw new Error("addLinkedListObject: object with same ID already exists!");var o=new Z(t,i,e,s,h,a,n,r,l);this.nodes[t]=o}},{key:"addDoublyLinkedListObject",value:function(t,i,e,s,h,a,n){if(null!=this.nodes[t])throw new Error("addDoublyLinkedListObject: object with same ID already exists!");var r=new K(t,i,e,s,h,a,n);this.nodes[t]=r}},{key:"addCircularlyLinkedListObject",value:function(t,i,e,s,h,a,n){if(null!=this.nodes[t])throw new Error("addCircularlyLinkedListObject: object with same ID already exists!");var r=new V(t,i,e,s,h,a,n);this.nodes[t]=r}},{key:"addSkipListObject",value:function(t,i,e,s,h,a){if(null!=this.nodes[t])throw new Error("addSkipListObject: object with same ID already exists!");var n=new et(t,i,e,s,h,a);this.nodes[t]=n}},{key:"getNumElements",value:function(t){return this.nodes[t].getNumElements()}},{key:"setNumElements",value:function(t,i){this.nodes[t].setNumElements(i)}},{key:"addBTreeNode",value:function(t,i,e,s,h,a){if(h=void 0===h?"#FFFFFF":h,a=void 0===a?"#FFFFFF":a,null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addBTreeNode: object with same ID already exists!");var n=new z(t,i,e,s,h,a);this.nodes[t]=n}},{key:"addRectangleObject",value:function(t,i,e,s,h,a,n,r){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addRectangleObject: object with same ID already exists!");var l=new tt(t,i,e,s,h,a,n,r);this.nodes[t]=l}},{key:"setNodePosition",value:function(t,i,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&void 0!==i&&void 0!==e&&(this.nodes[t].x=i,this.nodes[t].y=e)}}]),t}(),at=e(0),nt=e.n(at),rt=e(17),lt=e.n(rt),ot=e(56);function ct(t){var i,e,s,h=document.cookie.split(";");for(i=0;i<h.length;i++)if(e=h[i].substr(0,h[i].indexOf("=")),s=h[i].substr(h[i].indexOf("=")+1),(e=e.replace(/^\s+|\s+$/g,""))===t)return unescape(s)}function dt(t,i,e){var s=new Date;s.setDate(s.getDate()+e),document.cookie=t+"="+i}var ut=75;function mt(t,i,e,s){var h=document.createElement("input");h.setAttribute("type",i),h.setAttribute("value",e),"Button"===i?h.onclick=s:"Text"===i&&(h.onkeydown=s);var a=document.createElement("td");return a.appendChild(h),t.current.appendChild(a),h}function gt(t){var i=document.createElement("td");i.setAttribute("class","divisorLeft");var e=document.createElement("td");e.setAttribute("class","divisorRight"),t.current.appendChild(i),t.current.appendChild(e)}var pt=function(t){function i(t,e){var s;Object(a.a)(this,i),(s=Object(r.a)(this,Object(l.a)(i).call(this))).objectManager=new ht(t),s.animatedObjects=s.objectManager,s.animationPaused=!1,s.awaitingStep=!1,s.currentlyAnimating=!1,s.animationSteps=[],s.currentAnimation=0,s.previousAnimationSteps=[],s.currFrame=0,s.animationBlockLength=0,s.currentBlock=null,s.undoStack=[],s.doingUndo=!1,s.undoAnimationStepIndices=[],s.undoAnimationStepIndicesStack=[],s.animationBlockLength=10,s.paused=!1,s.canvas=t,s.skipBackButton=mt(e,"Button","Skip Back",(function(){return s.skipBack()})),s.stepBackButton=mt(e,"Button","Step Back",(function(){return s.stepBack()})),s.playPauseBackButton=mt(e,"Button","Pause",(function(){return s.doPlayPause()})),s.playPauseBackButton.setAttribute("style","width: 80px"),s.stepForwardButton=mt(e,"Button","Step Forward",(function(){return s.step()})),s.skipForwardButton=mt(e,"Button","Skip Forward",(function(){return s.skipForward()})),gt(e);var h=document.createElement("div");h.setAttribute("display","inline-block"),h.setAttribute("float","left");var n=ct("VisualizationSpeed");n=null==n||""===n?ut:parseInt(n);var o=nt.a.createElement(ot.a,{defaultValue:n,onChange:function(t,i){s.setSpeed(i),dt("VisualizationSpeed",String(i),30)}}),c=document.createElement("td"),u=document.getElementById("GeneralAnimationControls"),m=document.createElement("table"),g=document.createElement("tr"),p=document.createElement("td");g.appendChild(p),lt.a.render(o,p),m.appendChild(g),g=document.createElement("tr"),(p=document.createElement("td")).align="center";var I=document.createTextNode("Animation Speed");g.appendChild(p),p.appendChild(I),m.appendChild(g),c.appendChild(m),u.appendChild(c),s.setSpeed(n),h.setAttribute("style","width:200px"),gt(e);var f=ct("VisualizationWidth");f=null==f||""===f?1500:parseInt(f);var b=ct("VisualizationHeight");return b=null==b||""===b?505:parseInt(b),canvas.width=f,canvas.height=b,c=document.createElement("td"),I=document.createTextNode("h:"),c.appendChild(I),u.appendChild(c),s.heightEntry=mt(e,"Text",canvas.height,(function(){return t=s.heightEntry,i=function(){return s.changeSize(document.documentElement.clientWidth,parseInt(s.heightEntry.value))},h=!0,void 0!==(e=4)&&(t.size=e),function(s){var a=0;return window.event?a=s.keyCode:s.which&&(a=s.which),13===a?(i(),!1):59!==a&&45!==a&&46!==a&&190!==a&&173!==a&&!((void 0!==e&&t.value.length>=e||h&&(a<48||a>57))&&!function(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}(a))};var t,i,e,h})),s.heightEntry.size=4,s.sizeButton=mt(e,"Button","Change Canvas Size",(function(){return s.changeSize()})),s.addListener("AnimationStarted",Object(d.a)(s),s.animStarted),s.addListener("AnimationEnded",Object(d.a)(s),s.animEnded),s.addListener("AnimationWaiting",Object(d.a)(s),s.animWaiting),s.addListener("AnimationUndoUnavailable",Object(d.a)(s),s.animUndoUnavailable),s.objectManager.width=canvas.width,s.objectManager.height=canvas.height,s}return Object(o.a)(i,t),Object(n.a)(i,[{key:"lerp",value:function(t,i,e){return(i-t)*e+t}},{key:"setPaused",value:function(t){this.animationPaused=t,this.animationPaused||this.step()}},{key:"parseBool",value:function(t){var i=t.toUpperCase();return!("False"===i||"f"===i||" 0"===i||"0"===i||""===i)}},{key:"parseColor",value:function(t){return"#"===t.charAt(0)?t:"0x"===t.substring(0,2)?"#"+t.substring(2):void 0}},{key:"setSpeed",value:function(t){this.animationBlockLength=Math.floor((100-t)/2)}},{key:"changeSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement.clientWidth,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:parseInt(this.heightEntry.value);t>100&&(canvas.width=t,this.animatedObjects.width=t,dt("VisualizationWidth",String(t),30)),i>100&&(canvas.height=i,this.animatedObjects.height=i,dt("VisualizationHeight",String(i),30)),this.heightEntry.value=canvas.height,this.animatedObjects.draw(),this.fireEvent("CanvasSizeChanged",{width:canvas.width,height:canvas.height})}},{key:"startNextBlock",value:function(){if(this.awaitingStep=!1,this.currentBlock=[],this.undoBlock=[],this.currentAnimation===this.animationSteps.length)return this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),void this.animatedObjects.draw();for(this.undoAnimationStepIndices.push(this.currentAnimation),this.foundBreak=!1,this.anyAnimations=!1;this.currentAnimation<this.animationSteps.length&&!this.foundBreak;){var t=Object(c.a)(this.animationSteps[this.currentAnimation],2),i=t[0],e=t[1];i.call(this,e),this.currentAnimation++}this.currFrame=0,(!this.anyAnimations&&this.animationPaused||!this.anyAnimations&&this.currentAnimation===this.animationSteps.length)&&(this.currFrame=this.animationBlockLength),this.undoStack.push(this.undoBlock)}},{key:"startNewAnimation",value:function(t){this.stopTimer(),null!==this.animationSteps&&(this.previousAnimationSteps.push(this.animationSteps),this.undoAnimationStepIndicesStack.push(this.undoAnimationStepIndices)),void 0===t||0===t.length?this.animationSteps=[[It.step,[]]]:this.animationSteps=t,this.undoAnimationStepIndices=[],this.currentAnimation=0,this.startNextBlock(),this.currentlyAnimating=!0,this.fireEvent("AnimationStarted","NoData"),this.startTimer()}},{key:"stepBack",value:function(){this.awaitingStep&&null!==this.undoStack&&0!==this.undoStack.length?(this.fireEvent("AnimationStarted","NoData"),this.stopTimer(),this.awaitingStep=!1,this.undoLastBlock(),this.stopTimer(),this.startTimer()):!this.currentlyAnimating&&this.animationPaused&&null!==this.undoAnimationStepIndices&&(this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.undoLastBlock(),this.stopTimer(),this.startTimer())}},{key:"step",value:function(){this.awaitingStep&&(this.startNextBlock(),this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.stopTimer(),this.startTimer())}},{key:"clearHistory",value:function(){this.undoStack=[],this.undoAnimationStepIndices=null,this.previousAnimationSteps=[],this.undoAnimationStepIndicesStack=[],this.animationSteps=null,this.fireEvent("AnimationUndoUnavailable","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}},{key:"skipBack",value:function(){var t=null!==this.undoAnimationStepIndices&&0!==this.undoAnimationStepIndices.length;if(t){var i;for(i=0;null!==this.currentBlock&&i<this.currentBlock.length;i++){var e=this.currentBlock[i].objectID;this.animatedObjects.setNodePosition(e,this.currentBlock[i].toX,this.currentBlock[i].toY)}for(this.doingUndo&&this.finishUndoBlock(this.undoStack.pop());t;){for(this.undoLastBlock(),i=0;i<this.currentBlock.length;i++){var s=this.currentBlock[i].objectID;this.animatedObjects.setNodePosition(s,this.currentBlock[i].toX,this.currentBlock[i].toY)}t=this.finishUndoBlock(this.undoStack.pop())}this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),null!=this.undoStack&&0!==this.undoStack.length||this.fireEvent("AnimationUndoUnavailable","NoData")}}},{key:"resetAll",value:function(){this.clearHistory(),this.animatedObjects.clearAllObjects(),this.animatedObjects.draw(),this.stopTimer()}},{key:"skipForward",value:function(){if(this.currentlyAnimating){for(this.animatedObjects.runFast=!0;null!==this.animationSteps&&this.currentAnimation<this.animationSteps.length;){for(var t=0;null!==this.currentBlock&&t<this.currentBlock.length;t++){var i=this.currentBlock[t].objectID;this.animatedObjects.setNodePosition(i,this.currentBlock[t].toX,this.currentBlock[t].toY)}this.doingUndo&&this.finishUndoBlock(this.undoStack.pop()),this.startNextBlock();for(var e=0;e<this.currentBlock.length;e++){var s=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(s,this.currentBlock[e].toX,this.currentBlock[e].toY)}}this.animatedObjects.update(),this.currentlyAnimating=!1,this.awaitingStep=!1,this.doingUndo=!1,this.animatedObjects.runFast=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}}},{key:"finishUndoBlock",value:function(t){for(var i=t.length-1;i>=0;i--)t[i].undoInitialStep(this.animatedObjects);return this.doingUndo=!1,0!==this.undoAnimationStepIndices.length||(this.awaitingStep=!1,this.currentlyAnimating=!1,this.undoAnimationStepIndices=this.undoAnimationStepIndicesStack.pop(),this.animationSteps=this.previousAnimationSteps.pop(),this.fireEvent("AnimationEnded","NoData"),this.fireEvent("AnimationUndo","NoData"),this.currentBlock=[],null!=this.undoStack&&0!==this.undoStack.length||(this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationUndoUnavailable","NoData")),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),!1)}},{key:"undoLastBlock",value:function(){if(0!==this.undoAnimationStepIndices.length&&this.undoAnimationStepIndices.length>0){this.doingUndo=!0;var t=!1;this.currentAnimation=this.undoAnimationStepIndices.pop(),this.currentBlock=[];var i,e=this.undoStack[this.undoStack.length-1];for(i=e.length-1;i>=0;i--){var s=e[i].addUndoAnimation(this.currentBlock);t=t||s}this.currFrame=0,!t&&this.animationPaused&&(this.currFrame=this.animationBlockLength),this.currentlyAnimating=!0}}},{key:"setLayer",value:function(t,i){this.animatedObjects.setLayer(t,i),this.animatedObjects.draw()}},{key:"setAllLayers",value:function(t){this.animatedObjects.setAllLayers(t),this.animatedObjects.draw()}},{key:"update",value:function(){if(this.currentlyAnimating){var t;for(this.currFrame=this.currFrame+1,t=0;t<this.currentBlock.length;t++)if(this.currFrame===this.animationBlockLength||1===this.currFrame&&0===this.animationBlockLength)this.animatedObjects.setNodePosition(this.currentBlock[t].objectID,this.currentBlock[t].toX,this.currentBlock[t].toY);else if(this.currFrame<this.animationBlockLength){var i=this.currentBlock[t].objectID,e=1/(this.animationBlockLength-this.currFrame),s=this.lerp(this.animatedObjects.getNodeX(i),this.currentBlock[t].toX,e),h=this.lerp(this.animatedObjects.getNodeY(i),this.currentBlock[t].toY,e);this.animatedObjects.setNodePosition(i,s,h)}this.currFrame>=this.animationBlockLength&&(this.doingUndo?this.finishUndoBlock(this.undoStack.pop())&&(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData")):this.animationPaused&&this.currentAnimation<this.animationSteps.length?(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData"),this.currentBlock=[]):this.startNextBlock()),this.animatedObjects.update()}}},{key:"animWaiting",value:function(){this.stepForwardButton.disabled=!1,!1===this.skipBackButton.disabled&&(this.stepBackButton.disabled=!1),this.objectManager.statusReport.setText("Animation Paused"),this.objectManager.statusReport.setForegroundColor("#FF0000")}},{key:"animStarted",value:function(){this.skipForwardButton.disabled=!1,this.skipBackButton.disabled=!1,this.stepForwardButton.disabled=!0,this.stepBackButton.disabled=!0,this.objectManager.statusReport.setText("Animation Running"),this.objectManager.statusReport.setForegroundColor("#009900")}},{key:"animEnded",value:function(){this.skipForwardButton.disabled=!0,this.stepForwardButton.disabled=!0,!1===this.skipBackButton.disabled&&this.paused&&(this.stepBackButton.disabled=!1),this.objectManager.statusReport.setText("Animation Completed"),this.objectManager.statusReport.setForegroundColor("#000000")}},{key:"animUndoUnavailable",value:function(){this.skipBackButton.disabled=!0,this.stepBackButton.disabled=!0}},{key:"timeout",value:function(){var t=this;this.timer=setTimeout((function(){return t.timeout()}),30),this.update(),this.objectManager.draw()}},{key:"doPlayPause",value:function(){this.paused=!this.paused,this.paused?(this.playPauseBackButton.setAttribute("value","Play"),!1===this.skipBackButton.disabled&&(this.stepBackButton.disabled=!1)):this.playPauseBackButton.setAttribute("value","Pause"),this.setPaused(this.paused)}},{key:"startTimer",value:function(){var t=this;this.timer=setTimeout((function(){return t.timeout()}),30)}},{key:"stopTimer",value:function(){clearInterval(this.timer)}}]),i}(E),It={step:function(){this.foundBreak=!0},move:function(t){var i=new u(t[0],this.animatedObjects.getNodeX(t[0]),this.animatedObjects.getNodeY(t[0]),t[1],t[2]);this.currentBlock.push(i),this.undoBlock.push(new g(i.objectID,i.toX,i.toY,i.fromX,i.fromY)),this.anyAnimations=!0},delete:function(t){var i=this.animatedObjects.deleteIncident(t[0]);i.length>0&&(this.undoBlock=this.undoBlock.concat(i));var e=this.animatedObjects.getObject(t[0]);null!==e&&(this.undoBlock.push(e.createUndoDelete()),this.animatedObjects.removeObject(t[0]))},connect:function(t){t[2]=t[2]||"#000000",t[3]=t[3]||0,t[4]=!1!==t[4]&&0!==t[4],t[5]=void 0===t[5]?"":t[5],t[6]=t[6]||0,t[7]=void 0===t[7]?1:t[7],this.animatedObjects.connectEdge(t[0],t[1],t[2],t[3],t[4],String(t[5]),t[6],t[7]),this.undoBlock.push(new J(t[0],t[1],!1))},connectNext:function(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!0,"",0),this.undoBlock.push(new J(t[0],t[1],!1))},connectPrev:function(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!0,"",1),this.undoBlock.push(new J(t[0],t[1],!1))},connectCurve:function(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",t[2],!0,"",1),this.undoBlock.push(new J(t[0],t[1],!1))},connectSkipList:function(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!1,"",t[2]),this.undoBlock.push(new J(t[0],t[1],!1))},disconnect:function(t){var i=this.animatedObjects.disconnect(t[0],t[1]);null!==i&&this.undoBlock.push(i)},createCircle:function(t){t[2]=t[2]||0,t[3]=t[3]||0,this.animatedObjects.addCircleObject(t[0],String(t[1])),this.animatedObjects.setNodePosition(parseInt(t[0]),parseInt(t[2]),parseInt(t[3])),this.undoBlock.push(new p(t[0]))},createHighlightCircle:function(t){t[2]=t[2]||0,t[3]=t[3]||0,t[4]=void 0===t[4]?20:t[4],this.animatedObjects.addHighlightCircleObject(t[0],t[1],t[4]),this.animatedObjects.setNodePosition(parseInt(t[0]),parseInt(t[2]),parseInt(t[3])),this.undoBlock.push(new p(t[0]))},createRectangle:function(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"center",t[7]=t[7]||"center",t[8]=t[8]||"#FFFFFF",t[9]=t[9]||"#000000",this.animatedObjects.addRectangleObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8],t[9]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new p(t[0]))},createLabel:function(t){t[2]=t[2]||0,t[3]=t[3]||0,t[4]=!1!==t[4]&&0!==t[4],this.animatedObjects.addLabelObject(t[0],String(t[1]),t[4]),this.animatedObjects.setNodePosition(t[0],t[2],t[3]),this.undoBlock.push(new p(t[0]))},createLinkedListNode:function(t){t[1]=Array.isArray(t[1])?t[1].map((function(t){return String(t)})):[String(t[1])],t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=!1!==t[7]&&0!==t[7],t[8]=t[8]||!1,t[9]=t[9]||"#FFFFFF",t[10]=t[10]||"#000000",this.animatedObjects.addLinkedListObject(t[0],t[1],t[2],t[3],t[6],t[7],t[8],t[9],t[10]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new p(t[0]))},createDoublyLinkedListNode:function(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=t[7]||"#FFFFFF",t[8]=t[8]||"#000000",this.animatedObjects.addDoublyLinkedListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new p(t[0]))},createCircularlyLinkedListNode:function(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=t[7]||"#FFFFFF",t[8]=t[8]||"#000000",this.animatedObjects.addCircularlyLinkedListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new p(t[0]))},createSkipListNode:function(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"#FFFFFF",t[7]=t[7]||"#000000",this.animatedObjects.addSkipListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new p(t[0]))},createBTreeNode:function(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"#FFFFFF",t[7]=t[7]||"#000000",this.animatedObjects.addBTreeNode(t[0],t[1],t[2],t[3],t[6],t[7]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new p(t[0]))},setText:function(t){t[2]=t[2]||0;var i=this.animatedObjects.getText(t[0],t[2]);this.animatedObjects.setText(t[0],String(t[1]),t[2]),void 0!==i&&this.undoBlock.push(new F(t[0],i,t[2]))},setTextColor:function(t){t[2]=t[2]||0;var i=this.animatedObjects.getTextColor(t[0],t[2]);this.animatedObjects.setTextColor(t[0],t[1],t[2]),this.undoBlock.push(new w(t[0],i,t[2]))},setForegroundColor:function(t){var i=this.animatedObjects.foregroundColor(t[0]);this.animatedObjects.setForegroundColor(t[0],t[1]),this.undoBlock.push(new L(t[0],i))},setBackgroundColor:function(t){var i=this.animatedObjects.backgroundColor(t[0]);this.animatedObjects.setBackgroundColor(t[0],t[1]),this.undoBlock.push(new C(t[0],i))},setHighlight:function(t){this.animatedObjects.setHighlight(t[0],t[1],t[2]),this.undoBlock.push(new I(t[0],!t[1],t[2]))},setAlpha:function(t){var i=this.animatedObjects.getAlpha(t[0]);this.animatedObjects.setAlpha(t[0],t[1]),this.undoBlock.push(new v(t[0],i))},setEdgeColor:function(t){var i=this.animatedObjects.setEdgeColor(t[0],t[1],t[2]);this.undoBlock.push(new S(t[0],t[1],i))},setEdgeAlpha:function(t){var i=this.animatedObjects.setEdgeAlpha(t[0],t[1],t[2]);this.undoBlock.push(new B(t[0],t[1],i))},setEdgeHighlight:function(t){var i=this.animatedObjects.setEdgeHighlight(t[0],t[1],t[2],t[3]);this.undoBlock.push(new j(t[0],t[1],i))},setEdgeThickness:function(t){var i=this.animatedObjects.setEdgeThickness(t[0],t[1],t[2]);this.undoBlock.push(new A(t[0],t[1],i))},setRectangleEdgeThickness:function(t){var i=this.animatedObjects.setRectangleEdgeThickness(t[0],t[1]);this.undoBlock.push(new P(t[0],i))},setHeight:function(t){var i=this.animatedObjects.getHeight(t[0]);this.animatedObjects.setHeight(t[0],t[1]),this.undoBlock.push(new f(t[0],i))},setWidth:function(t){var i=this.animatedObjects.getWidth(t[0]);this.animatedObjects.setWidth(t[0],t[1]),this.undoBlock.push(new b(t[0],i))},setLayer:function(t){this.animatedObjects.setLayer(t[0],t[1])},setNull:function(t){var i=this.animatedObjects.getNull(t[0]);this.animatedObjects.setNull(t[0],t[1]),this.undoBlock.push(new x(t[0],i))},setPrevNull:function(t){var i=this.animatedObjects.getLeftNull(t[0]);this.animatedObjects.setPrevNull(t[0],t[1]),this.undoBlock.push(new y(t[0],i))},setNextNull:function(t){var i=this.animatedObjects.getRightNull(t[0]);this.animatedObjects.setNextNull(t[0],t[1]),this.undoBlock.push(new k(t[0],i))},setNumElements:function(t){var i=this.animatedObjects.getObject(t[0]);this.undoBlock.push(new D(i,t[1])),this.animatedObjects.setNumElements(t[0],t[1])},setPosition:function(t){var i=this.animatedObjects.getNodeX(t[0]),e=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.setNodePosition(t[0],t[1],t[2]),this.undoBlock.push(new _(t[0],i,e))},setHighlightIndex:function(t){var i=this.animatedObjects.getHighlightIndex(t[0]);this.undoBlock.push(new T(t[0],i)),this.animatedObjects.setHighlightIndex(t[0],t[1])},alignRight:function(t){var i=this.animatedObjects.getNodeX(t[0]),e=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignRight(t[0],t[1]),this.undoBlock.push(new _(t[0],i,e))},alignLeft:function(t){var i=this.animatedObjects.getNodeX(t[0]),e=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignLeft(t[0],t[1]),this.undoBlock.push(new _(t[0],i,e))},alignTop:function(t){var i=this.animatedObjects.getNodeX(t[0]),e=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignTop(t[0],t[1]),this.undoBlock.push(new _(t[0],i,e))},alignBottom:function(t){var i=this.animatedObjects.getNodeX(t[0]),e=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignBottom(t[0],t[1]),this.undoBlock.push(new _(t[0],i,e))},bringToTop:function(t){var i=this.animatedObjects.setAlwaysOnTop(t[0],t[1]);this.undoBlock.push(new O(t[0],i))},moveToAlignRight:function(t){var i=this.animatedObjects.getAlignRightPos(t[0],t[1]),e=new u(t[0],this.animatedObjects.getNodeX(t[0]),this.animatedObjects.getNodeY(t[0]),i[0],i[1]);this.currentBlock.push(e),this.undoBlock.push(new g(e.objectID,e.toX,e.toY,e.fromX,e.fromY)),this.anyAnimations=!0}},ft=function(){return nt.a.createElement("div",{className:"footer"},"Copyright 2019 ",nt.a.createElement("a",{href:"https://rodrigodlpontes.github.io/website/"},"Rodrigo Pontes"),", under the direction of Mary Hudachek-Buswell, Copyright 2011",nt.a.createElement("a",{href:"http://www.cs.usfca.edu/galles"},"David Galles"))},bt=function(t){function i(){var t,e;Object(a.a)(this,i);for(var s=arguments.length,h=new Array(s),n=0;n<s;n++)h[n]=arguments[n];return(e=Object(r.a)(this,(t=Object(l.a)(i)).call.apply(t,[this].concat(h)))).state={menuVisible:null},e.toggleMenu=function(){return e.setState((function(t){return{menuVisible:!t.menuVisible}}))},e}return Object(o.a)(i,t),Object(n.a)(i,[{key:"render",value:function(){return nt.a.createElement(nt.a.Fragment,null,nt.a.createElement("div",{className:"header"},nt.a.createElement("button",{className:this.state.menuVisible?"selected":"",onClick:this.toggleMenu}),nt.a.createElement("h1",null,"CS1332 Data Structures and Algorithms Visualizations")),nt.a.createElement("div",{className:"menu ".concat({null:"",true:"show",false:"hide"}[this.state.menuVisible])},nt.a.createElement("ul",null,nt.a.createElement("li",null,nt.a.createElement(s.b,{to:"/",onClick:this.toggleMenu},"Home")),nt.a.createElement("li",null,nt.a.createElement(s.b,{to:"/about",onClick:this.toggleMenu},"About")),nt.a.createElement("li",null,nt.a.createElement("a",{href:"https://github.com/RodrigoDLPontes/visualization-tool"},"Source Code")))))}}]),i}(nt.a.Component),Dt=e(21),vt=e(19);function xt(t,i){var e=document.createElement("p");if(e.appendChild(document.createTextNode(t)),i)i.appendChild(e),e.setAttribute("class","groupChild");else{var s=document.createElement("td");s.appendChild(e),document.getElementById("AlgorithmSpecificControls").appendChild(s)}return e}function yt(t,i,e){var s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("id",t),s.setAttribute("name",t),s.setAttribute("value",t),i&&s.setAttribute("checked","true");var h=document.createElement("label");h.setAttribute("for",t);var a=document.createTextNode(t);if(h.appendChild(a),e){var n=document.createElement("span");n.appendChild(s),n.appendChild(h),e.appendChild(n),n.setAttribute("class","groupChild")}else{var r=document.createElement("td");r.appendChild(s),r.appendChild(h),document.getElementById("AlgorithmSpecificControls").appendChild(r)}return s}function kt(t,i,e){for(var s=[],h=document.createElement("table"),a=0;a<t.length;a++){var n=document.createElement("tr"),r=document.createElement("td"),l=document.createElement("input");l.setAttribute("type","radio"),l.setAttribute("name",i),l.setAttribute("id",t[a]),l.setAttribute("value",t[a]),r.appendChild(l),n.appendChild(r);var o=document.createElement("label");o.setAttribute("for",t[a]);var c=document.createTextNode(" "+t[a]);o.appendChild(c),r.appendChild(o),h.appendChild(n),s.push(l)}if(e)e.appendChild(h),h.setAttribute("class","groupChild");else{var d=document.createElement("td");d.appendChild(h),document.getElementById("AlgorithmSpecificControls").appendChild(d)}return s}function Lt(t,i,e){var s=document.createElement("input");if(s.setAttribute("type",t),s.setAttribute("value",i),e)e.appendChild(s),s.setAttribute("class","groupChild");else{var h=document.createElement("td");h.appendChild(s),document.getElementById("AlgorithmSpecificControls").appendChild(h)}return s}function Ct(){var t=document.createElement("td");t.setAttribute("class","divisorLeft");var i=document.createElement("td");i.setAttribute("class","divisorRight");var e=document.getElementById("AlgorithmSpecificControls");e.appendChild(t),e.appendChild(i)}function Tt(t,i){var e=document.createElement("div");if(e.setAttribute("class",t?"hgroup":"vgroup"),i)i.appendChild(e);else{var s=document.createElement("td");s.appendChild(e),document.getElementById("AlgorithmSpecificControls").appendChild(s)}return e}var Ft=function(){function t(i,e,s){Object(a.a)(this,t),null!=i&&(this.animationManager=i,i.addListener("AnimationStarted",this,this.disableUI),i.addListener("AnimationEnded",this,this.enableUI),i.addListener("AnimationUndo",this,this.undo),this.canvasWidth=e,this.canvasHeight=s,this.actionHistory=[],this.recordAnimation=!0,this.commands=[])}return Object(n.a)(t,[{key:"addCodeToCanvasBase",value:function(t,i,e,s,h,a){s="undefined"!==typeof s?s:14,h="undefined"!==typeof h?h:"#000000",a="undefined"!==typeof a?a:0;var n,r,l=Array(t.length);for(n=0;n<t.length;n++)for(l[n]=new Array(t[n].length),r=0;r<t[n].length;r++)l[n][r]=this.nextIndex++,this.cmd(It.createLabel,l[n][r],t[n][r],i,e+n*s,0),this.cmd(It.setForegroundColor,l[n][r],h),this.cmd(It.setLayer,l[n][r],a),r>0&&this.cmd(It.alignRight,l[n][r],l[n][r-1]);return l}},{key:"highlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#FF0000")}},{key:"unhighlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000")}},{key:"removeCode",value:function(t){for(var i=0;i<t.length;i++)for(var e=0;e<t[i].length;e++)this.cmd(It.delete,t[i][e])}},{key:"setCodeAlpha",value:function(t,i){for(var e=0;e<t.length;e++)for(var s=0;s<t[e].length;s++)this.cmd(It.setAlpha,t[e][s],i)}},{key:"cmd",value:function(t){if(this.recordAnimation){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.commands.push([t,e])}}},{key:"clearHistory",value:function(){this.actionHistory=[]}},{key:"undo",value:function(){this.actionHistory.pop(),this.reset();var t=this.actionHistory.length;this.recordAnimation=!1;for(var i=0;i<t;i++){var e;(e=this.actionHistory[i])[0].apply(e,Object(vt.a)(this.actionHistory[i][1]))}this.recordAnimation=!0}},{key:"implementAction",value:function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];var h=[t,e];this.actionHistory.push(h);var a=t.apply(void 0,e);this.animationManager.startNewAnimation(a)}},{key:"normalizeNumber",value:function(t,i){return/\D/.test(t)||""===t?t:t.substr(-i)}},{key:"returnSubmit",value:function(t,i,e,s){return void 0!==e&&(t.size=e),function(h){var a=0;if(window.event?a=h.keyCode:h.which&&(a=h.which),13===a&&null!=i)i();else{if(190===a||59===a||173===a||189===a)return!1;if((void 0!==e&&t.value.length>=e||s&&(a<48||a>57))&&!wt(a))return!1}}}},{key:"sizeChanged",value:function(t,i){throw new Error("sizeChanged() should be implemented in base class")}},{key:"disableUI",value:function(t){throw new Error("disableUI() should be implemented in base class")}},{key:"enableUI",value:function(t){throw new Error("enableUI() should be implemented in base class")}},{key:"reset",value:function(){throw new Error("reset() should be implemented in base class")}}]),t}();function wt(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}Ft.prototype.returnSubmitFloat=function(t,i,e){return void 0!==e&&(t.size=e),function(s){var h=0;if(window.event?h=s.keyCode:s.which&&(h=s.which),13!==h)return wt(h)?void 0:109===h?void 0:(void 0!==e||t.value.length<e)&&h>=48&&h<=57?void 0:(void 0!==e||t.value.length<e)&&190===h&&-1===t.value.indexOf(".")&&void 0;i()}},Ft.prototype.addReturnSubmit=function(t,i){t.onkeydown=this.returnSubmit(t,i,4,!1)};var jt=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).first_print_pos_y=s-2*i.PRINT_VERTICAL_GAP,h.print_max=e-10,h.startingX=e/2,h.addControls(),h.nextIndex=1,h.commands=[],h.edges=[],h.cmd(It.createLabel,0,"",i.EXPLANITORY_TEXT_X,i.EXPLANITORY_TEXT_Y,0),h.animationManager.startNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[],this.insertField=Lt("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Lt("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),Ct(),this.deleteField=Lt("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Lt("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),Ct(),this.findField=Lt("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ct(),this.printButton=Lt("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct();var i=kt(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=i[0],this.succButton=i[1],this.predButton.onclick=function(){return t.predSucc="pred"},this.succButton.onclick=function(){return t.predSucc="succ"},this.succButton.checked=!0,this.predSucc="succ"}},{key:"reset",value:function(){this.nextIndex=1,this.treeRoot=null,this.edges=[]}},{key:"insertCallback",value:function(){var t=this.insertField.value;""!==(t=this.normalizeNumber(t,4))&&(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t)))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t)))}},{key:"findCallback",value:function(){var t=this.findField.value;""!==t&&(t=this.normalizeNumber(t,4),this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t)))}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"sizeChanged",value:function(t){this.startingX=t/2}},{key:"printTree",value:function(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(It.delete,this.highlightID),this.cmd(It.step);for(var e=t;e<this.nextIndex;e++)this.cmd(It.delete,e);this.nextIndex=this.highlightID}return this.commands}},{key:"printTreeRec",value:function(t){this.cmd(It.step),null!=t.left&&(this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step));var e=this.nextIndex++;this.cmd(It.createLabel,e,t.data,t.x,t.y),this.cmd(It.setForegroundColor,e,i.PRINT_COLOR),this.cmd(It.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=i.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=i.PRINT_VERTICAL_GAP),null!=t.right&&(this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step))}},{key:"findElement",value:function(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}},{key:"doFind",value:function(t,e){this.cmd(It.setText,0,"Searchiing for "+e),null!=t?(this.cmd(It.setHighlight,t.graphicID,1),t.data===e?(this.cmd(It.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(It.step),this.cmd(It.setText,0,"Found:"+e),this.cmd(It.setHighlight,t.graphicID,0)):t.data>e?(this.cmd(It.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),null!=t.left&&(this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID)),this.doFind(t.left,e)):(this.cmd(It.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),null!=t.right&&(this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID)),this.doFind(t.right,e))):(this.cmd(It.setText,0," Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(It.step),this.cmd(It.setText,0," Searching for "+e+" :  (Element not found)"))}},{key:"remakeTree",value:function(t){null!=t&&(null!=t.left&&(this.cmd(It.connect,t.graphicID,t.left.graphicID,i.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(It.connect,t.graphicID,t.right.graphicID,i.LINK_COLOR),this.remakeTree(t.right)))}},{key:"add",value:function(t){return this.commands=[],this.cmd(It.setText,0," Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}},{key:"addH",value:function(t,e){if(null==e){this.cmd(It.setText,0,"Null found, inserting new node");var s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++;return this.cmd(It.createCircle,s,t,30,i.STARTING_Y),this.cmd(It.setForegroundColor,s,i.FOREGROUND_COLOR),this.cmd(It.setBackgroundColor,s,i.BACKGROUND_COLOR),this.cmd(It.createLabel,h,0,10,i.STARTING_Y-20),this.cmd(It.setForegroundColor,h,i.HEIGHT_LABEL_COLOR),this.cmd(It.createLabel,a,0,50,i.STARTING_Y-20),this.cmd(It.setForegroundColor,a,i.HEIGHT_LABEL_COLOR),this.cmd(It.step),this.cmd(It.setText,0,""),new At(t,s,h,a,0,0)}if(this.cmd(It.setHighlight,e.graphicID,1),t<e.data)this.cmd(It.setText,0,"".concat(t," < ").concat(e.data,". Looking at left subtree")),this.cmd(It.step),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree(),this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(It.step);else if(t>e.data){this.cmd(It.setText,0,"".concat(t," > ").concat(e.data,". Looking at right subtree")),this.cmd(It.step),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree(),this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(It.step)}else this.cmd(It.setText,0,"".concat(t," == ").concat(e.data,". Ignoring duplicate!")),this.cmd(It.step);return e=this.balance(e),this.cmd(It.setHighlight,e.graphicID,0),this.cmd(It.setText,0,""),e}},{key:"connectSmart",value:function(t,e){return!this.edges.some((function(i){return i[0]===t&&i[1]===e}))&&(this.cmd(It.connect,t,e,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,t,e,i.LINK_OPACITY),this.edges.push([t,e]),!0)}},{key:"balance",value:function(t){return t.updateHeightAndBF(),this.cmd(It.setText,t.heightLabelID,t.height),this.cmd(It.setText,t.bfLabelID,t.bf),this.cmd(It.setText,0,"Adjusting height and balance factor after recursive call"),this.cmd(It.step),t.bf<-1?(this.cmd(It.setText,0,"Balance factor < -1"),this.cmd(It.setTextColor,t.bfLabelID,i.HIGHLIGHT_LABEL_COLOR),this.cmd(It.step),null!=t.right&&t.right.bf>0?(this.cmd(It.setText,0,"Right child balance factor > 0"),this.cmd(It.setTextColor,t.right.bfLabelID,i.HIGHLIGHT_LABEL_COLOR),this.cmd(It.step),this.cmd(It.setText,0,"Right-left rotation"),this.cmd(It.step),this.cmd(It.setTextColor,t.right.bfLabelID,i.HEIGHT_LABEL_COLOR),t.right=this.singleRotateRight(t.right)):(null!=t.right?(this.cmd(It.setText,0,"Right child balance factor <= 0"),this.cmd(It.setTextColor,t.right.bfLabelID,i.HIGHLIGHT_LABEL_COLOR),this.cmd(It.step)):(this.cmd(It.setText,0,"No right child"),this.cmd(It.step)),this.cmd(It.setText,0,"Left rotation"),this.cmd(It.step)),this.cmd(It.setTextColor,t.bfLabelID,i.HEIGHT_LABEL_COLOR),this.cmd(It.setTextColor,t.right.bfLabelID,i.HEIGHT_LABEL_COLOR),t=this.singleRotateLeft(t)):t.bf>1&&(this.cmd(It.setText,0,"Balance factor > 1"),this.cmd(It.setTextColor,t.bfLabelID,i.HIGHLIGHT_LABEL_COLOR),this.cmd(It.step),null!=t.left&&t.left.bf<0?(this.cmd(It.setText,0,"Left child balance factor < 0"),this.cmd(It.setTextColor,t.left.bfLabelID,i.HIGHLIGHT_LABEL_COLOR),this.cmd(It.step),this.cmd(It.setText,0,"Left-right rotation"),this.cmd(It.step),this.cmd(It.setTextColor,t.left.bfLabelID,i.HEIGHT_LABEL_COLOR),t.left=this.singleRotateLeft(t.left)):(null!=t.left?(this.cmd(It.setText,0,"Left child balance factor >= 0"),this.cmd(It.setTextColor,t.left.bfLabelID,i.HIGHLIGHT_LABEL_COLOR),this.cmd(It.step)):(this.cmd(It.setText,0,"No left child"),this.cmd(It.step)),this.cmd(It.setText,0,"Right rotation"),this.cmd(It.step),this.cmd(It.setTextColor,t.bfLabelID,i.HEIGHT_LABEL_COLOR)),this.cmd(It.setTextColor,t.bfLabelID,i.HEIGHT_LABEL_COLOR),this.cmd(It.setTextColor,t.left.bfLabelID,i.HEIGHT_LABEL_COLOR),t=this.singleRotateRight(t)),t}},{key:"singleRotateRight",value:function(t){var e=t,s=t.left,h=s.right;return this.cmd(It.setEdgeHighlight,e.graphicID,s.graphicID,1),this.cmd(It.step),null!=h&&(this.cmd(It.disconnect,s.graphicID,h.graphicID),this.cmd(It.connect,e.graphicID,h.graphicID,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,e.graphicID,h.graphicID,i.LINK_OPACITY),h.parent=e),this.cmd(It.disconnect,e.graphicID,s.graphicID),this.cmd(It.connect,s.graphicID,e.graphicID,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,s.graphicID,e.graphicID,i.LINK_OPACITY),s.parent=e.parent,this.treeRoot===e?this.treeRoot=s:(this.cmd(It.disconnect,e.parent.graphicID,e.graphicID,i.LINK_COLOR),this.cmd(It.connect,e.parent.graphicID,s.graphicID,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,e.parent.graphicID,s.graphicID,i.LINK_OPACITY),e.isLeftChild()?e.parent.left=s:e.parent.right=s),s.right=e,e.parent=s,e.left=h,this.cmd(It.setHighlight,s.graphicID,0),this.cmd(It.setHighlight,e.graphicID,0),e.updateHeightAndBF(),this.cmd(It.setText,e.heightLabelID,e.height),this.cmd(It.setText,e.bfLabelID,e.bf),s.updateHeightAndBF(),this.cmd(It.setText,s.heightLabelID,s.height),this.cmd(It.setText,s.bfLabelID,s.bf),this.resizeTree(),s}},{key:"singleRotateLeft",value:function(t){var e=t,s=t.right,h=s.left;return this.cmd(It.setEdgeHighlight,e.graphicID,s.graphicID,1),this.cmd(It.step),null!=h&&(this.cmd(It.disconnect,s.graphicID,h.graphicID),this.cmd(It.connect,e.graphicID,h.graphicID,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,e.graphicID,h.graphicID,i.LINK_OPACITY),h.parent=e),this.cmd(It.disconnect,e.graphicID,s.graphicID),this.cmd(It.connect,s.graphicID,e.graphicID,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,s.graphicID,e.graphicID,i.LINK_OPACITY),s.parent=e.parent,this.treeRoot===e?this.treeRoot=s:(this.cmd(It.disconnect,e.parent.graphicID,e.graphicID,i.LINK_COLOR),this.cmd(It.connect,e.parent.graphicID,s.graphicID,i.LINK_COLOR),this.cmd(It.setEdgeAlpha,e.parent.graphicID,s.graphicID,i.LINK_OPACITY),e.isLeftChild()?e.parent.left=s:e.parent.right=s),s.left=e,e.parent=s,e.right=h,this.cmd(It.setHighlight,e.graphicID,0),this.cmd(It.setHighlight,s.graphicID,0),e.updateHeightAndBF(),this.cmd(It.setText,e.heightLabelID,e.height),this.cmd(It.setText,e.bfLabelID,e.bf),s.updateHeightAndBF(),this.cmd(It.setText,s.heightLabelID,s.height),this.cmd(It.setText,s.bfLabelID,s.bf),this.resizeTree(),s}},{key:"getHeight",value:function(t){return null==t?-1:t.height}},{key:"resetHeight",value:function(t){if(null!=t){var i=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1;t.height!==i&&(t.height=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1,this.cmd(It.setText,t.heightLabelID,i))}}},{key:"deleteNode",value:function(t){this.cmd(It.delete,t.graphicID),this.cmd(It.delete,t.heightLabelID),this.cmd(It.delete,t.bfLabelID)}},{key:"remove",value:function(t){return this.commands=[],this.cmd(It.setText,0,"Deleting ".concat(t)),this.cmd(It.step),this.cmd(It.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.cmd(It.setText,0,""),this.resizeTree(),this.commands}},{key:"removeH",value:function(t,i){if(null!=t){if(this.cmd(It.setHighlight,t.graphicID,1),i<t.data)this.cmd(It.setText,0,"".concat(i," < ").concat(t.data,". Looking left")),this.cmd(It.step),t.left=this.removeH(t.left,i),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(i>t.data)this.cmd(It.setText,0,"".concat(i," > ").concat(t.data,". Looking right")),this.cmd(It.step),t.right=this.removeH(t.right,i),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd(It.setText,0,"Element to delete is a leaf node"),this.cmd(It.step),this.deleteNode(t),this.cmd(It.step),null;if(null==t.left)return this.cmd(It.setText,0,"One-child case, replace with right child"),this.cmd(It.step),this.deleteNode(t),this.cmd(It.step),t.right;if(null==t.right)return this.cmd(It.setText,0,"One-child case, replace with left child"),this.cmd(It.step),this.deleteNode(t),this.cmd(It.step),t.left;var e=[];"succ"===this.predSucc?(this.cmd(It.setText,0,"Two-child case, replace data with successor"),this.cmd(It.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(It.setText,0,"Two-child case, replace data with predecessor"),this.cmd(It.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),t.data=e[0],this.cmd(It.setText,t.graphicID,t.data)}return t=this.balance(t),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setText,0,""),t}this.cmd(It.setText,0,"".concat(i," not found in the tree"))}},{key:"removeSucc",value:function(t,i){return this.cmd(It.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(It.step),null==t.left?(this.cmd(It.setText,0,"No left child, replace with right child"),this.cmd(It.step),i.push(t.data),this.deleteNode(t),this.cmd(It.step),this.cmd(It.setText,0,""),t.right):(this.cmd(It.setText,0,"Left child exists, look left"),this.cmd(It.step),t.left=this.removeSucc(t.left,i),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(It.setHighlight,t.graphicID,0),t)}},{key:"removePred",value:function(t,i){return this.cmd(It.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(It.step),null==t.right?(this.cmd(It.setText,0,"No right child, replace with right child"),this.cmd(It.step),i.push(t.data),this.deleteNode(t),this.cmd(It.step),this.cmd(It.setText,0,""),t.left):(this.cmd(It.setText,0,"Right child exists, look right"),this.cmd(It.step),t.right=this.removePred(t.right,i),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(It.setHighlight,t.graphicID,0),t)}},{key:"resizeTree",value:function(){if(null!=this.treeRoot){var t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,i.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd(It.step))}}},{key:"setNewPositions",value:function(t,e,s,h){null!=t&&(t.y=s,-1===h?(e-=t.rightWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):1===h?(e+=t.leftWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):(t.heightLabelX=e-20,t.bfLabelX=e+20),t.x=e,t.heightLabelY=t.y-20,t.bfLabelY=t.y-20,this.setNewPositions(t.left,e,s+i.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,s+i.HEIGHT_DELTA,1))}},{key:"animateNewPositions",value:function(t){null!=t&&(this.cmd(It.move,t.graphicID,t.x,t.y),this.cmd(It.move,t.heightLabelID,t.heightLabelX,t.heightLabelY),this.cmd(It.move,t.bfLabelID,t.bfLabelX,t.bfLabelY),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}},{key:"resizeWidths",value:function(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),i.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),i.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}},{key:"clear",value:function(){return this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}},{key:"recClear",value:function(t){null!=t&&(this.cmd(It.delete,t.graphicID),this.cmd(It.delete,t.heightLabelID),this.cmd(It.delete,t.bfLabelID),this.recClear(t.left),this.recClear(t.right))}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),At=function(){function t(i,e,s,h,n,r){Object(a.a)(this,t),this.data=i,this.x=n,this.y=r,this.heightLabelID=s,this.bfLabelID=h,this.height=0,this.bf=0,this.graphicID=e,this.left=null,this.right=null,this.parent=null}return Object(n.a)(t,[{key:"updateHeightAndBF",value:function(){var t=function(t){return null==t?-1:t.height},i=t(this.left),e=t(this.right);this.height=Math.max(i,e)+1,this.bf=i-e}},{key:"isLeftChild",value:function(){return null==this.parent||this.parent.left===this}}]),t}();jt.HIGHLIGHT_LABEL_COLOR="#FF0000",jt.HIGHLIGHT_LINK_COLOR="#FF0000",jt.HIGHLIGHT_COLOR="#007700",jt.HEIGHT_LABEL_COLOR="#065e9d",jt.LINK_COLOR="#00B000",jt.LINK_OPACITY=.25,jt.HIGHLIGHT_CIRCLE_COLOR="#007700",jt.FOREGROUND_COLOR="#007700",jt.BACKGROUND_COLOR="#DDFFDD",jt.PRINT_COLOR=jt.FOREGROUND_COLOR,jt.WIDTH_DELTA=50,jt.HEIGHT_DELTA=50,jt.STARTING_Y=50,jt.FIRST_PRINT_POS_X=50,jt.PRINT_VERTICAL_GAP=20,jt.PRINT_HORIZONTAL_GAP=50,jt.EXPLANITORY_TEXT_X=10,jt.EXPLANITORY_TEXT_Y=10;var St=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[];var i=Tt(!1),e=Tt(!0,i),s=Tt(!0,i);xt("Add",e),this.addValueField=Lt("Text","",e),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(function(){return t.addIndexCallback()}),4),this.controls.push(this.addValueField),xt("at index",e),this.addIndexField=Lt("Text","",e),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Lt("Button","Add to Front",s),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Lt("Button","Add to Back",s),this.addBackButton.onclick=function(){return t.addBackCallback()},this.controls.push(this.addBackButton),xt("or",s),this.addIndexButton=Lt("Button","Add at Index",s),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),Ct();var h=Tt(!1),a=Tt(!0,h),n=Tt(!0,h);xt("Index",a),this.removeField=Lt("Text","",a),this.removeField.onkeydown=this.returnSubmit(this.removeField,(function(){return t.removeIndexCallback()}),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Lt("Button","Remove from Index",a),this.removeIndexButton.onclick=function(){return t.removeIndexCallback()},this.controls.push(this.removeIndexButton),xt("or",n),this.removeFrontButton=Lt("Button","Remove from Front",n),this.removeFrontButton.onclick=function(){return t.removeFrontCallback()},this.controls.push(this.removeFrontButton),this.removeBackButton=Lt("Button","Remove from Back",n),this.removeBackButton.onclick=function(){return t.removeBackCallback()},this.controls.push(this.removeBackButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=function(){return t.clearCallback()},this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.arrayData=new Array(7),this.size=0,this.length=7,this.commands=[];for(var i=0;i<7;i++){var e=i%14*50+100,s=130*Math.floor(i/14)+150;this.cmd(It.createRectangle,this.arrayID[i],"",50,50,e,s),this.cmd(It.createLabel,this.arrayLabelID[i],i,e,s+50),this.cmd(It.setForegroundColor,this.arrayLabelID[i],"#0000FF")}this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.size=0,this.length=7,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.highlight1ID=this.nextIndex++}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value&&!(this.length===this.size&&2*this.length>30)){var t=this.addValueField.value,i=this.addIndexField.value;i>=0&&i<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,i):this.implementAction(this.add.bind(this),t,i))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value&&!(this.length===this.size&&2*this.length>30)){var t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,0):this.implementAction(this.add.bind(this),t,0)}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value&&!(this.length===this.size&&2*this.length>30)){var t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,this.size):this.implementAction(this.add.bind(this),t,this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){return this.commands=[],this.clearAll(),this.commands}},{key:"add",value:function(t,i){this.commands=[];var e=this.nextIndex++,s=this.nextIndex++;this.cmd(It.createLabel,e,"Adding Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.step);for(var h=this.size;h>=i;h--)this.arrayData[h+1]=this.arrayData[h];if(this.arrayData[i]=t,this.arrayMoveID=new Array(this.size),i!==this.size){for(var a=this.size-1;a>=i;a--){var n=a%14*50+100,r=130*Math.floor(a/14)+150;this.arrayMoveID[a]=this.nextIndex++,this.cmd(It.createLabel,this.arrayMoveID[a],this.arrayData[a+1],n,r),this.cmd(It.setText,this.arrayID[a],""),this.cmd(It.move,this.arrayMoveID[a],n+50,r)}this.cmd(It.step);for(var l=this.size-1;l>=i;l--)this.cmd(It.setText,this.arrayID[l+1],this.arrayData[l+1]),this.cmd(It.delete,this.arrayMoveID[l]);this.cmd(It.step)}this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",120,30),this.cmd(It.step);var o=parseInt(i)%14*50+100,c=130*Math.floor(parseInt(i)/14)+150;return this.cmd(It.move,this.highlight1ID,o,c),this.cmd(It.move,s,o,c),this.cmd(It.step),this.cmd(It.setText,this.arrayID[i],t),this.cmd(It.delete,s),this.cmd(It.delete,this.highlight1ID),this.cmd(It.step),this.cmd(It.delete,e),this.cmd(It.step),this.nextIndex=null!=i?this.nextIndex-(this.size-i)-2:this.nextIndex-2,this.size=this.size+1,this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var i=this.nextIndex++,e=t%14*50+100,s=130*Math.floor(t/14)+150;this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",e,s),this.cmd(It.createLabel,i,this.arrayData[t],e,s),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.move,this.highlight1ID,e,s-100),this.cmd(It.move,i,e,s-100),this.cmd(It.step),this.cmd(It.delete,i),this.cmd(It.delete,this.highlight1ID),this.cmd(It.step);for(var h=t;h<this.size;h++)this.arrayData[h]=this.arrayData[h+1];this.arrayData[this.size]=null,this.arrayMoveID=new Array(this.size);for(var a=t+1;a<this.size;a++){var n=a%14*50+100,r=130*Math.floor(a/14)+150;this.arrayMoveID[a]=this.nextIndex++,this.cmd(It.createLabel,this.arrayMoveID[a],this.arrayData[a-1],n,r),this.cmd(It.setText,this.arrayID[a],""),this.cmd(It.move,this.arrayMoveID[a],n-50,r)}this.cmd(It.step);for(var l=t+1;l<this.size;l++)this.cmd(It.setText,this.arrayID[l-1],this.arrayData[l-1]),this.cmd(It.delete,this.arrayMoveID[l]);return this.cmd(It.step),this.nextIndex=null!=t?this.nextIndex-(this.size-t):this.nextIndex-2,this.size=this.size-1,this.commands}},{key:"resize",value:function(t,i){this.commands=[];var e=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++;this.cmd(It.createLabel,e,"Adding Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.createLabel,h,"(Resize Required)",60,60),this.cmd(It.step),this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size),this.length=2*this.length;for(var a=0;a<2*this.size;a++)this.arrayIDNew[a]=this.nextIndex++,this.arrayLabelIDNew[a]=this.nextIndex++,a<i?this.arrayDataNew[a]=this.arrayData[a]:a>i&&a<=this.size&&(this.arrayDataNew[a]=this.arrayData[a-1]);this.arrayDataNew[i]=t,this.highlight1ID=this.nextIndex++;for(var n=0;n<2*this.size;n++){var r=n%14*50+100,l=130*Math.floor(n/14)+280;this.cmd(It.createRectangle,this.arrayIDNew[n],"",50,50,r,l),this.cmd(It.createLabel,this.arrayLabelIDNew[n],n,r,l+50),this.cmd(It.setForegroundColor,this.arrayLabelIDNew[n],"#0000FF")}this.cmd(It.step),this.arrayMoveID=new Array(this.size);for(var o=0;o<i;o++){var c=o%14*50+100,d=130*Math.floor(o/14)+150,u=o%14*50+100,m=130*Math.floor(o/14)+280;this.arrayMoveID[o]=this.nextIndex++,this.cmd(It.createLabel,this.arrayMoveID[o],this.arrayData[o],c,d),this.cmd(It.move,this.arrayMoveID[o],u,m)}this.cmd(It.step);for(var g=0;g<i;g++)this.cmd(It.delete,this.arrayMoveID[g]),this.cmd(It.setText,this.arrayIDNew[g],this.arrayData[g]);this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",120,30),this.cmd(It.step);var p=parseInt(i)%14*50+100,I=130*Math.floor(parseInt(i)/14)+280;this.cmd(It.move,this.highlight1ID,p,I),this.cmd(It.move,s,p,I),this.cmd(It.step),this.cmd(It.setText,this.arrayIDNew[i],t),this.cmd(It.delete,s),this.cmd(It.delete,this.highlight1ID),this.cmd(It.step);for(var f=i;f<this.size;f++){var b=f%14*50+100,D=130*Math.floor(f/14)+150,v=f%13*50+100,x=130*Math.floor(f/13)+280;this.arrayMoveID[f]=this.nextIndex++,this.cmd(It.createLabel,this.arrayMoveID[f],this.arrayData[f],b,D),this.cmd(It.move,this.arrayMoveID[f],v+50,x)}this.cmd(It.step);for(var y=i;y<=this.size;y++)y<this.size&&this.cmd(It.delete,this.arrayMoveID[y]),this.cmd(It.setText,this.arrayIDNew[y],this.arrayData[y-1]);this.cmd(It.setText,this.arrayIDNew[i],t),this.cmd(It.delete,e),this.cmd(It.delete,h),this.cmd(It.step);for(var k=0;k<this.size;k++)this.cmd(It.delete,this.arrayID[k]),this.cmd(It.delete,this.arrayLabelID[k]);for(var L=0;L<2*this.size;L++){var C=L%14*50+100,T=130*Math.floor(L/14)+150;this.cmd(It.move,this.arrayIDNew[L],C,T),this.cmd(It.move,this.arrayLabelIDNew[L],C,T+50)}return this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,null!=i&&(this.nextIndex=this.nextIndex-this.size),this.size=this.size+1,this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd(It.setText,this.arrayID[t],""),this.arrayData[t]=null;return this.size=0,this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Bt=e(7),_t=[[!1,!0,!0,!1,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!0,!0,!1]],Ot=[[0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,.25,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.25],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,.25,0,0,0,0,0,0,0,0,0,0,0,-.4,0,0]],Pt=[600,700,800,900,650,750,850,600,700,800,900,650,750,850,600,700,800,900],Et=[50,50,50,50,150,150,150,250,250,250,250,350,350,350,450,450,450,450],Ht=[[!1,!0,!0,!0,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!1,!0],[!0,!1,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!1,!0],[!1,!1,!1,!0,!0,!0,!0,!1]],zt=[[0,.001,0,.5,-.5,0,0,0],[0,0,0,.001,0,.001,-.2,0],[0,.001,0,0,0,.2,0,0],[-.5,0,0,0,0,.001,0,.5],[.5,0,0,0,0,0,0,-.5],[0,0,-.2,0,0,0,.001,.001],[0,.2,0,0,0,0,0,0],[0,0,0,-.5,.5,0,0,0]],Nt=[800,725,875,650,950,725,875,800],Rt=[25,125,125,225,225,325,325,425],Mt=[[0,1,1,1,1,0,0,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,1,0,0],[1,0,0,0,0,0,1,0],[0,0,0,1,0,0,1,0],[0,1,0,0,1,1,0,1],[0,0,0,0,0,0,1,0]].map((function(t){return t.map((function(t){return t||-1}))})),Vt=[[0,8,2,5,0,0,0,0],[8,0,1,1,0,0,7,0],[2,1,0,0,3,0,0,0],[5,1,0,0,0,4,0,0],[0,0,3,0,0,0,2,0],[0,0,0,4,0,0,"0",1],[0,7,0,0,2,"0",0,1],[0,0,0,0,0,1,1,0]].map((function(t){return t.map((function(t){return Number(t||-1)}))})),Xt=[[0,1,5,0,0,0,0,0],[1,0,7,9,0,0,1,0],[5,7,0,0,0,0,13,0],[0,9,0,0,0,4,0,0],[0,0,0,0,0,0,10,0],[0,0,0,4,0,0,2,"0"],[0,1,13,0,10,2,0,3],[0,0,0,0,0,"0",3,0]].map((function(t){return t.map((function(t){return Number(t||-1)}))})),Kt=["#9b9bd4","#6aaf6a","#f07575","#ffe866","#b8f9b8","#ff99ff","#99ffff","#ffccd4"],qt=function(t){function i(t,e,s,h,n,o,c){var d;return Object(a.a)(this,i),(d=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).controls=[],h=h===[]?void 0:h,n=void 0!==n&&n,o=void 0!==o&&o,c=void 0!==c&&c,d.nextIndex=0,d.currentLayer=1,d.defaultEdges=h,d.directed=n,d.isDAG=o,d.showEdgeCosts=c,d.currentLayer=1,d.setup_small(d.defaultEdges),d}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(t){null==t&&(t=!0);var i=Tt(!1);if(this.newGraphButton=Lt("Button","New Graph",i),this.newGraphButton.onclick=this.newGraphCallback.bind(this),this.controls.push(this.newGraphButton),this.defaultGraphButton=Lt("Button","Default Graph",i),this.defaultGraphButton.onclick=this.defaultGraphCallback.bind(this),this.defaultGraphButton.disabled=!0,this.controls.push(this.defaultGraphButton),Ct(),t){var e=kt(["Undirected Graph","Directed Graph"],"GraphType");this.undirectedGraphButton=e[0],this.undirectedGraphButton.onclick=this.directedGraphCallback.bind(this,!1),this.undirectedGraphButton.checked=!this.directed,this.controls.push(this.undirectedGraphButton),this.directedGraphButton=e[1],this.directedGraphButton.onclick=this.directedGraphCallback.bind(this,!0),this.directedGraphButton.checked=this.directed,this.controls.push(this.directedGraphButton),Ct()}var s=kt(["Small Graph","Large Graph"],"GraphSize");this.smallGraphButton=s[0],this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.smallGraphButton.checked=!0,this.controls.push(this.smallGraphButton),this.largeGraphButton=s[1],this.largeGraphButton.onclick=this.largeGraphCallback.bind(this),this.controls.push(this.largeGraphButton),Ct(),s=kt(["Logical Representation","Adjacency List Representation","Adjacency Matrix Representation"],"GraphRepresentation"),this.logicalButton=s[0],this.logicalButton.onclick=this.graphRepChangedCallback.bind(this,1),this.adjacencyListButton=s[1],this.adjacencyListButton.onclick=this.graphRepChangedCallback.bind(this,2),this.adjacencyMatrixButton=s[2],this.adjacencyMatrixButton.onclick=this.graphRepChangedCallback.bind(this,3),this.logicalButton.checked=!0}},{key:"directedGraphCallback",value:function(t){t!==this.directed&&(this.defaultGraphButton.disabled=t,this.directed=t,this.animationManager.resetAll(),this.setup())}},{key:"smallGraphCallback",value:function(){8!==this.size&&(this.animationManager.resetAll(),this.setup_small())}},{key:"largeGraphCallback",value:function(){18!==this.size&&(this.animationManager.resetAll(),this.setup_large())}},{key:"newGraphCallback",value:function(){this.animationManager.resetAll(),this.setup()}},{key:"defaultGraphCallback",value:function(){this.animationManager.resetAll(),this.setup(this.defaultEdges)}},{key:"graphRepChangedCallback",value:function(t){this.animationManager.setAllLayers([0,t]),this.currentLayer=t}},{key:"recolorGraph",value:function(){for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++)this.adj_matrix[t][i]>=0&&(this.setEdgeColor(t,i,"#000000"),this.setEdgeThickness(t,i,1))}},{key:"highlightEdge",value:function(t,i,e,s){this.cmd(It.setHighlight,this.adj_list_edges[t][i],e,s),this.cmd(It.setHighlight,this.adj_matrixID[t][i],e,s),this.cmd(It.setEdgeHighlight,this.circleID[t],this.circleID[i],e,s),this.directed||this.cmd(It.setEdgeHighlight,this.circleID[i],this.circleID[t],e,s)}},{key:"visitVertex",value:function(t){this.cmd(It.createHighlightCircle,this.highlightCircleL,"#000000",this.x_pos_logical[t],this.y_pos_logical[t]),this.cmd(It.setLayer,this.highlightCircleL,1),this.cmd(It.createHighlightCircle,this.highlightCircleAL,"#000000",this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd(It.setLayer,this.highlightCircleAL,2),this.cmd(It.createHighlightCircle,this.highlightCircleAM,"#000000",this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(It.setLayer,this.highlightCircleAM,3)}},{key:"leaveVertex",value:function(){this.cmd(It.delete,this.highlightCircleL),this.cmd(It.delete,this.highlightCircleAM),this.cmd(It.delete,this.highlightCircleAL)}},{key:"setEdgeColor",value:function(t,i,e){this.cmd(It.setForegroundColor,this.adj_list_edges[t][i],e),this.cmd(It.setTextColor,this.adj_matrixID[t][i],e),this.cmd(It.setEdgeColor,this.circleID[t],this.circleID[i],e),this.directed||this.cmd(It.setEdgeColor,this.circleID[i],this.circleID[t],e)}},{key:"setEdgeThickness",value:function(t,i,e){this.cmd(It.setEdgeThickness,this.circleID[t],this.circleID[i],e),this.directed||this.cmd(It.setEdgeThickness,this.circleID[i],this.circleID[t],e)}},{key:"clearEdges",value:function(){for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++)this.adj_matrix[t][i]>=0&&this.cmd(It.disconnect,this.circleID[t],this.circleID[i])}},{key:"rebuildEdges",value:function(){this.clearEdges(),this.buildEdges()}},{key:"buildEdges",value:function(){for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++)if(this.adj_matrix[t][i]>=0){var e=this.showEdgeCosts?String(this.adj_matrix[t][i]):"";this.directed?this.cmd(It.connect,this.circleID[t],this.circleID[i],"#000000",this.adjustCurveForDirectedEdges(this.curve[t][i],this.adj_matrix[i][t]>=0),1,e):t<i&&this.cmd(It.connect,this.circleID[t],this.circleID[i],"#000000",this.curve[t][i],0,e)}}},{key:"setup_small",value:function(t){this.allowed=Ht,this.curve=zt,this.x_pos_logical=Nt,this.y_pos_logical=Rt,this.adj_matrix_x_start=700,this.adj_matrix_y_start=45,this.adj_matrix_width=30,this.adj_matrix_height=30,this.adj_list_x_start=600,this.adj_list_y_start=30,this.adj_list_elem_width=80,this.adj_list_elem_height=30,this.adj_list_height=36,this.adj_list_width=36,this.adj_list_spacing_after_list=15,this.adj_list_spacing_between_nodes=15,this.size=8,this.isLarge=!1,this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.setup(t)}},{key:"setup_large",value:function(){this.allowed=_t,this.curve=Ot,this.x_pos_logical=Pt,this.y_pos_logical=Et,this.adj_matrix_x_start=575,this.adj_matrix_y_start=40,this.adj_matrix_width=23,this.adj_matrix_height=23,this.adj_list_x_start=550,this.adj_list_y_start=30,this.adj_list_elem_width=80,this.adj_list_elem_height=20,this.adj_list_height=25,this.adj_list_width=20,this.adj_list_spacing_after_list=25,this.adj_list_spacing_between_nodes=15,this.size=18,this.isLarge=!0,this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.setup()}},{key:"adjustCurveForDirectedEdges",value:function(t,i){return!this.directed||!i||Math.abs(t)>.01?t:.1}},{key:"setup",value:function(t){this.commands=[],this.circleID=new Array(this.size);for(var i=0;i<this.size;i++)this.circleID[i]=this.nextIndex++,this.cmd(It.createCircle,this.circleID[i],this.toStr(i),this.x_pos_logical[i],this.y_pos_logical[i]),this.cmd(It.setTextColor,this.circleID[i],"#0000FF",0),this.cmd(It.setLayer,this.circleID[i],1);if(t){this.adj_matrix=t,this.adj_matrixID=new Array(this.size);for(var e=0;e<this.size;e++){this.adj_matrixID[e]=new Array(this.size);for(var s=0;s<this.size;s++)this.adj_matrixID[e][s]=this.nextIndex++}this.buildEdges()}else{this.adj_matrix=new Array(this.size),this.adj_matrixID=new Array(this.size);for(var h=0;h<this.size;h++)this.adj_matrix[h]=new Array(this.size),this.adj_matrixID[h]=new Array(this.size);var a;if(a=8===this.size?this.directed?.4:.5:this.directed?.35:.6,this.directed){for(var n=0;n<this.size;n++)for(var r=0;r<this.size;r++)this.adj_matrixID[n][r]=this.nextIndex++,this.allowed[n][r]&&Math.random()<=a&&(n<r||Math.abs(this.curve[n][r])<.01||-1===this.adj_matrixID[r][n])&&(!this.isDAG||n<r)?this.showEdgeCosts?this.adj_matrix[n][r]=Math.floor(9*Math.random())+1:this.adj_matrix[n][r]=1:this.adj_matrix[n][r]=-1;this.buildEdges()}else{for(var l=0;l<this.size;l++)for(var o=l+1;o<this.size;o++)if(this.adj_matrixID[l][o]=this.nextIndex++,this.adj_matrixID[o][l]=this.nextIndex++,this.allowed[l][o]&&Math.random()<=a){this.showEdgeCosts?this.adj_matrix[l][o]=Math.floor(9*Math.random())+1:this.adj_matrix[l][o]=1,this.adj_matrix[o][l]=this.adj_matrix[l][o];var c=void 0;c=this.showEdgeCosts?String(this.adj_matrix[l][o]):"",this.cmd(It.connect,this.circleID[l],this.circleID[o],"#000000",this.curve[l][o],0,c)}else this.adj_matrix[l][o]=-1,this.adj_matrix[o][l]=-1;this.buildEdges();for(var d=0;d<this.size;d++)this.adj_matrix[d][d]=-1}}this.buildAdjList(),this.buildAdjMatrix(),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.clearHistory()}},{key:"resetAll",value:function(){}},{key:"buildAdjMatrix",value:function(){this.adj_matrix_index_x=new Array(this.size),this.adj_matrix_index_y=new Array(this.size);for(var t=0;t<this.size;t++){this.adj_matrix_index_x[t]=this.nextIndex++,this.adj_matrix_index_y[t]=this.nextIndex++,this.cmd(It.createLabel,this.adj_matrix_index_x[t],this.toStr(t),this.adj_matrix_x_start+t*this.adj_matrix_width,this.adj_matrix_y_start-this.adj_matrix_height),this.cmd(It.setForegroundColor,this.adj_matrix_index_x[t],"#0000FF"),this.cmd(It.createLabel,this.adj_matrix_index_y[t],this.toStr(t),this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(It.setForegroundColor,this.adj_matrix_index_y[t],"#0000FF"),this.cmd(It.setLayer,this.adj_matrix_index_x[t],3),this.cmd(It.setLayer,this.adj_matrix_index_y[t],3);for(var i=0;i<this.size;i++){this.adj_matrixID[t][i]=this.nextIndex++;var e=void 0;e=this.adj_matrix[t][i]<0?"":String(this.adj_matrix[t][i]),this.cmd(It.createRectangle,this.adj_matrixID[t][i],e,this.adj_matrix_width,this.adj_matrix_height,this.adj_matrix_x_start+i*this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(It.setLayer,this.adj_matrixID[t][i],3)}}}},{key:"removeAdjList",value:function(){for(var t=0;t<this.size;t++){this.cmd(It.delete,this.adj_list_list[t],"RAL1"),this.cmd(It.delete,this.adj_list_index[t],"RAL2");for(var i=0;i<this.size;i++)this.adj_matrix[t][i]>0&&this.cmd(It.delete,this.adj_list_edges[t][i],"RAL3")}}},{key:"buildAdjList",value:function(){this.adj_list_index=new Array(this.size),this.adj_list_list=new Array(this.size),this.adj_list_edges=new Array(this.size);for(var t=0;t<this.size;t++){this.adj_list_index[t]=this.nextIndex++,this.adj_list_edges[t]=new Array(this.size),this.adj_list_index[t]=this.nextIndex++,this.adj_list_list[t]=this.nextIndex++,this.cmd(It.createRectangle,this.adj_list_list[t],"",this.adj_list_width,this.adj_list_height,this.adj_list_x_start,this.adj_list_y_start+t*this.adj_list_height),this.cmd(It.setLayer,this.adj_list_list[t],2),this.cmd(It.createLabel,this.adj_list_index[t],this.toStr(t),this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd(It.setForegroundColor,this.adj_list_index[t],"#0000FF"),this.cmd(It.setLayer,this.adj_list_index[t],2);for(var i=this.adj_list_list[t],e=this.adj_list_x_start+this.adj_list_width+this.adj_list_spacing_after_list+this.adj_list_spacing_between_nodes,s=!1,h=0;h<this.size;h++)this.adj_matrix[t][h]>=0&&(s=!0,this.adj_list_edges[t][h]=this.nextIndex++,this.cmd(It.createLinkedListNode,this.adj_list_edges[t][h],[this.toStr(h),this.adj_matrix[t][h]],this.adj_list_elem_width,this.adj_list_elem_height,e,this.adj_list_y_start+t*this.adj_list_height,.25,0,1),this.cmd(It.setNull,this.adj_list_edges[t][h],1),this.cmd(It.setTextColor,this.adj_list_edges[t][h],"#0000FF",0),this.cmd(It.setLayer,this.adj_list_edges[t][h],2),e=e+this.adj_list_elem_width+this.adj_list_spacing_between_nodes,this.cmd(It.connect,i,this.adj_list_edges[t][h]),this.cmd(It.setNull,i,0),i=this.adj_list_edges[t][h]);s||this.cmd(It.setNull,this.adj_list_list[t],1)}}},{key:"reset",value:function(){throw new Error("reset() should be implemented in child")}},{key:"toStr",value:function(t){return String.fromCharCode(65+t)}},{key:"enableUI",value:function(){var t=!0,i=!1,e=void 0;try{for(var s,h=this.controls[Symbol.iterator]();!(t=(s=h.next()).done);t=!0){var a=s.value;a===this.defaultGraphButton&&(this.directed||this.isLarge||this.adj_matrix===this.defaultEdges)?a.disabled=!0:a.disabled=!1}}catch(n){i=!0,e=n}finally{try{t||null==h.return||h.return()}finally{if(i)throw e}}}},{key:"disableUI",value:function(){var t=!0,i=!1,e=void 0;try{for(var s,h=this.controls[Symbol.iterator]();!(t=(s=h.next()).done);t=!0){s.value.disabled=!0}}catch(a){i=!0,e=a}finally{try{t||null==h.return||h.return()}finally{if(i)throw e}}}}]),i}(Ft),Wt=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s,Mt))).addControls(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){xt("Start vertex: "),this.startField=Lt("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=Lt("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),Ct(),Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this)}},{key:"setup",value:function(t){Object(Bt.a)(Object(l.a)(i.prototype),"setup",this).call(this,t),this.commands=[],this.messageID=[],this.visited=[],this.queueID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(It.createLabel,this.infoLabelID,"",25,15,0),this.cmd(It.createLabel,this.nextIndex++,"Visited Set:",25,90,0),this.cmd(It.createLabel,this.nextIndex++,"List:",25,40,0),this.cmd(It.createLabel,this.nextIndex++,"Current vertex:",25,140,0),this.cmd(It.createLabel,this.nextIndex++,"Queue:",25,165,0),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}},{key:"reset",value:function(){this.nextIndex=this.lastIndex,this.listID=[],this.messageID=[],this.visitedID=[]}},{key:"startCallback",value:function(){if(""!==this.startField.value){var t=this.startField.value;this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)>=0&&t<this.size&&this.implementAction(this.doBFS.bind(this),t)}}},{key:"doBFS",value:function(t){this.commands=[],this.clear(),this.queue=[],this.queueID=[],this.listID=[],this.visitedID=[],this.rebuildEdges();var i=t;for(this.cmd(It.setText,this.infoLabelID,"Enqueueing "+this.toStr(i)+" and adding to visited set"),this.visited[i]=!0,this.visitedID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(i),30,115),this.cmd(It.setBackgroundColor,this.circleID[i],"#99CCFF"),this.queue.push(i),this.queueID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(i),30,190),this.cmd(It.step);this.queue.length>0&&this.listID.length<this.size;){i=this.queue.shift(),this.cmd(It.setText,this.infoLabelID,"Dequeueing "+this.toStr(i)+" and adding to list"),this.cmd(It.setTextColor,this.queueID[0],"#0000FF"),this.cmd(It.move,this.queueID[0],115,146);for(var e=1;e<this.queueID.length;e++)this.cmd(It.move,this.queueID[e],30+20*(e-1),190);this.listID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(i),30+20*(this.listID.length-1),65),this.visitVertex(i),this.cmd(It.step);for(var s=0;s<this.size;s++)this.adj_matrix[i][s]>0&&(this.highlightEdge(i,s,1),this.visited[s]?this.cmd(It.setText,this.infoLabelID,this.toStr(s)+" has already been visited, skipping"):(this.visited[s]=!0,this.visitedID.push(this.nextIndex),this.cmd(It.setText,this.infoLabelID,this.toStr(s)+" has not yet been visited, enqueueing and adding to visited set"),this.cmd(It.createLabel,this.nextIndex++,this.toStr(s),30+20*(this.visitedID.length-1),115),this.cmd(It.setBackgroundColor,this.circleID[s],"#99CCFF"),this.queue.push(s),this.queueID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(s),30+20*(this.queue.length-1),190)),this.cmd(It.step),this.highlightEdge(i,s,0));this.cmd(It.delete,this.queueID.shift()),this.leaveVertex()}return this.queue.length>0?this.cmd(It.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(It.setText,this.infoLabelID,"Queue is empty, done"),this.commands}},{key:"clear",value:function(){for(var t=0;t<this.size;t++)this.cmd(It.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(var i=0;i<this.listID.length;i++)this.cmd(It.delete,this.listID[i]);for(var e=0;e<this.visitedID.length;e++)this.cmd(It.delete,this.visitedID[e]);if(null!=this.messageID)for(var s=0;s<this.messageID.length;s++)this.cmd(It.delete,this.messageID[s]);this.messageID=[]}}]),i}(qt),Gt=[["procedure preOrder(Node node)"],["     if node is not null:"],["          look at data in the node"],["          recurse left"],["          recurse right"],["end procedure"]],Yt=[["procedure inOrder(Node node)"],["     if node is not null:"],["          recurse left"],["          look at data in the node"],["          recurse right"],["end procedure"]],Ut=[["procedure postOrder(Node node)"],["     if node is not null:"],["          recurse left"],["          recurse right"],["          look at data in the node"],["end procedure"]],Qt=[["procedure levelOrder()"],["     create Queue q"],["     add root to q"],["     while q is not empty"],["          Node curr <- remove from q"],["          record data from curr"],["          if curr.left is not null:"],["               add curr.left to q"],["          if curr.right is not null:"],["               add curr.right to q"],["end procedure"]],Jt=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).first_print_pos_y=s-2*i.PRINT_VERTICAL_GAP,h.print_max=e-10,h.startingX=e/2,h.addControls(),h.nextIndex=1,h.commands=[],h.edges=[],h.toClear=[],h.cmd(It.createLabel,0,"",i.EXPLANITORY_TEXT_X,i.EXPLANITORY_TEXT_Y,0),h.animationManager.startNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[],this.insertField=Lt("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Lt("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),Ct(),this.deleteField=Lt("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Lt("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),Ct(),this.findField=Lt("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ct();var i=kt(["Pre-order","In-order","Post-order","Level order"],"Traversals");this.preOrderSelect=i[0],this.inOrderSelect=i[1],this.postOrderSelect=i[2],this.levelOrderSelect=i[3],this.preOrderSelect.onclick=function(){return t.traversal="pre"},this.inOrderSelect.onclick=function(){return t.traversal="in"},this.postOrderSelect.onclick=function(){return t.traversal="post"},this.levelOrderSelect.onclick=function(){return t.traversal="level"},this.preOrderSelect.checked=!0,this.traversal="pre",this.traverseButton=Lt("Button","Traverse"),this.traverseButton.onclick=this.traverseCallback.bind(this),this.controls.push(this.traverseButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct();var e=kt(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=e[0],this.succButton=e[1],this.predButton.onclick=function(){return t.predSucc="pred"},this.succButton.onclick=function(){return t.predSucc="succ"},this.succButton.checked=!0,this.predSucc="succ"}},{key:"reset",value:function(){this.nextIndex=1,this.treeRoot=null,this.edges=[],this.toClear=[]}},{key:"insertCallback",value:function(){var t=this.insertField.value;""!==t&&(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t)))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t)))}},{key:"findCallback",value:function(){var t=this.findField.value;""!==t&&(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t)))}},{key:"traverseCallback",value:function(){this.implementAction(this.traverse.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"sizeChanged",value:function(t){this.startingX=t/2}},{key:"printTree",value:function(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(It.delete,this.highlightID),this.cmd(It.step);for(var e=t;e<this.nextIndex;e++)this.cmd(It.delete,e);this.nextIndex=this.highlightID}return this.commands}},{key:"preOrderRec",value:function(t,e){this.codeID=e,this.cmd(It.step);var s=this.nextIndex++;this.unhighlight(3,0),this.unhighlight(4,0),this.highlight(2,0),this.cmd(It.createLabel,s,t.data,t.x,t.y),this.cmd(It.setForegroundColor,s,i.PRINT_COLOR),this.cmd(It.move,s,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=i.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=i.PRINT_VERTICAL_GAP),this.unhighlight(2,0),null!=t.left&&(this.highlight(3,0),this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.preOrderRec(t.left,e),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step)),this.unhighlight(3,0),null!=t.right&&(this.highlight(4,0),this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.preOrderRec(t.right,e),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step)),this.unhighlight(4,0)}},{key:"levelOrder",value:function(t,e){this.codeID=e;var s=[t],h=this.nextIndex++,a=[this.nextIndex];for(this.cmd(It.createLabel,h,"Queue: ",30,225,0),this.cmd(It.step),this.cmd(It.createLabel,this.nextIndex,t.data,t.x,t.y),this.cmd(It.setForegroundColor,this.nextIndex,i.PRINT_COLOR),this.cmd(It.move,this.nextIndex++,35,250,0),this.highlight(2,0),this.cmd(It.step),this.unhighlight(2,0),this.highlight(3,0),this.cmd(It.step);0!==s.length;){var n=s.shift();this.cmd(It.move,this.highlightID,n.x,n.y),this.unhighlight(3,0);var r=a.shift();this.cmd(It.move,r,this.xPosOfNextLabel,this.yPosOfNextLabel),this.highlight(4,0),this.highlight(5,0);for(var l=0;l<a.length;l++)this.cmd(It.move,a[l],35+40*l,250);this.cmd(It.step),this.unhighlight(4,0),this.unhighlight(5,0),this.xPosOfNextLabel+=i.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=i.PRINT_VERTICAL_GAP),this.highlight(6,0),null!=n.left?(this.cmd(It.step),this.unhighlight(6,0),this.highlight(7,0),s.push(n.left),a.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex,n.left.data,n.left.x,n.left.y),this.cmd(It.setForegroundColor,this.nextIndex,i.PRINT_COLOR),this.cmd(It.move,this.nextIndex++,35+40*(s.length-1),250),this.cmd(It.step),this.unhighlight(7,0)):(this.cmd(It.step),this.unhighlight(6,0)),this.highlight(8,0),null!=n.right?(this.cmd(It.step),this.unhighlight(8,0),this.highlight(9,0),s.push(n.right),a.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex,n.right.data,n.right.x,n.right.y),this.cmd(It.setForegroundColor,this.nextIndex,i.PRINT_COLOR),this.cmd(It.move,this.nextIndex++,35+40*(s.length-1),250),this.cmd(It.step),this.unhighlight(9,0)):(this.cmd(It.step),this.unhighlight(8,0)),this.highlight(3,0),this.cmd(It.step)}this.unhighlight(3,0)}},{key:"traverse",value:function(){if(this.commands=[],this.clearOldObjects(),null==this.treeRoot)return this.commands;this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,"pre"===this.traversal?(this.codeID=this.addCodeToCanvasBase(Gt,25,35,14),this.preOrderRec(this.treeRoot,this.codeID)):"in"===this.traversal?(this.codeID=this.addCodeToCanvasBase(Yt,25,35,14),this.printTreeRec(this.treeRoot,this.codeID)):"post"===this.traversal?(this.codeID=this.addCodeToCanvasBase(Ut,25,35,14),this.postOrderRec(this.treeRoot,this.codeID)):"level"===this.traversal&&(this.codeID=this.addCodeToCanvasBase(Qt,25,35,14),this.levelOrder(this.treeRoot,this.codeID)),this.cmd(It.delete,this.highlightID),this.cmd(It.step);for(var e=t;e<this.nextIndex;e++)this.toClear.push(e);return this.commands}},{key:"postOrderRec",value:function(t,e){this.codeID=e,this.cmd(It.step),null!=t.left&&(this.unhighlight(3,0),this.highlight(2,0),this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.postOrderRec(t.left,e),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step)),this.unhighlight(2,0),null!=t.right&&(this.unhighlight(2,0),this.highlight(3,0),this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.postOrderRec(t.right,e),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step)),this.unhighlight(3,0),this.highlight(4,0);var s=this.nextIndex++;this.cmd(It.createLabel,s,t.data,t.x,t.y),this.cmd(It.setForegroundColor,s,i.PRINT_COLOR),this.cmd(It.move,s,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=i.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=i.PRINT_VERTICAL_GAP),this.unhighlight(4,0)}},{key:"printTreeRec",value:function(t,e){this.codeID=e,this.cmd(It.step),null!=t.left&&(this.unhighlight(3,0),this.unhighlight(4,0),this.highlight(2,0),this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left,e),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step)),this.unhighlight(2,0),this.unhighlight(4,0),this.highlight(3,0);var s=this.nextIndex++;this.cmd(It.createLabel,s,t.data,t.x,t.y),this.cmd(It.setForegroundColor,s,i.PRINT_COLOR),this.cmd(It.move,s,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=i.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=i.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=i.PRINT_VERTICAL_GAP),this.unhighlight(3,0),null!=t.right&&(this.unhighlight(2,0),this.unhighlight(3,0),this.highlight(4,0),this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right,e),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step)),this.unhighlight(4,0)}},{key:"findElement",value:function(t){return this.commands=[],this.clearOldObjects(),this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}},{key:"doFind",value:function(t,e){this.cmd(It.setText,0,"Searching for "+e),null!=t?(this.cmd(It.setHighlight,t.graphicID,1),t.data===e?(this.cmd(It.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(It.step),this.cmd(It.setText,0,"Found:"+e),this.cmd(It.setHighlight,t.graphicID,0)):t.data>e?(this.cmd(It.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),null!=t.left&&(this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID)),this.doFind(t.left,e)):(this.cmd(It.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),null!=t.right&&(this.cmd(It.createHighlightCircle,this.highlightID,i.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID)),this.doFind(t.right,e))):(this.cmd(It.setText,0,"Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(It.step),this.cmd(It.setText,0,"Searching for "+e+" :  (Element not found)"))}},{key:"remakeTree",value:function(t){null!=t&&(null!=t.left&&(this.cmd(It.connect,t.graphicID,t.left.graphicID,i.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(It.connect,t.graphicID,t.right.graphicID,i.LINK_COLOR),this.remakeTree(t.right)))}},{key:"clearOldObjects",value:function(){var t=this;this.toClear.forEach((function(i){return t.cmd(It.delete,i)})),this.toClear=[]}},{key:"add",value:function(t){return this.commands=[],this.clearOldObjects(),this.cmd(It.setText,0,"Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}},{key:"addH",value:function(t,e){if(null==e){this.cmd(It.setText,0,"Null found, inserting new node");var s=this.nextIndex++;return this.cmd(It.createCircle,s,t,30,i.STARTING_Y),this.cmd(It.setForegroundColor,s,i.FOREGROUND_COLOR),this.cmd(It.setBackgroundColor,s,i.BACKGROUND_COLOR),this.cmd(It.step),this.cmd(It.setText,0,""),new Zt(t,s,0,0)}if(this.cmd(It.setHighlight,e.graphicID,1),t<e.data)this.cmd(It.setText,0,"".concat(t," < ").concat(e.data,". Looking at left subtree")),this.cmd(It.step),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree(),this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(It.step);else if(t>e.data){this.cmd(It.setText,0,"".concat(t," > ").concat(e.data,". Looking at right subtree")),this.cmd(It.step),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree(),this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(It.step)}else this.cmd(It.setText,0,"".concat(t," == ").concat(e.data,". Ignoring duplicate!")),this.cmd(It.step);return this.cmd(It.setHighlight,e.graphicID,0),this.cmd(It.setText,0,""),e}},{key:"connectSmart",value:function(t,e){return!this.edges.some((function(i){return i[0]===t&&i[1]===e}))&&(this.cmd(It.connect,t,e,i.LINK_COLOR),this.edges.push([t,e]),!0)}},{key:"deleteNode",value:function(t){this.cmd(It.delete,t.graphicID)}},{key:"remove",value:function(t){return this.commands=[],this.clearOldObjects(),this.cmd(It.setText,0,"Deleting ".concat(t)),this.cmd(It.step),this.cmd(It.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.cmd(It.setText,0,""),this.resizeTree(),this.commands}},{key:"removeH",value:function(t,i){if(null!=t){if(this.cmd(It.setHighlight,t.graphicID,1),i<t.data)this.cmd(It.setText,0,"".concat(i," < ").concat(t.data,". Looking left")),this.cmd(It.step),t.left=this.removeH(t.left,i),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(i>t.data)this.cmd(It.setText,0,"".concat(i," > ").concat(t.data,". Looking right")),this.cmd(It.step),t.right=this.removeH(t.right,i),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd(It.setText,0,"Element to delete is a leaf node"),this.cmd(It.step),this.deleteNode(t),this.cmd(It.step),null;if(null==t.left)return this.cmd(It.setText,0,"One-child case, replace with right child"),this.cmd(It.step),this.deleteNode(t),this.cmd(It.step),t.right;if(null==t.right)return this.cmd(It.setText,0,"One-child case, replace with left child"),this.cmd(It.step),this.deleteNode(t),this.cmd(It.step),t.left;var e=[];"succ"===this.predSucc?(this.cmd(It.setText,0,"Two-child case, replace data with successor"),this.cmd(It.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(It.setText,0,"Two-child case, replace data with predecessor"),this.cmd(It.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),t.data=e[0],this.cmd(It.setText,t.graphicID,t.data)}return this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setText,0,""),t}this.cmd(It.setText,0,"".concat(i," not found in the tree"))}},{key:"removeSucc",value:function(t,i){return this.cmd(It.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(It.step),null==t.left?(this.cmd(It.setText,0,"No left child, replace with right child"),this.cmd(It.step),i.push(t.data),this.deleteNode(t),this.cmd(It.step),this.cmd(It.setText,0,""),t.right):(this.cmd(It.setText,0,"Left child exists, look left"),t.left=this.removeSucc(t.left,i),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),this.cmd(It.setHighlight,t.graphicID,0,"#0000ff"),t)}},{key:"removePred",value:function(t,i){return this.cmd(It.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(It.step),null==t.right?(this.cmd(It.setText,0,"No right child, replace with right child"),this.cmd(It.step),i.push(t.data),this.deleteNode(t),this.cmd(It.step),this.cmd(It.setText,0,""),t.left):(this.cmd(It.setText,0,"Right child exists, look right"),this.cmd(It.step),t.right=this.removePred(t.right,i),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),this.cmd(It.setHighlight,t.graphicID,0,"#0000ff"),t)}},{key:"resizeTree",value:function(){if(null!=this.treeRoot){var t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,i.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd(It.step))}}},{key:"setNewPositions",value:function(t,e,s,h){null!=t&&(t.y=s,-1===h?e-=t.rightWidth:1===h&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,s+i.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,s+i.HEIGHT_DELTA,1))}},{key:"animateNewPositions",value:function(t){null!=t&&(this.cmd(It.move,t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}},{key:"resizeWidths",value:function(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),i.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),i.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}},{key:"clear",value:function(){return this.commands=[],this.clearOldObjects(),this.recClear(this.treeRoot),this.treeRoot=null,this.commands}},{key:"recClear",value:function(t){null!=t&&(this.cmd(It.delete,t.graphicID),this.recClear(t.left),this.recClear(t.right))}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"highlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#FF0000")}},{key:"unhighlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000")}}]),i}(Ft),Zt=function t(i,e,s,h){Object(a.a)(this,t),this.data=i,this.x=s,this.y=h,this.graphicID=e,this.left=null,this.right=null,this.parent=null};Jt.HIGHLIGHT_LABEL_COLOR="#FF0000",Jt.HIGHLIGHT_LINK_COLOR="#FF0000",Jt.HIGHLIGHT_COLOR="#007700",Jt.HEIGHT_LABEL_COLOR="#007700",Jt.LINK_COLOR="#00B000",Jt.HIGHLIGHT_CIRCLE_COLOR="#007700",Jt.FOREGROUND_COLOR="#007700",Jt.BACKGROUND_COLOR="#DDFFDD",Jt.PRINT_COLOR=Jt.FOREGROUND_COLOR,Jt.WIDTH_DELTA=50,Jt.HEIGHT_DELTA=50,Jt.STARTING_Y=50,Jt.FIRST_PRINT_POS_X=50,Jt.PRINT_VERTICAL_GAP=20,Jt.PRINT_HORIZONTAL_GAP=50,Jt.EXPLANITORY_TEXT_X=10,Jt.EXPLANITORY_TEXT_Y=10;var $t=20,ti=5,ii=10,ei=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).nextIndex=0,h.starting_x=e/2,h.preemptiveSplit=!1,h.addControls(),h.max_keys=3,h.min_keys=1,h.split_index=1,h.max_degree=4,h.messageID=h.nextIndex++,h.cmd(It.createLabel,h.messageID,"",ti,ii,0),h.moveLabel1ID=h.nextIndex++,h.moveLabel2ID=h.nextIndex++,h.animationManager.startNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h.commands=[],h.first_print_pos_y=s-3*$t,h.xPosOfNextLabel=100,h.yPosOfNextLabel=200,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[],this.insertField=Lt("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Lt("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),Ct(),this.deleteField=Lt("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Lt("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),Ct(),this.findField=Lt("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ct(),this.printButton=Lt("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct(),xt("Promote with");var i=kt(["second data","third data"],"Split Index");this.splitSecondSelect=i[0],this.splitThirdSelect=i[1],this.splitSecondSelect.onclick=function(){return t.split_index=1},this.splitThirdSelect.onclick=function(){return t.split_index=2},this.splitSecondSelect.checked=!0,this.split_index=1,Ct();var e=kt(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=e[0],this.succButton=e[1],this.predButton.onclick=this.predCallback.bind(this),this.succButton.onclick=this.succCallback.bind(this),this.succButton.checked=!0,this.predSucc="succ"}},{key:"reset",value:function(){this.nextIndex=3,this.max_degree=4,this.max_keys=3,this.min_keys=1,this.split_index=1,this.treeRoot=null,this.ignoreInputs=!0,this.ignoreInputs=!1}},{key:"enableUI",value:function(){var t;for(t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"maxDegreeChangedHandler",value:function(t){this.max_degree!==t&&(this.implementAction(this.changeDegree.bind(this),t),this.animationManager.skipForward(),this.animationManager.clearHistory())}},{key:"predCallback",value:function(){"pred"!==this.predSucc&&(this.predSucc="pred")}},{key:"succCallback",value:function(){"succ"!==this.predSucc&&(this.predSucc="succ")}},{key:"insertCallback",value:function(){var t=this.normalizeNumber(this.insertField.value,4);""!==t&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t)))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(this.deleteField.value,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),parseInt(t)))}},{key:"clearCallback",value:function(){this.implementAction(this.clearTree.bind(this))}},{key:"premtiveSplitCallback",value:function(){this.preemptiveSplit!==this.premptiveSplitBox.checked&&this.implementAction(this.changePreemtiveSplit.bind(this),this.premptiveSplitBox.checked)}},{key:"changePreemtiveSplit",value:function(t){return this.commands=[],this.cmd(It.step),this.preemptiveSplit=t,this.premptiveSplitBox.checked!==this.preemptiveSplit&&(this.premptiveSplitBox.checked=this.preemptiveSplit),this.commands}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this))}},{key:"printTree",value:function(){this.commands=[],this.cmd(It.setText,this.messageID,"Printing tree");var t=this.nextIndex;this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(It.step);for(var i=t;i<this.nextIndex;i++)this.cmd(It.delete,i);return this.nextIndex=t,this.cmd(It.setText,this.messageID,""),this.commands}},{key:"printTreeRec",value:function(t){var i;if(this.cmd(It.setHighlight,t.graphicID,1),t.isLeaf){for(var e=0;e<t.numKeys;e++)i=this.nextIndex++,this.cmd(It.createLabel,i,t.keys[e],this.getLabelX(t,e),t.y),this.cmd(It.setForegroundColor,i,"#007700"),this.cmd(It.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=$t);this.cmd(It.setHighlight,t.graphicID,0)}else{this.cmd(It.setEdgeHighlight,t.graphicID,t.children[0].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[0].graphicID,0),this.printTreeRec(t.children[0]);for(var s=0;s<t.numKeys;s++)this.cmd(It.setHighlight,t.graphicID,1),i=this.nextIndex++,this.cmd(It.createLabel,i,t.keys[s],this.getLabelX(t,s),t.y),this.cmd(It.setForegroundColor,i,"#007700"),this.cmd(It.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=$t),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,0),this.printTreeRec(t.children[s+1]);this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0)}}},{key:"clearTree",value:function(){return this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=3,this.commands}},{key:"deleteTree",value:function(t){if(null!=t){if(!t.isLeaf)for(var i=0;i<=t.numKeys;i++)this.cmd(It.disconnect,t.graphicID,t.children[i].graphicID),this.deleteTree(t.children[i]);this.cmd(It.delete,t.graphicID)}}},{key:"changeDegree",value:function(t){this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=3;var i=t;return this.ignoreInputs=!0,this.maxDegreeRadioButtons[i-4].checked=!0,this.ignoreInputs=!1,this.max_degree=i,this.max_keys=i-1,this.min_keys=Math.floor((i+1)/2)-1,this.split_index=Math.floor((i-1)/2),0===this.commands.length&&this.cmd(It.step),i%2!==0&&this.preemptiveSplit&&(this.preemptiveSplit=!1,this.premptiveSplitBox.checked=!1),this.commands}},{key:"findCallback",value:function(){var t=this.normalizeNumber(this.findField.value,4);this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))}},{key:"findElement",value:function(t){return this.commands=[],this.cmd(It.setText,this.messageID,"Finding "+t),this.findInTree(this.treeRoot,t),this.commands}},{key:"findInTree",value:function(t,i){if(null!=t){var e;for(this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),e=0;e<t.numKeys&&t.keys[e]<i;e++);e===t.numKeys?t.isLeaf?(this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setText,this.messageID,"Element "+i+" is not in the tree")):(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),this.findInTree(t.children[t.numKeys],i)):t.keys[e]>i?t.isLeaf?(this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setText,this.messageID,"Element "+i+" is not in the tree")):(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[e].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[e].graphicID,0),this.findInTree(t.children[e],i)):(this.cmd(It.setTextColor,t.graphicID,"#FF0000",e),this.cmd(It.setText,this.messageID,"Element "+i+" found"),this.cmd(It.step),this.cmd(It.setTextColor,t.graphicID,"#007700",e),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.step))}else this.cmd(It.setText,this.messageID,"Element "+i+" is not in the tree")}},{key:"insertElement",value:function(t){return this.commands=[],this.cmd(It.setText,this.messageID,"Inserting "+t),this.cmd(It.step),null==this.treeRoot?(this.treeRoot=new si(this.nextIndex++,this.starting_x,30),this.cmd(It.createBTreeNode,this.treeRoot.graphicID,40,20,1,this.starting_x,30,"#EEFFEE","#007700"),this.treeRoot.keys[0]=t,this.cmd(It.setText,this.treeRoot.graphicID,t,0)):(this.preemptiveSplit?(this.treeRoot.numKeys===this.max_keys&&(this.split(this.treeRoot),this.resizeTree(),this.cmd(It.step)),this.insertNotFull(this.treeRoot,t)):this.insert(this.treeRoot,t),this.treeRoot.isLeaf||this.resizeTree()),this.cmd(It.setText,this.messageID,""),this.commands}},{key:"insertNotFull",value:function(t,i){if(t.keys.includes(i))return this.cmd(It.setText,0,"".concat(i," == ").concat(i,". Ignoring duplicate!")),this.cmd(It.step),void this.cmd(It.setHighlight,t.graphicID,0);if(this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),t.isLeaf){this.cmd(It.setText,this.messageID,"Inserting "+i+".  Inserting into a leaf"),t.numKeys++,this.cmd(It.setNumElements,t.graphicID,t.numKeys);for(var e=t.numKeys-1;e>0&&t.keys[e-1]>i;)t.keys[e]=t.keys[e-1],this.cmd(It.setText,t.graphicID,t.keys[e],e),e--;t.keys[e]=i,this.cmd(It.setText,t.graphicID,t.keys[e],e),this.cmd(It.setHighlight,t.graphicID,0),this.resizeTree()}else{for(var s=0;s<t.numKeys&&t.keys[s]<i;)s++;if(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(It.step),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0),this.cmd(It.setHighlight,t.graphicID,0),t.children[s].numKeys===this.max_keys){var h=this.split(t.children[s]);this.resizeTree(),this.cmd(It.step),this.insertNotFull(h,i)}else this.insertNotFull(t.children[s],i)}}},{key:"insert",value:function(t,i){if(this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),t.keys.includes(i))return this.cmd(It.setText,0,"".concat(i," == ").concat(i,". Ignoring duplicate!")),this.cmd(It.step),void this.cmd(It.setHighlight,t.graphicID,0);if(t.isLeaf){this.cmd(It.setText,this.messageID,"Inserting "+i+".  Inserting into a leaf"),t.numKeys++,this.cmd(It.setNumElements,t.graphicID,t.numKeys);for(var e=t.numKeys-1;e>0&&t.keys[e-1]>i;)t.keys[e]=t.keys[e-1],this.cmd(It.setText,t.graphicID,t.keys[e],e),e--;t.keys[e]=i,this.cmd(It.setText,t.graphicID,t.keys[e],e),this.cmd(It.setHighlight,t.graphicID,0),this.resizeTree(),this.insertRepair(t)}else{for(var s=0;s<t.numKeys&&t.keys[s]<i;)s++;this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(It.step),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0),this.cmd(It.setHighlight,t.graphicID,0),this.insert(t.children[s],i)}}},{key:"insertRepair",value:function(t){if(!(t.numKeys<=this.max_keys))if(null!=t.parent){var i=this.split(t);this.insertRepair(i)}else this.treeRoot=this.split(t)}},{key:"split",value:function(t){this.cmd(It.setText,this.messageID,"Node now contains too many keys.  Splittig ..."),this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0);var i=new si(this.nextIndex++,t.x+100,t.y);i.numKeys=t.numKeys-this.split_index-1;var e,s,h=t.keys[this.split_index];if(null!=t.parent){for(e=t.parent,s=0;s<e.numKeys+1&&e.children[s]!==t;s++);if(s===e.numKeys+1)throw new Error("Couldn't find which child we were!");this.cmd(It.setNumElements,e.graphicID,e.numKeys+1);for(var a=e.numKeys;a>s;a--)e.children[a+1]=e.children[a],this.cmd(It.disconnect,e.graphicID,e.children[a].graphicID),this.cmd(It.connect,e.graphicID,e.children[a].graphicID,"#007700",0,0,"",a+1),e.keys[a]=e.keys[a-1],this.cmd(It.setText,e.graphicID,e.keys[a],a);e.numKeys++,e.keys[s]=h,this.cmd(It.setText,e.graphicID,"",s),this.moveLabel1ID=this.nextIndex++,this.cmd(It.createLabel,this.moveLabel1ID,h,this.getLabelX(t,this.split_index),t.y),this.cmd(It.setForegroundColor,this.moveLabel1ID,"#007700"),this.cmd(It.move,this.moveLabel1ID,this.getLabelX(e,s),e.y),e.children[s+1]=i,i.parent=e}this.cmd(It.createBTreeNode,i.graphicID,40,20,t.numKeys-this.split_index-1,t.x,t.y,"#EEFFEE","#007700");for(var n=this.split_index+1;n<t.numKeys+1;n++)i.children[n-this.split_index-1]=t.children[n],null!=t.children[n]&&(i.isLeaf=!1,this.cmd(It.disconnect,t.graphicID,t.children[n].graphicID),this.cmd(It.connect,i.graphicID,i.children[n-this.split_index-1].graphicID,"#007700",0,0,"",n-this.split_index-1),null!=t.children[n]&&(t.children[n].parent=i),t.children[n]=null);for(var r=this.split_index+1;r<t.numKeys;r++)i.keys[r-this.split_index-1]=t.keys[r],this.cmd(It.setText,i.graphicID,i.keys[r-this.split_index-1],r-this.split_index-1);var l=t;l.numKeys=this.split_index;for(var o=this.split_index;o<t.numKeys;o++)this.cmd(It.setText,t.graphicID,"",o);return this.cmd(It.setNumElements,t.graphicID,this.split_index),null!=t.parent?(this.cmd(It.connect,e.graphicID,i.graphicID,"#007700",0,0,"",s+1),this.resizeTree(),this.cmd(It.step),this.cmd(It.delete,this.moveLabel1ID),this.cmd(It.setText,e.graphicID,h,s),t.parent):(this.treeRoot=new si(this.nextIndex++,this.starting_x,30),this.cmd(It.createBTreeNode,this.treeRoot.graphicID,40,20,1,this.starting_x,30,"#EEFFEE","#007700"),this.treeRoot.keys[0]=h,this.cmd(It.setText,this.treeRoot.graphicID,h,0),this.treeRoot.children[0]=l,this.treeRoot.children[1]=i,l.parent=this.treeRoot,i.parent=this.treeRoot,this.cmd(It.connect,this.treeRoot.graphicID,l.graphicID,"#007700",0,0,"",0),this.cmd(It.connect,this.treeRoot.graphicID,i.graphicID,"#007700",0,0,"",1),this.treeRoot.isLeaf=!1,this.treeRoot)}},{key:"deleteElement",value:function(t){return this.commands=[],this.cmd(It.setText,0,"Deleting "+t),this.cmd(It.step),this.cmd(It.setText,0,""),this.highlightID=this.nextIndex++,this.cmd(It.setText,0,""),this.preemptiveSplit?this.doDeleteNotEmpty(this.treeRoot,t):this.doDelete(this.treeRoot,t),0===this.treeRoot.numKeys&&(this.cmd(It.step),this.cmd(It.delete,this.treeRoot.graphicID),this.treeRoot=this.treeRoot.children[0],this.treeRoot.parent=null,this.resizeTree()),this.commands}},{key:"doDeleteNotEmpty",value:function(t,i){if(null!=t){var e,s;for(this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),s=0;s<t.numKeys&&t.keys[s]<i;s++);if(s===t.numKeys)t.isLeaf?this.cmd(It.setHighlight,t.graphicID,0):(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),t.children[t.numKeys].numKeys===this.min_keys?t.children[t.numKeys-1].numKeys>this.min_keys?(e=this.stealFromLeft(t.children[t.numKeys],t.numKeys),this.doDeleteNotEmpty(e,i)):(e=this.mergeRight(t.children[t.numKeys-1]),this.doDeleteNotEmpty(e,i)):this.doDeleteNotEmpty(t.children[t.numKeys],i));else if(t.keys[s]>i)t.isLeaf?this.cmd(It.setHighlight,t.graphicID,0):(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0),t.children[s].numKeys>this.min_keys?this.doDeleteNotEmpty(t.children[s],i):t.children[s+1].numKeys>this.min_keys?(e=this.stealFromRight(t.children[s],s),this.doDeleteNotEmpty(e,i)):(e=this.mergeRight(t.children[s]),this.doDeleteNotEmpty(e,i)));else if(this.cmd(It.setTextColor,t.graphicID,"FF0000",s),this.cmd(It.step),t.isLeaf){this.cmd(It.setTextColor,t.graphicID,"#007700",s);for(var h=s;h<t.numKeys-1;h++)t.keys[h]=t.keys[h+1],this.cmd(It.setText,t.graphicID,t.keys[h],h);t.numKeys--,this.cmd(It.setText,t.graphicID,"",t.numKeys),this.cmd(It.setNumElements,t.graphicID,t.numKeys),this.cmd(It.setHighlight,t.graphicID,0),this.resizeTree(),this.cmd(It.setText,this.messageID,"")}else{this.cmd(It.setText,this.messageID,"Checking to see if tree to left of element to delete \nhas an extra key"),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(It.step),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0);var a=t.children[s];if(t.children[s].numKeys===this.min_keys){if(this.cmd(It.setText,this.messageID,"Tree to left of element to delete does not have an extra key.  \nLooking to the right ..."),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,1),this.cmd(It.step),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,0),t.children[s+1].numKeys===this.min_keys)return this.cmd(It.setText,this.messageID,"Neither subtree has extra nodes.  Mergeing around the key to delete, \nand recursively deleting ..."),this.cmd(It.step),this.cmd(It.setTextColor,t.graphicID,"#007700",s),e=this.mergeRight(t.children[s]),void this.doDeleteNotEmpty(e,i);this.cmd(It.setText,this.messageID,"Tree to right of element to delete does have an extra key. \nFinding the smallest key in that subtree ..."),this.cmd(It.step);for(var n=t.children[s+1];!n.isLeaf;)this.cmd(It.setHighlight,n.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,n.graphicID,0),n=n.children[0].numKeys===this.min_keys?n.children[1].numKeys===this.min_keys?this.mergeRight(n.children[0]):this.stealFromRight(n.children[0],0):n.children[0];for(this.cmd(It.setHighlight,n.graphicID,1),t.keys[s]=n.keys[0],this.cmd(It.setTextColor,t.graphicID,"#007700",s),this.cmd(It.setText,t.graphicID,"",s),this.cmd(It.setText,n.graphicID,"",0),this.cmd(It.createLabel,this.moveLabel1ID,n.keys[0],this.getLabelX(n,0),n.y),this.cmd(It.move,this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd(It.step),this.cmd(It.delete,this.moveLabel1ID),this.cmd(It.setText,t.graphicID,t.keys[s],s),s=1;s<n.numKeys;s++)n.keys[s-1]=n.keys[s],this.cmd(It.setText,n.graphicID,n.keys[s-1],s-1);this.cmd(It.setText,n.graphicID,"",n.numKeys-1),n.numKeys--,this.cmd(It.setHighlight,n.graphicID,0),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setNumElements,n.graphicID,n.numKeys),this.resizeTree(),this.cmd(It.setText,this.messageID,"")}else{for(this.cmd(It.setText,this.messageID,"Tree to left of element to delete does have \nan extra key. Finding the largest key in that subtree ..."),this.cmd(It.step);!a.isLeaf;)this.cmd(It.setHighlight,a.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,a.graphicID,0),a.children[a.numKeys].numKeys===this.min_keys?(a.children[a.numKeys-1]>this.min_keys&&(a=this.stealFromLeft(a.children[a.numKeys],a.numKeys)),a=this.mergeRight(a.children[a.numKeys-1])):a=a.children[a.numKeys];this.cmd(It.setHighlight,a.graphicID,1),t.keys[s]=a.keys[a.numKeys-1],this.cmd(It.setTextColor,t.graphicID,"#007700",s),this.cmd(It.setText,t.graphicID,"",s),this.cmd(It.setText,a.graphicID,"",a.numKeys-1),this.cmd(It.createLabel,this.moveLabel1ID,t.keys[s],this.getLabelX(a,a.numKeys-1),a.y),this.cmd(It.move,this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd(It.step),this.cmd(It.delete,this.moveLabel1ID),this.cmd(It.setText,t.graphicID,t.keys[s],s),a.numKeys--,this.cmd(It.setHighlight,a.graphicID,0),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setNumElements,a.graphicID,a.numKeys),this.resizeTree(),this.cmd(It.setText,this.messageID,"")}}}}},{key:"doDelete",value:function(t,i){if(null!=t){var e;for(this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.step),e=0;e<t.numKeys&&t.keys[e]<i;e++);if(e===t.numKeys)t.isLeaf?this.cmd(It.setHighlight,t.graphicID,0):(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),this.doDelete(t.children[t.numKeys],i));else if(t.keys[e]>i)t.isLeaf?this.cmd(It.setHighlight,t.graphicID,0):(this.cmd(It.setEdgeHighlight,t.graphicID,t.children[e].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setEdgeHighlight,t.graphicID,t.children[e].graphicID,0),this.doDelete(t.children[e],i));else if(this.cmd(It.setTextColor,t.graphicID,"#FF0000",e),this.cmd(It.step),t.isLeaf){this.cmd(It.setTextColor,t.graphicID,"#007700",e);for(var s=e;s<t.numKeys-1;s++)t.keys[s]=t.keys[s+1],this.cmd(It.setText,t.graphicID,t.keys[s],s);t.numKeys--,this.cmd(It.setText,t.graphicID,"",t.numKeys),this.cmd(It.setNumElements,t.graphicID,t.numKeys),this.cmd(It.setHighlight,t.graphicID,0),this.repairAfterDelete(t)}else{var h;if("pred"===this.predSucc){for(h=t.children[e];!h.isLeaf;)this.cmd(It.setHighlight,h.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,h.graphicID,0),h=h.children[h.numKeys];this.cmd(It.setHighlight,h.graphicID,1),t.keys[e]=h.keys[h.numKeys-1],this.cmd(It.setTextColor,t.graphicID,"#007700",e),this.cmd(It.setText,t.graphicID,"",e),this.cmd(It.setText,h.graphicID,"",h.numKeys-1),this.cmd(It.createLabel,this.moveLabel1ID,t.keys[e],this.getLabelX(h,h.numKeys-1),h.y)}else{for(h=t.children[e+1];!h.isLeaf;)this.cmd(It.setHighlight,h.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,h.graphicID,0),h=h.children[0];this.cmd(It.setHighlight,h.graphicID,1),t.keys[e]=h.keys[0],this.cmd(It.setTextColor,t.graphicID,"#007700",e),this.cmd(It.setText,t.graphicID,"",e),this.cmd(It.setText,h.graphicID,"",0),this.cmd(It.createLabel,this.moveLabel1ID,t.keys[e],this.getLabelX(h,0),h.y)}if(this.cmd(It.move,this.moveLabel1ID,this.getLabelX(t,e),t.y),this.cmd(It.step),this.cmd(It.delete,this.moveLabel1ID),this.cmd(It.setText,t.graphicID,t.keys[e],e),h.numKeys--,this.cmd(It.setHighlight,h.graphicID,0),this.cmd(It.setHighlight,t.graphicID,0),"succ"===this.predSucc)for(var a=0;a<h.numKeys;a++)h.keys[a]=h.keys[a+1],this.cmd(It.setText,h.graphicID,h.keys[a],a);this.cmd(It.setNumElements,h.graphicID,h.numKeys),this.repairAfterDelete(h)}}}},{key:"mergeRight",value:function(t){this.cmd(It.setText,this.messageID,"Merging node");var i=t.parent,e=0;for(e=0;i.children[e]!==t;e++);var s=i.children[e+1];this.cmd(It.setHighlight,t.graphicID,1),this.cmd(It.setHighlight,i.graphicID,1),this.cmd(It.setHighlight,s.graphicID,1),this.cmd(It.step),this.cmd(It.setNumElements,t.graphicID,t.numKeys+s.numKeys+1),t.x=(t.x+s.x)/2,this.cmd(It.setPosition,t.graphicID,t.x,t.y),t.keys[t.numKeys]=i.keys[e];var h=t.numKeys;this.cmd(It.setText,t.graphicID,"",t.numKeys),this.cmd(It.createLabel,this.moveLabel1ID,i.keys[e],this.getLabelX(i,e),i.y);for(var a=0;a<s.numKeys;a++)t.keys[t.numKeys+1+a]=s.keys[a],this.cmd(It.setText,t.graphicID,t.keys[t.numKeys+1+a],t.numKeys+1+a),this.cmd(It.setText,s.graphicID,"",a);if(!t.isLeaf)for(var n=0;n<=s.numKeys;n++)this.cmd(It.disconnect,s.graphicID,s.children[n].graphicID),t.children[t.numKeys+1+n]=s.children[n],t.children[t.numKeys+1+n].parent=t,this.cmd(It.connect,t.graphicID,t.children[t.numKeys+1+n].graphicID,"#007700",0,0,"",t.numKeys+1+n);this.cmd(It.disconnect,i.graphicID,s.graphicID);for(var r=e+1;r<i.numKeys;r++)this.cmd(It.disconnect,i.graphicID,i.children[r+1].graphicID),i.children[r]=i.children[r+1],this.cmd(It.connect,i.graphicID,i.children[r].graphicID,"#007700",0,0,"",r),i.keys[r-1]=i.keys[r],this.cmd(It.setText,i.graphicID,i.keys[r-1],r-1);return this.cmd(It.setText,i.graphicID,"",i.numKeys-1),i.numKeys--,this.cmd(It.setNumElements,i.graphicID,i.numKeys),this.cmd(It.setHighlight,t.graphicID,0),this.cmd(It.setHighlight,i.graphicID,0),this.cmd(It.delete,s.graphicID),t.numKeys=t.numKeys+s.numKeys+1,this.cmd(It.move,this.moveLabel1ID,this.getLabelX(t,h),t.y),this.cmd(It.step),this.cmd(It.delete,this.moveLabel1ID),this.cmd(It.setText,t.graphicID,t.keys[h],h),this.cmd(It.setText,this.messageID,""),t}},{key:"stealFromRight",value:function(t,i){var e=t.parent;this.cmd(It.setNumElements,t.graphicID,t.numKeys+1),this.cmd(It.setText,this.messageID,"Stealing from right sibling");var s=e.children[i+1];t.numKeys++,this.cmd(It.setNumElements,t.graphicID,t.numKeys),this.cmd(It.setText,t.graphicID,"",t.numKeys-1),this.cmd(It.setText,e.graphicID,"",i),this.cmd(It.setText,s.graphicID,"",0);var h=this.nextIndex++,a=this.nextIndex++;if(this.cmd(It.createLabel,h,s.keys[0],this.getLabelX(s,0),s.y),this.cmd(It.createLabel,a,e.keys[i],this.getLabelX(e,i),e.y),this.cmd(It.setForegroundColor,h,"#007700"),this.cmd(It.setForegroundColor,a,"#007700"),this.cmd(It.move,h,this.getLabelX(e,i),e.y),this.cmd(It.move,a,this.getLabelX(t,t.numKeys-1),t.y),this.cmd(It.step),this.cmd(It.delete,h),this.cmd(It.delete,a),t.keys[t.numKeys-1]=e.keys[i],e.keys[i]=s.keys[0],this.cmd(It.setText,t.graphicID,t.keys[t.numKeys-1],t.numKeys-1),this.cmd(It.setText,e.graphicID,e.keys[i],i),!t.isLeaf){t.children[t.numKeys]=s.children[0],t.children[t.numKeys].parent=t,this.cmd(It.disconnect,s.graphicID,s.children[0].graphicID),this.cmd(It.connect,t.graphicID,t.children[t.numKeys].graphicID,"#007700",0,0,"",t.numKeys);for(var n=1;n<s.numKeys+1;n++)this.cmd(It.disconnect,s.graphicID,s.children[n].graphicID),s.children[n-1]=s.children[n],this.cmd(It.connect,s.graphicID,s.children[n-1].graphicID,"#007700",0,0,"",n-1)}for(var r=1;r<s.numKeys;r++)s.keys[r-1]=s.keys[r],this.cmd(It.setText,s.graphicID,s.keys[r-1],r-1);return this.cmd(It.setText,s.graphicID,"",s.numKeys-1),s.numKeys--,this.cmd(It.setNumElements,s.graphicID,s.numKeys),this.resizeTree(),this.cmd(It.setText,this.messageID,""),t}},{key:"stealFromLeft",value:function(t,i){var e=t.parent;t.numKeys++,this.cmd(It.setNumElements,t.graphicID,t.numKeys),this.cmd(It.setText,this.messageID,"Node has too few keys.  Stealing from left sibling.");for(var s=t.numKeys-1;s>0;s--)t.keys[s]=t.keys[s-1],this.cmd(It.setText,t.graphicID,t.keys[s],s);var h=e.children[i-1];this.cmd(It.setText,t.graphicID,"",0),this.cmd(It.setText,e.graphicID,"",i-1),this.cmd(It.setText,h.graphicID,"",h.numKeys-1);var a=this.nextIndex++,n=this.nextIndex++;if(this.cmd(It.createLabel,a,h.keys[h.numKeys-1],this.getLabelX(h,h.numKeys-1),h.y),this.cmd(It.createLabel,n,e.keys[i-1],this.getLabelX(e,i-1),e.y),this.cmd(It.setForegroundColor,a,"#007700"),this.cmd(It.setForegroundColor,n,"#007700"),this.cmd(It.move,a,this.getLabelX(e,i-1),e.y),this.cmd(It.move,n,this.getLabelX(t,0),t.y),this.cmd(It.step),this.cmd(It.delete,a),this.cmd(It.delete,n),!t.isLeaf){for(var r=t.numKeys;r>0;r--)this.cmd(It.disconnect,t.graphicID,t.children[r-1].graphicID),t.children[r]=t.children[r-1],this.cmd(It.connect,t.graphicID,t.children[r].graphicID,"#007700",0,0,"",r);t.children[0]=h.children[h.numKeys],this.cmd(It.disconnect,h.graphicID,h.children[h.numKeys].graphicID),this.cmd(It.connect,t.graphicID,t.children[0].graphicID,"#007700",0,0,"",0),h.children[h.numKeys]=null,t.children[0].parent=t}return t.keys[0]=e.keys[i-1],this.cmd(It.setText,t.graphicID,t.keys[0],0),e.keys[i-1]=h.keys[h.numKeys-1],this.cmd(It.setText,e.graphicID,e.keys[i-1],i-1),this.cmd(It.setText,h.graphicID,"",h.numKeys-1),h.numKeys--,this.cmd(It.setNumElements,h.graphicID,h.numKeys),this.resizeTree(),this.cmd(It.setText,this.messageID,""),t}},{key:"repairAfterDelete",value:function(t){if(t.numKeys<this.min_keys)if(null==t.parent)0===t.numKeys&&(this.cmd(It.step),this.cmd(It.delete,t.graphicID),this.treeRoot=t.children[0],null!=this.treeRoot&&(this.treeRoot.parent=null),this.resizeTree());else{var i,e,s=t.parent;for(i=0;s.children[i]!==t;i++);i>0&&s.children[i-1].numKeys>this.min_keys?this.stealFromLeft(t,i):i<s.numKeys&&s.children[i+1].numKeys>this.min_keys?this.stealFromRight(t,i):0===i?(e=this.mergeRight(t),this.repairAfterDelete(e.parent)):(e=this.mergeRight(s.children[i-1]),this.repairAfterDelete(e.parent))}}},{key:"getLabelX",value:function(t,i){return t.x-40*t.numKeys/2+20+40*i}},{key:"resizeTree",value:function(){this.resizeWidths(this.treeRoot),this.setNewPositions(this.treeRoot,this.starting_x,30),this.animateNewPositions(this.treeRoot)}},{key:"setNewPositions",value:function(t,i,e){if(null!=t&&(t.y=e,t.x=i,!t.isLeaf))for(var s=i-t.width/2,h=0,a=0;a<t.numKeys+1;a++)this.setNewPositions(t.children[a],s+h+t.widths[a]/2,e+50),h+=t.widths[a]}},{key:"animateNewPositions",value:function(t){if(null!=t){var i;for(i=0;i<t.numKeys+1;i++)this.animateNewPositions(t.children[i]);this.cmd(It.move,t.graphicID,t.x,t.y)}}},{key:"resizeWidths",value:function(t){if(null==t)return 0;if(t.isLeaf){for(var i=0;i<t.numKeys+1;i++)t.widths[i]=0;return t.width=40*t.numKeys+3,t.width}for(var e=0,s=0;s<t.numKeys+1;s++)t.widths[s]=this.resizeWidths(t.children[s]),e+=t.widths[s];return e=Math.max(e,40*t.numKeys+3),t.width=e,e}}]),i}(Ft);function si(t,i,e){this.widths=[],this.keys=[],this.children=[],this.x=i,this.y=e,this.graphicID=t,this.numKeys=1,this.isLeaf=!0,this.parent=null,this.leftWidth=0,this.rightWidth=0}var hi=!1,ai=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],xt("Text"),this.textField=Lt("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),xt("Pattern"),this.patternField=Lt("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),xt("or"),this.blotButton=Lt("Button","Build Last Occurrence Table"),this.blotButton.onclick=this.buildLastOccurrenceTableCallback.bind(this),this.controls.push(this.blotButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct(),this.galilButton=yt("Galil Rule Optimization",!1),this.galilButton.onclick=this.toggleGalilRule.bind(this),this.controls.push(this.galilButton)}},{key:"setup",value:function(){this.commands=[],this.textRowID=[],this.comparisonMatrixID=[],this.patternTableLabelID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.periodLabelID=this.nextIndex++,this.lastTableCode=[["procedure BoyerMooreLastTable(pattern):"],["     lastTable <- map from character to integer"],["     for i < 0, length of pattern"],["          lastTable[pattern[i]] <- i"],["     return lastTable"],["end procedure"]],this.failureTableCode=[["procedure KMPFailureTable(pattern):"],["     m <- length of pattern"],["     failureTable <- array of length m"],["     i <- 0, j <- 1"],["     failureTable[0] <- 0"],["     while j < m"],["          if pattern[i] = pattern[j]"],["               failureTable[j] <- i + 1"],["               i < i + 1, j <- j + 1"],["          else"],["               if i = 0"],["                    failureTable[j] <- 0"],["                    j <- j + 1"],["               else"],["                    i <- failureTable[i - 1]"],["     return failureTable"],["end procedure"]],this.BMCode=[["procedure BoyerMoore(text, pattern):"],["     initialize lastTable"],["     m <- length of pattern, n <- length of text"],["     i <- 0"],["     while i <= n - m"],["          j = m - 1"],["          while j >= 0 and text[i + j] = pattern[j]"],["               j -> j - 1"],["          if j = -1"],["               match found at i"],["               i <- i + 1"],["          else"],["               shift <- lastTable[text[i + j]]"],["               if shift < j"],["                    i <- i + (j - shift)"],["               else"],["                    i <- i + 1"],["end procedure"]],this.GalilCode=[["procedure BoyerMooreGalil(text, pattern):"],["     initialize lastTable, failureTable"],["     m <- length of pattern, n <- length of text"],["     k <- m - failureTable[m - 1]"],["     i <- 0, w <- 0"],["     while i <= n - m"],["          j = m - 1"],["          while j >= w and text[i + j] = pattern[j]"],["               j -> j - 1"],["          if j < w"],["               match found at i"],["               i <- i + k"],["               w <- m - k"],["          else"],["               shift <- lastTable[text[i + j]]"],["               if shift < j"],["                    i <- i + (j - shift)"],["               else"],["                    i <- i + 1"],["               w <- 0"],["end procedure"]],this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"",575,15,0),this.period=1,this.cmd(It.createLabel,this.periodLabelID,"",575,35,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.textRowID=[],this.comparisonMatrixID=[],this.patternTableLabelID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.periodLabelID=this.nextIndex++,this.compCount=0,this.period=1}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this));var t=this.textField.value,i=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t,i)}}},{key:"buildLastOccurrenceTableCallback",value:function(){if(""!==this.patternField.value){this.implementAction(this.clear.bind(this));var t=this.patternField.value;this.patternField.value="",this.implementAction(this.onlyBuildLastOccurrenceTable.bind(this),0,t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"toggleGalilRule",value:function(){hi=!hi}},{key:"find",value:function(t,i){console.log(this.codeID),this.codeID&&this.removeCode(this.codeID),this.commands=[];var e,s,h=this.getMaxRows(t,i);this.cellSize=h<=14?30:h<=17?25:20,this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(h);for(var a=0;a<h;a++)this.comparisonMatrixID[a]=new Array(t.length);for(var n=0;n<t.length;n++){var r=n*this.cellSize+100;this.textRowID[n]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex,t.charAt(n),this.cellSize,this.cellSize,r,30),this.cmd(It.setBackgroundColor,this.nextIndex++,"#D3D3D3")}for(var l=0;l<h;l++)for(var o=0;o<t.length;o++)e=o*this.cellSize+100,s=(l+1)*this.cellSize+30,this.comparisonMatrixID[l][o]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,e,s);var c=this.buildLastTable(t.length,i);this.removeCode(this.codeID),hi?(this.buildFailureTable(t.length,i),this.codeID=this.addCodeToCanvasBase(this.GalilCode,100+t.length*this.cellSize+10,195)):this.codeID=this.addCodeToCanvasBase(this.BMCode,100+t.length*this.cellSize+10,195);var d=this.nextIndex++,u=this.nextIndex++;this.cmd(It.createHighlightCircle,d,"#0000FF",100+(i.length-1)*this.cellSize,30,this.cellSize/2),this.cmd(It.createHighlightCircle,u,"#0000FF",100+(i.length-1)*this.cellSize,30+this.cellSize,this.cellSize/2);var m=0,g=i.length-1,p=0,I=0,f=hi?1:0;for(this.highlight(f+4,0);m<=t.length-i.length;){f=hi?1:0;for(var b=m;b<m+i.length;b++)this.cmd(It.setText,this.comparisonMatrixID[p][b],i.charAt(b-m),e,s),b-m<I&&this.cmd(It.setBackgroundColor,this.comparisonMatrixID[p][b],"#FFFF4D");for(this.highlight(f+5,0),this.cmd(It.step),this.unhighlight(f+5,0),this.highlight(f+6,0);g>=I&&i.charAt(g)===t.charAt(m+g);)if(this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[p][m+g],"#2ECC71"),g--,this.highlight(f+7,0),this.cmd(It.step),this.unhighlight(f+7,0),g>=0){var D=(m+g)*this.cellSize+100;this.cmd(It.move,d,D,30);var v=(p+1)*this.cellSize+30;this.cmd(It.move,u,D,v),this.cmd(It.step)}if(this.unhighlight(f+6,0),this.highlight(f+8,0),this.cmd(It.step),this.unhighlight(f+8,0),g<I)this.highlight(f+9,0),this.highlight(f+10,0),hi?(this.highlight(f+11,0),m+=this.period,I=i.length-this.period):m++,this.cmd(It.step),this.unhighlight(f+9,0),this.unhighlight(f+10,0),this.unhighlight(f+11,0);else{this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),0!==I&&(I=0),f=hi?2:0,this.highlight(11+f,0),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[p][m+g],"#E74C3C");var x=void 0;this.cmd(It.step),this.unhighlight(11+f,0),this.highlight(12+f,0),x=t.charAt(m+g)in c?c[t.charAt(m+g)]:-1,this.cmd(It.step),this.unhighlight(12+f,0),this.highlight(13+f,0),this.cmd(It.step),this.unhighlight(13+f,0),x<g?(this.highlight(14+f,0),m+=g-x):(this.highlight(15+f,0),this.cmd(It.step),this.unhighlight(15+f,0),this.highlight(16+f,0),m++),this.cmd(It.step),this.unhighlight(14+f,0),this.unhighlight(16+f,0)}if(g=i.length-1,p++,m<=t.length-i.length){var y=(m+g)*this.cellSize+100;this.cmd(It.move,d,y,30);var k=(p+1)*this.cellSize+30;this.cmd(It.move,u,y,k)}}return f=hi?1:0,this.unhighlight(f+4,0),this.cmd(It.step),this.cmd(It.delete,d),this.cmd(It.delete,u),this.commands}},{key:"getMaxRows",value:function(t,i){if(hi){var e=[];e[0]=0;for(var s=0,h=1;h<i.length;)i.charAt(s)===i.charAt(h)?(s++,e[h]=s,h++):0===s?(e[h]=s,h++):s=e[s-1];this.period=i.length-e[i.length-1]}for(var a={},n=0;n<i.length;n++)a[i.charAt(n)]=n;for(var r=0,l=i.length-1,o=0,c=0;r<=t.length-i.length;){for(;l>=c&&i.charAt(l)===t.charAt(r+l);)l--;if(l<c)hi?(r+=this.period,c=i.length-this.period):r++;else{0!==c&&(c=0);var d=void 0;(d=t.charAt(r+l)in a?a[t.charAt(r+l)]:-1)<l?r+=l-d:r++}l=i.length-1,o++}return o}},{key:"onlyBuildLastOccurrenceTable",value:function(t,i){return this.commands=[],this.cellSize=30,this.buildLastTable(t,i),this.commands}},{key:"buildLastTable",value:function(t,i){var e=100+t*this.cellSize+10;this.cmd(It.createLabel,this.patternTableLabelID,"Pattern:",e,75,0),this.cmd(It.createLabel,this.lastTableLabelID,"Last occurence table:",e,150,0),this.cmd(It.move,this.comparisonCountID,e,15),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.codeID=this.addCodeToCanvasBase(this.lastTableCode,e,195);var s=100+t*this.cellSize+80;this.patternTableCharacterID=new Array(i.length),this.patternTableIndexID=new Array(i.length);for(var h=0;h<i.length;h++){var a=s+h*this.cellSize;this.patternTableCharacterID[h]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex++,i.charAt(h),this.cellSize,this.cellSize,a,80),this.patternTableIndexID[h]=this.nextIndex,this.cmd(It.createLabel,this.nextIndex++,h,a,80+this.cellSize)}var n={},r=100+t*this.cellSize+155;this.lastTableCharacterID=[],this.lastTableValueID=[];var l=0,o=this.nextIndex++;this.cmd(It.createHighlightCircle,o,"#0000FF",s,80,this.cellSize/2),this.cmd(It.setHighlight,o,1),this.highlight(2,0);for(var c=0;c<i.length;c++){this.cmd(It.step);var d=s+c*this.cellSize;this.cmd(It.move,o,d,80),this.highlight(3,0),n[i.charAt(c)]?(this.cmd(It.setText,n[i.charAt(c)][1],c),this.cmd(It.setHighlight,n[i.charAt(c)][1],1),n[i.charAt(c)][0]=c):(d=r+l*this.cellSize,this.lastTableCharacterID.push(this.nextIndex),this.cmd(It.createRectangle,this.nextIndex,i.charAt(c),this.cellSize,this.cellSize,d,140),this.cmd(It.setBackgroundColor,this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd(It.createRectangle,this.nextIndex,c,this.cellSize,this.cellSize,d,140+this.cellSize),this.cmd(It.setHighlight,this.nextIndex,1),l++,n[i.charAt(c)]=[c,this.nextIndex++]),this.cmd(It.step),this.unhighlight(3,0),this.cmd(It.setHighlight,n[i.charAt(c)][1],0)}this.unhighlight(2,0),this.cmd(It.delete,o);var u=r+l*this.cellSize;return this.lastTableCharacterID.push(this.nextIndex),this.cmd(It.createRectangle,this.nextIndex,"*",this.cellSize,this.cellSize,u,140),this.cmd(It.setBackgroundColor,this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd(It.createRectangle,this.nextIndex++,"-1",this.cellSize,this.cellSize,u,140+this.cellSize),this.highlight(4,0),this.cmd(It.step),this.unhighlight(4,0),Object.keys(n).map((function(t){return n[t]=n[t][0]})),n}},{key:"buildFailureTable",value:function(t,i){var e=this.nextIndex;this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[];var s=100+t*this.cellSize+10;this.cmd(It.createLabel,this.failureTableLabelID,"Failure table:",s,225,0),this.cmd(It.move,this.periodLabelID,s,35),this.cmd(It.setText,this.periodLabelID,"Period = pattern.length - FT[pattern.length - 1]"),this.codeID=this.addCodeToCanvasBase(this.failureTableCode,s,265);var h=100+t*this.cellSize+110;this.failureTableCharacterID=new Array(i.length),this.failureTableValueID=new Array(i.length);for(var a=0;a<i.length;a++){var n=h+a*this.cellSize;this.failureTableCharacterID[a]=this.nextIndex++,this.cmd(It.createRectangle,this.failureTableCharacterID[a],i.charAt(a),this.cellSize,this.cellSize,n,215),this.cmd(It.setBackgroundColor,this.failureTableCharacterID[a],"#D3D3D3"),this.failureTableValueID[a]=this.nextIndex++,this.cmd(It.createRectangle,this.failureTableValueID[a],"",this.cellSize,this.cellSize,n,215+this.cellSize)}this.cmd(It.step);var r=this.nextIndex++,l=this.nextIndex++;this.cmd(It.createHighlightCircle,r,"#0000FF",h,215,this.cellSize/2),this.cmd(It.createHighlightCircle,l,"#FF0000",h+this.cellSize,215,this.cellSize/2),this.cmd(It.setText,this.failureTableValueID[0],0),this.highlight(3,0),this.highlight(4,0),this.cmd(It.step),this.unhighlight(3,0),this.unhighlight(4,0);var o=[];o[0]=0;var c=0,d=1;for(this.highlight(5,0);d<i.length;)this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),i.charAt(c)===i.charAt(d)?(this.highlight(7,0),this.highlight(8,0),c++,o[d]=c,this.cmd(It.setText,this.failureTableValueID[d],c),++d<i.length&&(this.cmd(It.move,r,h+c*this.cellSize,215),this.cmd(It.move,l,h+d*this.cellSize,215)),this.cmd(It.step),this.unhighlight(7,0),this.unhighlight(8,0)):(this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.highlight(10,0),this.cmd(It.step),this.unhighlight(10,0),0===c?(this.highlight(11,0),this.highlight(12,0),o[d]=c,this.cmd(It.setText,this.failureTableValueID[d],c),++d<i.length&&this.cmd(It.move,l,h+d*this.cellSize,215),this.cmd(It.step),this.unhighlight(11,0),this.unhighlight(12,0)):(this.highlight(13,0),this.cmd(It.step),this.unhighlight(13,0),this.highlight(14,0),c=o[c-1],this.cmd(It.move,r,h+c*this.cellSize,215),this.cmd(It.step),this.unhighlight(14,0)));this.unhighlight(5,0),this.highlight(15,0),this.cmd(It.step),this.unhighlight(15,0),this.cmd(It.setText,this.periodLabelID,"Period = "+i.length+" - "+o[i.length-1]);var u=this.nextIndex++;this.cmd(It.createHighlightCircle,u,"#FF0000",h+this.cellSize*(i.length-1),215+this.cellSize,this.cellSize/2),this.cmd(It.step),this.period=i.length-o[i.length-1],this.cmd(It.setText,this.periodLabelID,"Period = "+this.period),this.cmd(It.delete,u),0!==this.failureTableValueID.length&&this.cmd(It.delete,this.failureTableLabelID);for(var m=0;m<this.failureTableCharacterID.length;m++)this.cmd(It.delete,this.failureTableCharacterID[m]),this.cmd(It.delete,this.failureTableValueID[m]);return this.cmd(It.delete,r),this.cmd(It.delete,l),this.removeCode(this.codeID),this.nextIndex=e,o}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.textRowID.length;t++)this.cmd(It.delete,this.textRowID[t]);this.textRowID=[];for(var i=0;i<this.comparisonMatrixID.length;i++)for(var e=0;e<this.comparisonMatrixID[i].length;e++)this.cmd(It.delete,this.comparisonMatrixID[i][e]);this.comparisonMatrixID=[],0!==this.patternTableCharacterID.length&&this.cmd(It.delete,this.patternTableLabelID);for(var s=0;s<this.patternTableCharacterID.length;s++)this.cmd(It.delete,this.patternTableCharacterID[s]),this.cmd(It.delete,this.patternTableIndexID[s]);this.patternTableCharacterID=[],this.patternTableIndexID=[],0!==this.lastTableCharacterID.length&&this.cmd(It.delete,this.lastTableLabelID);for(var h=0;h<this.lastTableCharacterID.length;h++)this.cmd(It.delete,this.lastTableCharacterID[h]),this.cmd(It.delete,this.lastTableValueID[h]);return this.removeCode(this.codeID),this.compCount=0,this.cmd(It.setText,this.comparisonCountID,""),this.cmd(It.setText,this.periodLabelID,""),this.lastTableCharacterID=[],this.lastTableValueID=[],this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.period=1,this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),ni=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],xt("Text"),this.textField=Lt("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),xt("Pattern"),this.patternField=Lt("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.commands=[],this.textRowID=[],this.comparisonMatrixID=[],this.codeID=[],this.code=[["procedure BruteForce(text, pattern)"],["     n <- text.length, m <- pattern.length"],["     for i <- 0, n - m"],["          j <- 0"],["          while j < m and pattern[j] = text[i + j]"],["               j <- j + 1"],["          if j = m"],["               match found at i"],["end procedure"]],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"",575,30,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.textRowID=[],this.comparisonMatrixID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.codeID=[]}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this));var t=this.textField.value,i=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t,i)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"find",value:function(t,i){this.commands=[];var e=t.length-i.length+1;this.cellSize=e<=14?30:e<=17?25:20;var s,h,a=100+t.length*this.cellSize+10;this.cmd(It.move,this.comparisonCountID,a,30),this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(e);for(var n=0;n<e;n++)this.comparisonMatrixID[n]=new Array(t.length);for(var r=0;r<t.length;r++)s=r*this.cellSize+100,h=30,this.textRowID[r]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex,t.charAt(r),this.cellSize,this.cellSize,s,h),this.cmd(It.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(var l=0;l<e;l++)for(var o=0;o<t.length;o++)s=o*this.cellSize+100,h=(l+1)*this.cellSize+30,this.comparisonMatrixID[l][o]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);this.codeID=this.addCodeToCanvasBase(this.code,a,120);var c=this.nextIndex++,d=this.nextIndex++;this.cmd(It.createHighlightCircle,c,"#0000FF",100,30,this.cellSize/2),this.cmd(It.createHighlightCircle,d,"#0000FF",100,30+this.cellSize,this.cellSize/2);var u=0,m=0,g=0;for(this.highlight(2,0),this.cmd(It.step);u<=t.length-i.length;){for(var p=u;p<u+i.length;p++)this.cmd(It.setText,this.comparisonMatrixID[g][p],i.charAt(p-u),s,h);for(this.highlight(3,0),this.cmd(It.step),this.unhighlight(3,0),this.highlight(4,0),this.cmd(It.step);m<i.length&&i.charAt(m)===t.charAt(u+m);){if(this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[g][u+m],"#2ECC71"),m++,this.highlight(5,0),this.cmd(It.step),this.unhighlight(5,0),m!==i.length){var I=(u+m)*this.cellSize+100;this.cmd(It.move,c,I,30);var f=(g+1)*this.cellSize+30;this.cmd(It.move,d,I,f)}this.cmd(It.step)}if(this.unhighlight(4,0),m<i.length&&this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),m!==i.length?this.cmd(It.setBackgroundColor,this.comparisonMatrixID[g][u+m],"#E74C3C"):(this.highlight(7,0),this.cmd(It.step),this.unhighlight(7,0)),m=0,g++,++u<=t.length-i.length){var b=(u+m)*this.cellSize+100;this.cmd(It.move,c,b,30);var D=(g+1)*this.cellSize+30;this.cmd(It.move,d,b,D),this.cmd(It.step)}}return this.unhighlight(2,0),this.cmd(It.delete,c),this.cmd(It.delete,d),this.commands}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.textRowID.length;t++)this.cmd(It.delete,this.textRowID[t]);this.textRowID=[];for(var i=0;i<this.comparisonMatrixID.length;i++)for(var e=0;e<this.comparisonMatrixID[i].length;e++)this.cmd(It.delete,this.comparisonMatrixID[i][e]);return this.comparisonMatrixID=[],this.removeCode(this.codeID),this.codeID=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,""),this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),ri=!0,li=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct(),this.lastSwapCheckbox=yt("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure BubbleSort(array):"],["     end <- length of array"],["     start <- 0"],["     swapped <- start"],["     while start < end"],["          swapped <- start"],["          for j <- 0, end do"],["               if arr[j] > arr[j + 1]"],["                    swap arr[j], arr[j + 1]"],["                    swapped <- j"],["               end if"],["          end for"],["          end <- swapped"],["     end while"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,50,200),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.displayData=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.codeID=this.addCodeToCanvasBase(this.code,50,200),ri||(this.cmd(It.setText,this.codeID[3][0],"     sorted <- false"),this.cmd(It.setText,this.codeID[4][0],"     while start < end and sorted is false"),this.cmd(It.setText,this.codeID[5][0],"          sorted <- true"),this.cmd(It.setText,this.codeID[9][0],"                    sorted <- false"),this.cmd(It.setText,this.codeID[12][0],"          end <- end - 1")),this.compCount=0}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));console.log(t),""!==this.listField.value&&t.length<=18&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"toggleLastSwap",value:function(){this.implementAction(this.clear.bind(this)),ri?(this.cmd(It.setText,this.codeID[3][0],"     sorted <- false"),this.cmd(It.setText,this.codeID[4][0],"     while start < end and sorted is false"),this.cmd(It.setText,this.codeID[5][0],"          sorted <- true"),this.cmd(It.setText,this.codeID[9][0],"                    sorted <- false"),this.cmd(It.setText,this.codeID[12][0],"          end <- end - 1")):(this.cmd(It.setText,this.codeID[3][0],"     swapped <- start"),this.cmd(It.setText,this.codeID[4][0],"     while start < end"),this.cmd(It.setText,this.codeID[5][0],"          swapped <- start"),this.cmd(It.setText,this.codeID[9][0],"                    swapped <- j"),this.cmd(It.setText,this.codeID[12][0],"          end <- swapped")),ri=!ri}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.displayData=[],this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"sort",value:function(t){this.commands=[],this.highlight(0,0),this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18);for(var i=this.arrayData.length,e=new Map,s=new Map,h=0;h<i;h++){var a=e.has(this.arrayData[h])?e.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"a"),e.set(this.arrayData[h],a+1)}for(var n=0;n<i;n++){this.arrayID[n]=this.nextIndex++;var r=50*n+100,l=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);l+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=l,this.cmd(It.createRectangle,this.arrayID[n],l,50,50,r,130)}this.cmd(It.createHighlightCircle,this.iPointerID,"#0000FF",100,130),this.cmd(It.setHighlight,this.iPointerID,1),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",150,130),this.cmd(It.setHighlight,this.jPointerID,1),this.cmd(It.step),this.unhighlight(0,0);var c=!0,d=this.arrayData.length-1,u=0;this.highlight(4,0),this.cmd(It.step);do{this.unhighlight(4,0),this.highlight(5,0),this.cmd(It.step),this.unhighlight(5,0),c=!0,this.highlight(6,0);for(var m=0;m<d;m++)this.movePointers(m,m+1),this.highlight(7,0),this.unhighlight(6,0),this.cmd(It.step),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.unhighlight(7,0),this.arrayData[m]>this.arrayData[m+1]&&(this.swap(m,m+1),c=!1,u=m);if(this.unhighlight(6,0),this.highlight(12,0),ri?d=u:d--,!c)for(var g=d+1;g<this.arrayData.length;g++)this.cmd(It.setBackgroundColor,this.arrayID[g],"#2ECC71");this.cmd(It.step),this.unhighlight(12,0)}while(!c);this.highlight(4,0),this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.step),this.unhighlight(4,0);for(var p=0;p<this.arrayData.length;p++)this.cmd(It.setBackgroundColor,this.arrayID[p],"#2ECC71");return this.cmd(It.step),this.commands}},{key:"movePointers",value:function(t,i){var e=50*t+100;this.cmd(It.move,this.iPointerID,e,130);var s=50*i+100;this.cmd(It.move,this.jPointerID,s,130),this.cmd(It.step)}},{key:"swap",value:function(t,i){this.highlight(8,0),this.highlight(9,0),this.cmd(It.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(It.setForegroundColor,this.jPointerID,"#FF0000");var e=this.nextIndex++,s=50*t+100;this.cmd(It.createLabel,e,this.displayData[t],s,130);var h=this.nextIndex++,a=50*i+100;this.cmd(It.createLabel,h,this.displayData[i],a,130),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,130),this.cmd(It.move,h,s,130),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n,this.cmd(It.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(It.setForegroundColor,this.jPointerID,"#0000FF"),this.unhighlight(8,0),this.unhighlight(9,0),this.cmd(It.step)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),oi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[];var i=Tt(!1),e=Tt(!0,i),s=Tt(!0,i);xt("Add",e),this.addValueField=Lt("Text","",e),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addValueField),xt("at index",e),this.addIndexField=Lt("Text","",e),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Lt("Button","Add to Front",s),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Lt("Button","Add to Back",s),this.addBackButton.onclick=function(){return t.addBackCallback()},this.controls.push(this.addBackButton),xt("or",s),this.addIndexButton=Lt("Button","Add at Index",s),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),Ct();var h=Tt(!1),a=Tt(!0,h),n=Tt(!0,h);xt("Index",a),this.removeField=Lt("Text","",a),this.removeField.onkeydown=this.returnSubmit(this.removeField,(function(){return t.removeIndexCallback()}),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Lt("Button","Remove from Index",a),this.removeIndexButton.onclick=function(){return t.removeIndexCallback()},this.controls.push(this.removeIndexButton),xt("or",n),this.removeFrontButton=Lt("Button","Remove from Front",n),this.removeFrontButton.onclick=function(){return t.removeFrontCallback()},this.controls.push(this.removeFrontButton),this.removeBackButton=Lt("Button","Remove from Back",n),this.removeBackButton.onclick=function(){return t.removeBackCallback()},this.controls.push(this.removeBackButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=function(){return t.clearCallback()},this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(9),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.cmd(It.createLabel,this.headLabelID,"Head",130,100),this.cmd(It.createRectangle,this.headID,"",30,30,180,100),this.cmd(It.setNull,this.headID,1),this.arrayData=new Array(9),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(It.createLabel,this.leftoverLabelID,"",50,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value&&this.size<9){var t=parseInt(this.addValueField.value),i=parseInt(this.addIndexField.value);i>=0&&i<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,i))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value&&this.size<9){var t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0)}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value&&this.size<9){var t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"traverse",value:function(t){for(var i=0;i<=t;i++)this.cmd(It.step),this.cmd(It.setHighlight,this.linkedListElemID[i],1),i>0&&this.cmd(It.setHighlight,this.linkedListElemID[i-1],0);this.cmd(It.step)}},{key:"add",value:function(t,i){this.commands=[],i<this.size&&this.traverse(i-1);for(var e=this.nextIndex++,s=this.nextIndex++,h=this.size-1;h>=i;h--)this.arrayData[h+1]=this.arrayData[h];if(this.arrayData[i]=t,0===this.size||0!==i&&i!==this.size){for(var a=this.size-1;a>=i;a--)this.linkedListElemID[a+1]=this.linkedListElemID[a];this.linkedListElemID[i]=this.nextIndex++}else{for(var n=this.size-1;n>=1;n--)this.linkedListElemID[n+1]=this.linkedListElemID[n];this.linkedListElemID[1]=this.nextIndex++}if(this.cmd(It.setText,this.leftoverLabelID,""),0===this.size||0!==i&&i!==this.size?this.cmd(It.createCircularlyLinkedListNode,this.linkedListElemID[i],"",70,30,200,50):this.cmd(It.createCircularlyLinkedListNode,this.linkedListElemID[1],"",70,30,200,50),this.cmd(It.createLabel,e,"Adding Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.step),0===this.size)this.cmd(It.move,s,200,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[0],t),this.cmd(It.delete,s),this.cmd(It.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5),this.cmd(It.connect,this.headID,this.linkedListElemID[0]),this.cmd(It.step),this.size=this.size+1,this.resetNodePositions();else if(0===i||i===this.size){var r=this.nextIndex++,l=0===i?this.arrayData[1]:this.arrayData[0];if(this.cmd(It.createLabel,r,l,100,200),this.cmd(It.move,r,200,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[1],l),this.cmd(It.delete,r),this.cmd(It.step),this.cmd(It.move,s,100,200),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[0],t),this.cmd(It.delete,s),this.cmd(It.step),1===this.size?(this.cmd(It.disconnect,this.linkedListElemID[0],this.linkedListElemID[0]),this.cmd(It.connect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(It.connectCurve,this.linkedListElemID[1],this.linkedListElemID[0],-.5)):(this.cmd(It.disconnect,this.linkedListElemID[0],this.linkedListElemID[2]),this.cmd(It.connect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(It.connect,this.linkedListElemID[1],this.linkedListElemID[2])),this.cmd(It.step),this.size=this.size+1,this.cmd(It.connect,this.headID,this.linkedListElemID[0]),this.resetNodePositions(),this.cmd(It.step),i===this.size-1){var o;this.cmd(It.disconnect,this.headID,this.linkedListElemID[0]);var c=this.linkedListElemID[0];for(o=0;o<this.size-1;o++)this.linkedListElemID[o]=this.linkedListElemID[o+1];this.linkedListElemID[this.size-1]=c;var d=(this.size-1)%9*100+100,u=100*Math.floor((this.size-1)/9)+200;this.cmd(It.move,this.linkedListElemID[o],(100+d)/2,u+90),this.cmd(It.connect,this.headID,this.linkedListElemID[0]),this.cmd(It.step);for(var m=0;m<this.size-1;m++){var g=m%9*100+100,p=100*Math.floor(m/9)+200;this.cmd(It.move,this.linkedListElemID[m],g,p)}this.cmd(It.disconnect,this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd(It.connect,this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd(It.disconnect,this.linkedListElemID[this.size-1],this.linkedListElemID[0]),this.cmd(It.connectCurve,this.linkedListElemID[this.size-1],this.linkedListElemID[0],-.5),this.cmd(It.move,this.linkedListElemID[o],d,u),this.cmd(It.step)}}else this.cmd(It.move,s,200,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[i],t),this.cmd(It.delete,s),this.cmd(It.step),this.cmd(It.disconnect,this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd(It.connect,this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd(It.connect,this.linkedListElemID[i],this.linkedListElemID[i+1]),this.size=this.size+1,this.resetNodePositions();return this.cmd(It.setHighlight,this.linkedListElemID[i-1],0),this.cmd(It.delete,e),this.cmd(It.step),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var i=this.nextIndex++,e=this.nextIndex++;this.traverse(t-1),this.cmd(It.setText,this.leftoverLabelID,"");var s=100+100*t;if(this.cmd(It.createLabel,i,"Removing Value: ",50,30),this.cmd(It.createLabel,e,this.arrayData[t],s,200),this.cmd(It.move,e,120,30),this.cmd(It.step),1!==this.size){if(0===t){var h=this.nextIndex++;this.cmd(It.createLabel,h,this.arrayData[1],200,200),this.cmd(It.move,h,100,200),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[0],this.arrayData[1]),this.cmd(It.delete,h),this.cmd(It.step),this.cmd(It.move,this.linkedListElemID[1],200,140),this.cmd(It.step),this.cmd(It.disconnect,this.linkedListElemID[0],this.linkedListElemID[1]),2===this.size?this.cmd(It.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd(It.connect,this.linkedListElemID[0],this.linkedListElemID[2])}else if(t===this.size-1)this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),2===this.size?this.cmd(It.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd(It.connectCurve,this.linkedListElemID[t-1],this.linkedListElemID[0],-.5);else{var a=t%9*100+100;this.cmd(It.move,this.linkedListElemID[t],a,140),this.cmd(It.step),this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.connect,this.linkedListElemID[t-1],this.linkedListElemID[t+1])}this.cmd(It.step);var n=0===t?1:t;this.cmd(It.delete,this.linkedListElemID[n]);for(var r=n;r<this.size;r++)this.linkedListElemID[r]=this.linkedListElemID[r+1]}else this.cmd(It.delete,this.linkedListElemID[0]),this.cmd(It.setNull,this.headID,1);for(var l=t;l<this.size;l++)this.arrayData[l]=this.arrayData[l+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(It.setHighlight,this.linkedListElemID[t-1],0),this.cmd(It.delete,e),this.cmd(It.delete,i),this.cmd(It.step),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var i=t%9*100+100,e=100*Math.floor(t/9)+200;this.cmd(It.move,this.linkedListElemID[t],i,e)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd(It.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(It.setNull,this.headID,1),this.commands}}]),i}(Ft),ci=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.hashingIntegers=!0,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],xt("Key: "),this.keyField=Lt("Text",""),this.keyField.size=10,this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),10,!0),this.controls.push(this.keyField),xt("Value: "),this.valueField=Lt("Text",""),this.valueField.size=10,this.valueField.onkeydown=this.returnSubmit(this.valueField,this.insertCallback.bind(this),10,!1),this.controls.push(this.valueField),this.insertButton=Lt("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),Ct(),this.deleteField=Lt("Text",""),this.deleteField.size=10,this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),10,!0),this.controls.push(this.deleteField),this.deleteButton=Lt("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),Ct(),this.findField=Lt("Text",""),this.findField.size=10,this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),10,!0),this.controls.push(this.findField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ct(),this.loadField=Lt("Text",""),this.loadField.setAttribute("placeholder","LF/100"),this.loadField.size=5,this.loadField.onkeydown=this.returnSubmit(this.loadField,this.changeLoadFactor.bind(this),5,!0),this.controls.push(this.loadField),this.loadButton=Lt("Button","Load Factor"),this.loadButton.onclick=this.loadFactorCallBack.bind(this),this.controls.push(this.loadButton),Ct();var t=kt(["Hash Integer","Hash Strings"],"HashType");this.hashIntegerButton=t[0],this.hashIntegerButton.onclick=this.changeHashTypeCallback.bind(this,!0),this.controls.push(this.hashIntegerButton),this.hashStringButton=t[1],this.hashStringButton.onclick=this.changeHashTypeCallback.bind(this,!1),this.hashIntegerButton.checked=!0,this.controls.push(this.hashStringButton)}},{key:"changeHashTypeCallback",value:function(t){this.hashingIntegers!==t&&this.implementAction(this.changeHashType.bind(this),t)}},{key:"changeHashType",value:function(t){return this.hashingIntegers=t,this.hashingIntegers?(this.hashIntegerButton.checked=!0,this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),10,!0),this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),10,!0),this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),10,!0)):(this.hashStringButton.checked=!0,this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),10,!1),this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),10,!1),this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),10,!1)),this.resetAll()}},{key:"doHash",value:function(t){if(this.hashingIntegers){var i=this.nextIndex++,e=this.nextIndex++,s=this.nextIndex++,h=parseInt(t)%this.table_size;return this.currHash=parseInt(t),this.cmd(It.createLabel,i,t+" % "+String(this.table_size)+" = ",200,45),this.cmd(It.createLabel,e,h,250,45),this.cmd(It.step),this.cmd(It.createHighlightCircle,s,"#0000FF",250,45),this.cmd(It.move,s,this.indexXPos[h],this.indexYPos[h]),this.cmd(It.step),this.cmd(It.delete,i),this.cmd(It.delete,e),this.cmd(It.delete,s),this.nextIndex-=3,h}var a=this.nextIndex++;this.cmd(It.createLabel,a,"Hashing:",10,55,0);for(var n=new Array(t.length),r=new Array(t.length),l=0;l<t.length;l++)n[l]=this.nextIndex++,r[l]=t.charAt(l),this.cmd(It.createLabel,n[l],r[l],60+7*l,55,0);for(var o=new Array(32),c=new Array(32),d=new Array(8),u=new Array(8),m=new Array(32),g=new Array(4),p=new Array(4),I=this.nextIndex++,f=this.nextIndex++,b=0;b<32;b++)c[b]=0,o[b]=this.nextIndex++,m[b]=this.nextIndex++;for(var D=0;D<8;D++)u[D]=this.nextIndex++;for(var v=0;v<4;v++)g[v]=this.nextIndex++;this.cmd(It.step);for(var x=r.length-1;x>=0;x--){for(var y=0;y<32;y++)this.cmd(It.createLabel,o[y],c[y],200+7*y,10,0);this.cmd(It.delete,n[x]);for(var k=r[x].charCodeAt(0),L=7;L>=0;L--)d[L]=k%2,k=Math.floor(k/2),this.cmd(It.createLabel,u[L],d[L],60+7*x,55,0),this.cmd(It.move,u[L],200+7*(L+24),30);this.cmd(It.step),this.cmd(It.createRectangle,f,"",224,0,200,42,"left","bottom"),this.cmd(It.createLabel,I,"+",200,30,0),this.cmd(It.step);for(var C=0,T=7;T>=0;T--)c[T+24]=c[T+24]+d[T]+C,c[T+24]>1?(c[T+24]=c[T+24]-2,C=1):C=0;for(var F=23;F>=0;F--)c[F]=c[F]+C,c[F]>1?(c[F]=c[F]-2,C=1):C=0;for(var w=0;w<32;w++)this.cmd(It.createLabel,m[w],c[w],200+7*w,50,0);this.cmd(It.step);for(var j=0;j<8;j++)this.cmd(It.delete,u[j]);this.cmd(It.delete,f),this.cmd(It.delete,I);for(var A=0;A<32;A++)this.cmd(It.delete,o[A]),this.cmd(It.move,m[A],200+7*A,10);if(this.cmd(It.step),x>0){for(var S=0;S<32;S++)this.cmd(It.move,m[S],200+7*(S-4),10);this.cmd(It.step);for(var B=0;B<28;B++)p[B]=c[B],c[B]=c[B+4];for(var _=0;_<4;_++)this.cmd(It.move,m[_],200+7*(_+10),30),c[_+28]=0,this.cmd(It.createLabel,g[_],0,200+7*(_+28),10,0),p[_]&&(c[_+10]=1-c[_+10]);this.cmd(It.createRectangle,f,"",224,0,200,42,"left","bottom"),this.cmd(It.createLabel,I,"XOR",200,30,0),this.cmd(It.step);for(var O=0;O<32;O++)this.cmd(It.createLabel,o[O],c[O],200+7*O,50,0);this.cmd(It.step),this.cmd(It.delete,I),this.cmd(It.delete,f);for(var P=0;P<32;P++)this.cmd(It.delete,m[P]),this.cmd(It.move,o[P],200+7*P,10);for(var E=0;E<4;E++)this.cmd(It.delete,g[E]);this.cmd(It.step);for(var H=0;H<32;H++)this.cmd(It.delete,o[H])}else for(var z=0;z<32;z++)this.cmd(It.delete,m[z])}this.cmd(It.delete,a);for(var N=0;N<32;N++)this.cmd(It.createLabel,o[N],c[N],200+7*N,10,0);this.currHash=0;for(var R=0;R<32;R++)this.currHash=2*this.currHash+c[R];this.cmd(It.createLabel,a," = "+String(this.currHash),424,10,0),this.cmd(It.step);for(var M=0;M<32;M++)this.cmd(It.delete,o[M]);var V=this.nextIndex++;this.cmd(It.setText,a,String(this.currHash)+" % "+String(this.table_size)+" = ");var X=this.currHash%this.table_size;this.cmd(It.createLabel,V,X,529,10,0),this.cmd(It.step);var K=this.nextIndex++;return this.cmd(It.createHighlightCircle,K,"#0000FF",530,25),this.cmd(It.move,K,this.indexXPos[X],this.indexYPos[X]),this.cmd(It.step),this.cmd(It.delete,K),this.cmd(It.delete,a),this.cmd(It.delete,V),X}},{key:"resetAll",value:function(){return this.keyField.value="",this.valueField.value="",this.deleteField.value="",this.findField.value="",[]}},{key:"insertCallback",value:function(){var t=this.keyField.value,i=this.valueField.value;""!==t&&""!==i&&(this.keyField.value="",this.valueField.value="",this.implementAction(this.insertElement.bind(this),t,i))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t))}},{key:"findCallback",value:function(){var t=this.findField.value;""!==t&&(this.findField.value="",this.implementAction(this.findElement.bind(this),t))}},{key:"loadFactorCallBack",value:function(){if(""!==this.loadField.value){var t=this.loadField.value/100;this.loadField.value="",this.implementAction(this.changeLoadFactor.bind(this),t)}}},{key:"reset",value:function(){this.hashIntegerButton.checked=!0}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),di=14,ui=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).elements_per_row=di,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this),Ct();var t=kt(["Linear Probing: f(i) = i","Quadratic Probing: f(i) = i * i","Double Hashing: f(i) = i * hash2(elem)"],"Collision Strategy: h(elem) + f(i)");this.linearProblingButton=t[0],this.linearProblingButton.onclick=this.linearProbeCallback.bind(this),this.quadraticProbingButton=t[1],this.quadraticProbingButton.onclick=this.quadraticProbeCallback.bind(this),this.doubleHashingButton=t[2],this.doubleHashingButton.onclick=this.doubleHashingCallback.bind(this),this.linearProblingButton.checked=!0,this.currentHashingTypeButtonState=this.linearProblingButton}},{key:"changeProbeType",value:function(t){if(t===this.linearProblingButton){this.linearProblingButton.checked=!0,this.currentHashingTypeButtonState=this.linearProblingButton;for(var i=0;i<this.table_size;i++)this.skipDist[i]=i+1}else if(t===this.quadraticProbingButton){this.quadraticProbingButton.checked=!0,this.currentHashingTypeButtonState=this.quadraticProbingButton;for(var e=0;e<this.table_size;e++)this.skipDist[e]=(e+1)*(e+1)}else t===this.doubleHashingButton&&(this.doubleHashingButton.checked=!0,this.currentHashingTypeButtonState=this.doubleHashingButton);return this.commands=this.resetAll(),this.commands}},{key:"quadraticProbeCallback",value:function(){this.currentHashingTypeButtonState!==this.quadraticProbingButton&&this.implementAction(this.changeProbeType.bind(this),this.quadraticProbingButton)}},{key:"doubleHashingCallback",value:function(){this.currentHashingTypeButtonState!==this.doubleHashingButton&&this.implementAction(this.changeProbeType.bind(this),this.doubleHashingButton)}},{key:"linearProbeCallback",value:function(){this.currentHashingTypeButtonState!==this.linearProblingButton&&this.implementAction(this.changeProbeType.bind(this),this.linearProblingButton)}},{key:"insertElement",value:function(t,i){var e=new mi(t,i),s=e.elem;this.commands=[],(this.size+1)/this.table_size>this.load_factor&&2*this.table_size+1<70&&this.resize(!1),this.cmd(It.setText,this.ExplainLabel,"Inserting element: "+s),this.cmd(It.step);var h=this.doHash(t);if(-2===(h=this.getEmptyIndex(h,t))&&2*this.table_size<70)this.resize(!0);else if(-2===h)return this.cmd(It.setText,this.ExplainLabel,"Array would normally resize after length number of probes,\n\t\t\t\thowever there just isn't enough space on the screen to resize. \n\t\t\t\tSo here's a cute emoji of jack instead: V\u2022\u1d25\u2022V"),this.commands;this.hashTableValues[h]&&this.hashTableValues[h].key===t&&!this.deleted[h]&&(this.cmd(It.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value.",""),this.size--);var a=this.nextIndex++;return this.cmd(It.createLabel,a,s,20,25),this.cmd(It.move,a,this.indexXPos[h],this.indexYPos[h]-30),this.cmd(It.step),this.cmd(It.delete,a),this.cmd(It.setText,this.hashTableVisual[h],s),this.cmd(It.setHighlight,this.hashTableVisual[h],0),this.hashTableValues[h]=e,this.empty[h]=!1,this.deleted[h]=!1,this.size++,this.cmd(It.setText,this.ExplainLabel,""),this.cmd(It.setText,this.DelIndexLabel,""),this.commands}},{key:"resetSkipDist",value:function(t,i){var e=this.nextLowestPrime-this.currHash%this.nextLowestPrime;this.cmd(It.createLabel,i,"hash2(".concat(String(t),") = ")+"".concat(this.nextLowestPrime," - ").concat(String(this.currHash)," % ").concat(this.nextLowestPrime," = ").concat(String(e)),270,70,0),this.skipDist[0]=e;for(var s=1;s<this.table_size;s++)this.skipDist[s]=this.skipDist[s-1]+e;return e}},{key:"getEmptyIndex",value:function(t,i){var e=-1,s=1;this.currentHashingTypeButtonState===this.doubleHashingButton&&(e=this.nextIndex++,s=this.resetSkipDist(i,e));var h=0,a=-1,n=t;for(this.cmd(It.setHighlight,this.hashTableVisual[t],1);h<this.table_size&&!this.empty[t]&&this.hashTableValues[t].key!==i;)this.cmd(It.setText,this.ExplainLabel,"Entry occupied, so probe forward"),this.cmd(It.step),-1===a&&this.deleted[t]&&(this.cmd(It.setText,this.ExplainLabel,"Storing index of first deleted element"),this.cmd(It.setText,this.DelIndexLabel,"First Deleted Index: "+t),a=t,this.cmd(It.step)),this.cmd(It.setHighlight,this.hashTableVisual[t],0),this.cmd(It.setText,this.ExplainLabel,""),t=(n+this.skipDist[h])%this.table_size,this.currentHashingTypeButtonState===this.quadraticProbingButton&&(s=h+1),this.cmd(It.setText,this.HashIndexID,"Index to probe: (".concat(n," + ").concat(h+1,"*").concat(s,") % ").concat(this.table_size," =")+" ".concat((n+this.skipDist[h])%this.table_size)),this.cmd(It.setHighlight,this.hashTableVisual[t],1),this.empty[t]?this.cmd(It.setText,this.ExplainLabel,"Encountered null spot, so terminate loop"):this.hashTableValues[t].key===i&&this.cmd(It.setText,this.ExplainLabel,"Encountered matching key, so terminate loop"),h++,this.cmd(It.step);return this.cmd(It.setText,this.HashIndexID,""),-1!==e&&(this.cmd(It.delete,e),this.nextIndex--),this.empty[t]||this.hashTableValues[t].key!==i||this.deleted[t]?h===this.table_size&&-1===a?(this.cmd(It.setHighlight,this.hashTableVisual[t],0),-2):(-1!==a?(this.cmd(It.setHighlight,this.hashTableVisual[t],0),this.cmd(It.setText,this.ExplainLabel,"Inserting at earlier DEL spot"),t=a):null==this.hashTableValues[t]?this.cmd(It.setText,this.ExplainLabel,"Inserting at null spot"):this.hashTableValues[t].key===i&&this.cmd(It.setText,this.ExplainLabel,"Inserting at DEL spot with same key"),this.cmd(It.setHighlight,this.hashTableVisual[t],1),this.cmd(It.step),-1!==a?a:t):(this.cmd(It.setHighlight,this.hashTableVisual[t],0),t)}},{key:"getElemIndex",value:function(t,i){var e=-1,s=1;this.currentHashingTypeButtonState===this.doubleHashingButton&&(e=this.nextIndex++,s=this.resetSkipDist(i,e));for(var h=t,a=-1,n=t,r=0;r<this.table_size;r++){if(this.cmd(It.setHighlight,this.hashTableVisual[n],1),this.cmd(It.step),this.cmd(It.setHighlight,this.hashTableVisual[n],0),!this.empty[n]&&!this.deleted[n]&&this.hashTableValues[n].key===i){a=n;break}if(this.empty[n]||this.deleted[n]&&this.hashTableValues[n].key===i)break;this.currentHashingTypeButtonState===this.quadraticProbingButton&&(s=r+1),this.cmd(It.setText,this.HashIndexID,"Index to probe: (".concat(h," + ").concat(r+1,"*").concat(s,") % ").concat(this.table_size," =")+" ".concat((h+this.skipDist[r])%this.table_size)),n=(t+this.skipDist[r])%this.table_size}return this.cmd(It.setText,this.HashIndexID,""),-1!==e&&(this.cmd(It.delete,e),this.nextIndex--),a}},{key:"deleteElement",value:function(t){this.commands=[],this.cmd(It.setText,this.ExplainLabel,"Deleting element with key: "+t);var i=this.doHash(t);if((i=this.getElemIndex(i,t))>=0){var e=this.hashTableValues[i].elem;this.cmd(It.setText,this.ExplainLabel,"Deleting element: "+e+"  Element deleted"),this.deleted[i]=!0,this.cmd(It.setText,this.hashTableVisual[i],"DEL"),this.size--}else this.cmd(It.setText,this.ExplainLabel,"Deleting element with key: "+t+"  Key not in table");return this.commands}},{key:"findElement",value:function(t){this.commands=[],this.cmd(It.setText,this.ExplainLabel,"Finding Key: "+t);var i=this.doHash(t);return-1!==this.getElemIndex(i,t)?this.cmd(It.setText,this.ExplainLabel,"Found Key: "+t+"  Value: "+this.hashTableValues[i].val):this.cmd(It.setText,this.ExplainLabel,"Finding Key: "+t+"  Not Found!"),this.commands}},{key:"resize",value:function(t){this.commands=[],this.cmd(It.setText,this.ExplainLabel,""),this.cmd(It.setText,this.DelIndexLabel,"");var i=this.nextIndex++;if(t?this.cmd(It.createLabel,i,"(Resize Required): ".concat(this.table_size," elements probed"),400,20):this.cmd(It.createLabel,i,"(Resize Required): (Size + 1 / length) > Load Factor --\x3e (".concat(this.size," + 1 / ").concat(this.table_size,") > ").concat(this.load_factor),400,20),this.table_size=2*this.table_size+1,2*this.table_size+1>70&&(this.load_factor=.99,this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor))),this.cmd(It.step),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableValues=this.hashTableValues,this.oldskipDist=this.skipDist,this.oldempty=this.empty,this.olddeleted=this.deleted,this.oldIndexXPos=this.indexXPos,this.oldIndexYPos=this.indexYPos,this.oldindexLabelID=this.indexLabelID,this.hashTableValues=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.skipDist=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),this.currentHashingTypeButtonState===this.linearProblingButton)for(var e=0;e<this.table_size;e++)this.skipDist[e]=e+1;else if(this.currentHashingTypeButtonState===this.quadraticProbingButton)for(var s=0;s<this.table_size;s++)this.skipDist[s]=(s+1)*(s+1);for(var h=0;h<this.table_size;h++){this.hashTableVisual[h]=this.nextIndex++,this.empty[h]=!0,this.deleted[h]=!1;var a=100+h%this.elements_per_row*60,n=240+70*Math.floor(h/this.elements_per_row);this.cmd(It.createRectangle,this.hashTableVisual[h],"",60,30,a,n),this.indexLabelID[h]=this.nextIndex++,this.indexXPos[h]=a,this.indexYPos[h]=n+30,this.cmd(It.createLabel,this.indexLabelID[h],h,this.indexXPos[h],this.indexYPos[h]),this.cmd(It.setForegroundColor,this.indexLabelID[h],"#0000FF")}this.cmd(It.step);for(var r=0,l=0;l<this.table_size/2&&r<this.size;l++){if(this.cmd(It.setHighlight,this.oldHashTableVisual[l],1),this.cmd(It.step),!this.oldempty[l]&&!this.olddeleted[l]){var o=this.oldHashTableValues[l],c=this.doHash(o.key);if(-1!==(c=this.getEmptyIndex(c,o.key))){var d=this.nextIndex++;this.cmd(It.createLabel,d,o.elem,this.oldIndexXPos[l],this.oldIndexYPos[l]-30),this.cmd(It.move,d,this.indexXPos[c],this.indexYPos[c]-30),this.cmd(It.step),this.cmd(It.delete,d),this.cmd(It.setText,this.hashTableVisual[c],o.elem),this.cmd(It.setHighlight,this.hashTableVisual[c],0),this.hashTableValues[c]=o,this.empty[c]=!1,this.deleted[c]=!1,r++}}this.cmd(It.setHighlight,this.oldHashTableVisual[l],0)}this.cmd(It.delete,i);for(var u=0;u<this.table_size;u++){var m=100+u%this.elements_per_row*60,g=110+70*Math.floor(u/this.elements_per_row);u<(this.table_size-1)/2&&(this.cmd(It.delete,this.oldHashTableVisual[u]),this.cmd(It.delete,this.oldindexLabelID[u])),this.cmd(It.move,this.hashTableVisual[u],m,g),this.cmd(It.move,this.indexLabelID[u],m,g+30),this.indexYPos[u]=g+30}return this.commands}},{key:"changeLoadFactor",value:function(t){return this.commands=[],2*this.table_size+1<=70?(this.load_factor=t,this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor))):this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor,"\n\t\t\t(Max Array Length)")),this.cmd(It.step),this.commands}},{key:"setup",value:function(){this.resetIndex=this.nextIndex,this.table_size=13,this.nextLowestPrime=11,this.load_factor=.67,this.skipDist=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.size=0,this.indexLabelID=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.commands=[];for(var t=0;t<this.table_size;t++){this.skipDist[t]=t+1,this.hashTableVisual[t]=this.nextIndex++,this.empty[t]=!0,this.deleted[t]=!1;var i=100+t%this.elements_per_row*60,e=110+70*Math.floor(t/this.elements_per_row);this.cmd(It.createRectangle,this.hashTableVisual[t],"",60,30,i,e),this.indexLabelID[t]=this.nextIndex++,this.indexXPos[t]=i,this.indexYPos[t]=e+30,this.cmd(It.createLabel,this.indexLabelID[t],t,this.indexXPos[t],this.indexYPos[t]),this.cmd(It.setForegroundColor,this.indexLabelID[t],"#0000FF")}this.cmd(It.createLabel,this.ExplainLabel,"",10,40,0),this.cmd(It.createLabel,this.HashIndexID,"",570,75),this.cmd(It.createLabel,this.DelIndexLabel,"",10,60,0),this.cmd(It.createLabel,this.loadFactorID,"Load Factor: ".concat(this.load_factor),60,20),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"resetAll",value:function(){this.commands=Object(Bt.a)(Object(l.a)(i.prototype),"resetAll",this).call(this),this.size=0;for(var t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableValues[t]=void 0,this.cmd(It.setText,this.hashTableVisual[t],"");return this.commands}},{key:"reset",value:function(){this.nextIndex=this.resetIndex,this.table_size=13,this.load_factor=.67,this.size=0,this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++;for(var t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableVisual[t]=this.nextIndex++,this.indexLabelID[t]=this.nextIndex++;Object(Bt.a)(Object(l.a)(i.prototype),"reset",this).call(this)}},{key:"resetCallback",value:function(){}},{key:"disableUI",value:function(){Object(Bt.a)(Object(l.a)(i.prototype),"disableUI",this).call(this),this.linearProblingButton.disabled=!0,this.quadraticProbingButton.disabled=!0,this.doubleHashingButton.disabled=!0}},{key:"enableUI",value:function(){Object(Bt.a)(Object(l.a)(i.prototype),"enableUI",this).call(this),this.linearProblingButton.disabled=!1,this.quadraticProbingButton.disabled=!1,this.doubleHashingButton.disabled=!1}}]),i}(ci),mi=function t(i,e){Object(a.a)(this,t),this.key=i,this.val=e,this.elem="<".concat(i,", ").concat(e,">")},gi=!0,pi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct(),this.lastSwapCheckbox=yt("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure CocktailSort(array):"],["     start <- 0, end <- length of array - 1"],["     swapped <- start"],["     while end > start"],["          swapped <- start"],["          for i <- start, end do"],["               if array[i] > array[i + 1]"],["                    swap array[i], array[i + 1]"],["                    swapped <- i"],["               end if"],["          end for"],["          end <- swapped"],["          for i <- end, start do"],["               if array[i] < array[i - 1]"],["                    swap array[i], array[i - 1]"],["                    swapped <- i"],["               end if"],["          end for"],["          start <- swapped"],["     end while"],["end procedure"]],console.log(this.nextIndex),this.codeID=this.addCodeToCanvasBase(this.code,50,180),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.compCount=0,this.arrayData=[],this.arrayID=[],this.displayData=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.codeID=this.addCodeToCanvasBase(this.code,50,180),gi||(this.cmd(It.setText,this.codeID[2][0],"     sorted <- false"),this.cmd(It.setText,this.codeID[3][0],"     while start < end and sorted is false"),this.cmd(It.setText,this.codeID[4][0],"          sorted <- true"),this.cmd(It.setText,this.codeID[8][0],"                    sorted <- false"),this.cmd(It.setText,this.codeID[11][0],"          end <- end - 1"),this.cmd(It.setText,this.codeID[15][0],"                    sorted <- false"),this.cmd(It.setText,this.codeID[18][0],"          start <- start + 1"))}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"toggleLastSwap",value:function(){gi?(this.implementAction(this.clear.bind(this)),this.cmd(It.setText,this.codeID[2][0],"     sorted <- false"),this.cmd(It.setText,this.codeID[3][0],"     while start < end and sorted is false"),this.cmd(It.setText,this.codeID[4][0],"          sorted <- true"),this.cmd(It.setText,this.codeID[8][0],"                    sorted <- false"),this.cmd(It.setText,this.codeID[11][0],"          end <- end - 1"),this.cmd(It.setText,this.codeID[15][0],"                    sorted <- false"),this.cmd(It.setText,this.codeID[18][0],"          start <- start + 1")):(this.implementAction(this.clear.bind(this)),this.cmd(It.setText,this.codeID[2][0],"     swapped <- start"),this.cmd(It.setText,this.codeID[3][0],"     while start < end"),this.cmd(It.setText,this.codeID[4][0],"          swapped <- start"),this.cmd(It.setText,this.codeID[8][0],"                    swapped <- i"),this.cmd(It.setText,this.codeID[11][0],"          end <- swapped"),this.cmd(It.setText,this.codeID[15][0],"                    swapped <- i"),this.cmd(It.setText,this.codeID[18][0],"          start <- swapped")),gi=!gi}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.displayData=[],this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"sort",value:function(t){this.commands=[],this.highlight(0,0),this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var i=this.arrayData.length,e=new Map,s=new Map,h=0;h<i;h++){var a=e.has(this.arrayData[h])?e.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"a"),e.set(this.arrayData[h],a+1)}for(var n=0;n<i;n++){this.arrayID[n]=this.nextIndex++;var r=50*n+100,l=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);l+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=l,this.cmd(It.createRectangle,this.arrayID[n],l,50,50,r,120)}this.cmd(It.createHighlightCircle,this.iPointerID,"#0000FF",100,120),this.cmd(It.setHighlight,this.iPointerID,1),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",150,120),this.cmd(It.setHighlight,this.jPointerID,1),this.cmd(It.step),this.unhighlight(0,0);var c=!0,d=0,u=this.arrayData.length-1,m=0;this.highlight(3,0),this.cmd(It.step);do{this.unhighlight(3,0),this.highlight(4,0),this.cmd(It.step),this.unhighlight(4,0),this.highlight(5,0),c=!0;for(var g=d;g<u;g++)this.movePointers(g,g+1),this.unhighlight(5,0),this.highlight(6,0),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.step),this.unhighlight(6,0),this.arrayData[g]>this.arrayData[g+1]&&(this.highlight(7,0),this.highlight(8,0),this.swap(g,g+1),c=!1,m=g),this.cmd(It.step),this.unhighlight(7,0),this.unhighlight(8,0);if(this.cmd(It.step),this.unhighlight(5,0),this.highlight(11,0),gi?u=m:u--,this.cmd(It.step),this.unhighlight(11,0),!c){for(var p=u+1;p<this.arrayData.length;p++)this.cmd(It.setBackgroundColor,this.arrayID[p],"#2ECC71");this.cmd(It.step)}if(this.highlight(12,0),this.cmd(It.step),!c){c=!0;for(var I=u;I>d;I--)this.movePointers(I-1,I),this.unhighlight(12,0),this.highlight(13,0),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.step),this.unhighlight(13,0),+this.arrayData[I]<+this.arrayData[I-1]&&(this.highlight(14,0),this.highlight(15,0),this.swap(I,I-1),c=!1,m=I),this.cmd(It.step),this.unhighlight(14,0),this.unhighlight(15,0);if(this.highlight(18,0),gi?d=m:d++,this.cmd(It.step),this.unhighlight(18,0),!c){for(var f=d-1;f>=0;f--)this.cmd(It.setBackgroundColor,this.arrayID[f],"#2ECC71");this.cmd(It.step)}}this.unhighlight(12,0),this.highlight(3,0),this.cmd(It.step)}while(!c);this.unhighlight(3,0),this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.step);for(var b=0;b<this.arrayData.length;b++)this.cmd(It.setBackgroundColor,this.arrayID[b],"#2ECC71");return this.cmd(It.step),this.commands}},{key:"movePointers",value:function(t,i){var e=50*t+100;this.cmd(It.move,this.iPointerID,e,120);var s=50*i+100;this.cmd(It.move,this.jPointerID,s,120),this.cmd(It.step)}},{key:"swap",value:function(t,i){this.cmd(It.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(It.setForegroundColor,this.jPointerID,"#FF0000");var e=this.nextIndex++,s=50*t+100;this.cmd(It.createLabel,e,this.displayData[t],s,120);var h=this.nextIndex++,a=50*i+100;this.cmd(It.createLabel,h,this.displayData[i],a,120),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,120),this.cmd(It.move,h,s,120),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n,this.cmd(It.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(It.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(It.step)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Ii=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s,Mt))).addControls(),h.physicalStack=!1,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){xt("Start vertex: "),this.startField=Lt("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.controls.push(this.startField),this.startButton=Lt("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),Ct();var t=kt(["Recursion","Stack"],"StackType");this.recursiveStackButton=t[0],this.recursiveStackButton.onclick=this.stackCallback.bind(this,!1),this.recursiveStackButton.checked=!0,this.controls.push(this.recursiveStackButton),this.physicalStackButton=t[1],this.physicalStackButton.onclick=this.stackCallback.bind(this,!0),this.controls.push(this.physicalStackButton),Ct(),Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this)}},{key:"setup",value:function(t){Object(Bt.a)(Object(l.a)(i.prototype),"setup",this).call(this,t),this.commands=[],this.messageID=[],this.visited=[],this.stackID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(It.createLabel,this.infoLabelID,"",25,15,0),this.cmd(It.createLabel,this.nextIndex++,"Visited Set:",25,95,0),this.cmd(It.createLabel,this.nextIndex++,"List:",25,45,0),this.cmd(It.createLabel,this.nextIndex++,"Current vertex:",25,145,0),this.stackLabelID=this.nextIndex++,this.cmd(It.createLabel,this.stackLabelID,this.physicalStack?"Stack:":"Recursive stack:   Recursive calls:",25,170,0),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}},{key:"reset",value:function(){this.nextIndex=this.lastIndex,this.listID=[],this.visitedID=[],this.messageID=[]}},{key:"stackCallback",value:function(t){this.physicalStack!==t&&(this.physicalStack=t,this.animationManager.resetAll(),this.setup(this.adj_matrix))}},{key:"startCallback",value:function(){if(""!==this.startField.value){var t=this.startField.value;this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)>=0&&t<this.size&&(this.physicalStack?this.implementAction(this.doDFSStack.bind(this),t):this.implementAction(this.doDFSRecursive.bind(this),t))}}},{key:"doDFSStack",value:function(t){this.commands=[],this.clear(),this.visited=new Array(this.size),this.stack=[],this.stackID=[],this.listID=[],this.visitedID=[],this.stackStartY=this.isLarge?465:335,this.stackSpacing=this.isLarge?16:20,this.rebuildEdges();var i=t;this.cmd(It.setText,this.infoLabelID,"Pushing "+this.toStr(i)+" and adding to visited set");var e=this.nextIndex++;for(this.visited[i]=!0,this.visitedID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(i),30,120),this.cmd(It.setBackgroundColor,this.circleID[i],"#99CCFF"),this.stack.push(i),this.stackID.push(e),this.cmd(It.createLabel,e,this.toStr(i),40,this.stackStartY),this.cmd(It.step);this.stack.length>0&&this.listID.length<this.size;){i=this.stack.pop(),e=this.stackID.pop(),this.cmd(It.setText,this.infoLabelID,"Popping "+this.toStr(i)+" and adding to list"),this.cmd(It.setTextColor,e,"#0000FF"),this.cmd(It.move,e,115,151),this.listID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(i),30+20*(this.listID.length-1),70),this.visitVertex(i),this.cmd(It.step);for(var s=0;s<this.size;s++)this.adj_matrix[i][s]>0&&(this.highlightEdge(i,s,1),this.visited[s]?this.cmd(It.setText,this.infoLabelID,this.toStr(s)+" has already been visited, skipping"):(this.visited[s]=!0,this.visitedID.push(this.nextIndex),this.cmd(It.setText,this.infoLabelID,this.toStr(s)+" has not yet been visited, pushing and adding to visited set"),this.cmd(It.createLabel,this.nextIndex++,this.toStr(s),30+20*(this.visitedID.length-1),120),this.cmd(It.setBackgroundColor,this.circleID[s],"#99CCFF"),this.stack.push(s),this.stackID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(s),40,this.stackStartY-(this.stack.length-1)*this.stackSpacing)),this.cmd(It.step));this.cmd(It.delete,e),this.leaveVertex()}return this.stack.length>0?this.cmd(It.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(It.setText,this.infoLabelID,"Stack is empty, done"),this.commands}},{key:"doDFSRecursive",value:function(t){this.commands=[],this.clear(),this.visited=new Array(this.size),this.listID=[],this.visitedID=[],this.stackStartY=this.isLarge?465:335,this.stackSpacing=this.isLarge?16:20,this.recursionSpacingX=this.isLarge?10:20,this.recursionSpacingY=this.isLarge?15:20,this.currentID=this.nextIndex++,this.rebuildEdges(),this.cmd(It.setText,this.infoLabelID,"");var i=t;return this.cmd(It.createLabel,this.currentID,"",115,151),this.cmd(It.setTextColor,this.currentID,"#0000FF"),this.cmd(It.setText,this.infoLabelID,"About to recurse to "+this.toStr(t)),this.cmd(It.step),this.visitVertex(i),this.dfsVisit(i,125),this.cmd(It.setText,this.infoLabelID,"Returned from "+this.toStr(i)+", done"),this.cmd(It.delete,this.currentID),this.leaveVertex(),this.commands}},{key:"dfsVisit",value:function(t,i){this.cmd(It.setText,this.infoLabelID,"Visiting "+this.toStr(t)+" and adding to list"),this.cmd(It.setText,this.currentID,this.toStr(t)),this.stackID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(t),40,this.stackStartY-(this.stackID.length-1)*this.stackSpacing);var e=this.nextIndex++;this.messageID.push(e),this.cmd(It.createLabel,e,"DFS("+this.toStr(t)+")",i,185+(this.messageID.length-1)*this.recursionSpacingY,0),this.listID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.listID.length-1),70),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),120),this.cmd(It.setBackgroundColor,this.circleID[t],"#99CCFF"),this.cmd(It.step);for(var s=0;s<this.size;s++)this.adj_matrix[t][s]>0&&(this.visited[s]?(this.cmd(It.setText,this.infoLabelID,"Vertex "+this.toStr(s)+" already visited, skipping"),this.cmd(It.step)):(this.highlightEdge(t,s,1,"red"),this.cmd(It.setText,this.infoLabelID,"About to recurse to "+this.toStr(s)),this.cmd(It.step),this.leaveVertex(),this.visitVertex(s),this.dfsVisit(s,i+this.recursionSpacingX),this.leaveVertex(),this.visitVertex(t),this.cmd(It.setText,this.infoLabelID,"Returned from "+this.toStr(s)+" to "+this.toStr(t)),this.cmd(It.step)));this.cmd(It.delete,this.stackID.pop())}},{key:"clear",value:function(){for(var t=0;t<this.size;t++)this.cmd(It.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(var i=0;i<this.listID.length;i++)this.cmd(It.delete,this.listID[i]);this.listID=[];for(var e=0;e<this.visitedID.length;e++)this.cmd(It.delete,this.visitedID[e]);if(this.visitedID=[],null!=this.messageID)for(var s=0;s<this.messageID.length;s++)this.cmd(It.delete,this.messageID[s]);this.messageID=[],this.cmd(It.setText,this.infoLabelID,"")}}]),i}(qt),fi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],xt("S1:"),this.S1Field=Lt("Text",""),this.S1Field.onkeydown=this.returnSubmit(this.S1Field,this.runCallback.bind(this),13,!1),this.controls.push(this.S1Field),xt("S2:"),this.S2Field=Lt("Text",""),this.S2Field.onkeydown=this.returnSubmit(this.S2Field,this.runCallback.bind(this),13,!1),this.controls.push(this.S2Field),this.tableButton=Lt("Button","Run"),this.tableButton.onclick=this.runCallback.bind(this),this.controls.push(this.tableButton)}},{key:"setup",value:function(){var t,i;for(this.infoLabelID=this.nextIndex++,this.cmd(It.createLabel,this.infoLabelID,"",20,400,0),this.code=[["procedure ","LCS(S1, S2, matrix)"],["     matrix <- create new 2D array of length S1.length by S2.length"],["     for y <- 1, to S1.length, loop"],["          for x <- 1 to S2.length, loop"],["               if ","(S1[y] == S2[x])"],["                    matrix[y][x] = 1 + ","matrix[y - 1][x - 1]"],["               else"],["                    matrix[y][x] = max(","matrix[y - 1][x]",","," matrix[y][x - 1]",")"],["          end for"],["     end for"],["     currY <- S1.length"],["     currX <- S2.length"],["     list <- create new List()"],["     while currY > 0 and currX > 0, loop:"],[["          if "],["matrix[currY - 1][currX] == matrix[currY][currX - 1] "]],[["           and "],["matrix[currY][currX] != matrix [currY - 1][currX - 1]"]],["               list.addFront(S1[currY])"],["               currX--"],["               currY--"],["          else"],[["               if "],["matrix[currY - 1][currX] > matrix[currY][currX - 1]"]],["                    currX--"],["               else"],["                    currY--"],["     end while"],["end procedure"]],this.codeID=Array(this.code.length),t=0;t<this.code.length;t++)for(this.codeID[t]=new Array(this.code[t].length),i=0;i<this.code[t].length;i++)this.codeID[t][i]=this.nextIndex++,this.cmd(It.createLabel,this.codeID[t][i],this.code[t][i],20,20+14*t,0),this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000"),i>0&&this.cmd(It.alignRight,this.codeID[t][i],this.codeID[t][i-1]);this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.initialIndex=this.nextIndex,this.oldIDs=[],this.commands=[]}},{key:"reset",value:function(){this.oldIDs=[],this.nextIndex=this.initialIndex}},{key:"runCallback",value:function(){var t=this.S1Field.value,i=this.S2Field.value;""!==t&&""!==i&&(this.S1Field.value="",this.S2Field.value="",this.implementAction(this.run.bind(this),t,i))}},{key:"run",value:function(t,i){this.commands=[],this.clearOldIDs(),this.buildTable(t,i);var e,s,h=this.nextIndex++,a=t.length,n=i.length;for(e=0;e<=a;e++)this.cmd(It.setText,this.tableID[e][0],"0"),this.tableVals[e][0]=0;for(e=0;e<=n;e++)this.cmd(It.setText,this.tableID[0][e],"0"),this.tableVals[0][e]=0;for(this.cmd(It.step),s=0;s<n;s++)for(e=0;e<a;e++)this.cmd(It.setHighlight,this.tableID[e+1][s+1],1),this.cmd(It.setHighlight,this.S1TableID[e],1),this.cmd(It.setHighlight,this.S2TableID[s],1),this.highlight(4,1),this.cmd(It.setText,this.infoLabelID,"Comparing "+t.charAt(e)+" and "+i.charAt(s)),this.cmd(It.step),this.cmd(It.setHighlight,this.S1TableID[e],0),this.cmd(It.setHighlight,this.S2TableID[s],0),this.unhighlight(4,1),t.charAt(e)===i.charAt(s)?(this.highlight(5,0),this.highlight(5,1),this.cmd(It.setHighlight,this.tableID[e+1-1][s+1-1],1),this.cmd(It.setText,this.infoLabelID,"Match, increment from the diagonal"),this.cmd(It.step),this.cmd(It.createLabel,h,this.tableVals[e][s]+1,this.tableXPos[e][s],this.tableYPos[e][s]),this.cmd(It.bringToTop,h,1),this.cmd(It.move,h,this.tableXPos[e+1][s+1],this.tableYPos[e+1][s+1]),this.cmd(It.step),this.cmd(It.delete,h),this.unhighlight(5,0),this.unhighlight(5,1),this.cmd(It.setHighlight,this.tableID[e+1-1][s+1-1],0),this.tableVals[e+1][s+1]=this.tableVals[e][s]+1,this.cmd(It.setText,this.tableID[e+1][s+1],this.tableVals[e+1][s+1])):(this.highlight(7,0),this.highlight(7,1),this.highlight(7,2),this.highlight(7,3),this.highlight(7,4),this.cmd(It.setHighlight,this.tableID[e][s+1],1),this.cmd(It.setHighlight,this.tableID[e+1][s],1),this.cmd(It.setText,this.infoLabelID,"Mismatch, copy greatest value from left or above"),this.cmd(It.step),this.unhighlight(7,0),this.unhighlight(7,2),this.unhighlight(7,4),this.tableVals[e][s+1]>this.tableVals[e+1][s]?(this.cmd(It.setHighlight,this.tableID[e+1][s],0),this.unhighlight(7,1),this.tableVals[e+1][s+1]=this.tableVals[e][s+1],this.cmd(It.createLabel,h,this.tableVals[e][s+1],this.tableXPos[e][s+1],this.tableYPos[e][s+1])):(this.unhighlight(7,3),this.cmd(It.setHighlight,this.tableID[e][s+1],0),this.tableVals[e+1][s+1]=this.tableVals[e+1][s],this.cmd(It.createLabel,h,this.tableVals[e+1][s],this.tableXPos[e+1][s],this.tableYPos[e+1][s])),this.cmd(It.bringToTop,h,1),this.cmd(It.move,h,this.tableXPos[e+1][s+1],this.tableYPos[e+1][s+1]),this.cmd(It.step),this.cmd(It.setText,this.tableID[e+1][s+1],this.tableVals[e+1][s+1]),this.cmd(It.delete,h),this.tableVals[e][s+1]>this.tableVals[e+1][s]?(this.unhighlight(7,3),this.cmd(It.setHighlight,this.tableID[e][s+1],0)):(this.unhighlight(7,1),this.cmd(It.setHighlight,this.tableID[e+1][s],0))),this.cmd(It.setHighlight,this.tableID[e+1][s+1],0);return this.highlight(9,0),this.highlight(10,0),this.highlight(11,0),this.highlight(12,0),this.cmd(It.setText,this.infoLabelID,"Finished building table, can now find LCS"),this.cmd(It.step),this.buildLCSFromTable(t,i),this.unhighlight(24,0),this.highlight(25,0),this.cmd(It.setText,this.infoLabelID,"Done"),this.cmd(It.step),this.unhighlight(25,0),this.commands}},{key:"buildTable",value:function(t,i){var e,s,h=t.length,a=i.length;for(this.tableID=new Array(h+1),this.tableVals=new Array(h+1),this.tableXPos=new Array(h+1),this.tableYPos=new Array(h+1),this.S1TableID=new Array(h),e=0;e<=h;e++){e>0&&(this.S1TableID[e-1]=this.nextIndex++,this.cmd(It.createLabel,this.S1TableID[e-1],t.charAt(e-1),500+40*e,20),this.oldIDs.push(this.S1TableID[e-1]));var n=this.nextIndex++;this.oldIDs.push(n),this.cmd(It.createLabel,n,e-1===-1?"\u2205":e-1,500+40*e,50),this.cmd(It.setForegroundColor,n,"#0000FF")}for(this.S2TableID=new Array(a),e=0;e<=a;e++){e>0&&(this.S2TableID[e-1]=this.nextIndex++,this.cmd(It.createLabel,this.S2TableID[e-1],i.charAt(e-1),420,80+30*e),this.oldIDs.push(this.S2TableID[e-1]));var r=this.nextIndex++;this.oldIDs.push(r),this.cmd(It.createLabel,r,e-1===-1?"\u2205":e-1,460,80+30*e),this.cmd(It.setForegroundColor,r,"#0000FF")}for(e=0;e<=h;e++)for(this.tableID[e]=new Array(a+1),this.tableVals[e]=new Array(a+1),this.tableXPos[e]=new Array(a+1),this.tableYPos[e]=new Array(a+1),s=0;s<=a;s++)this.tableID[e][s]=this.nextIndex++,this.tableVals[e][s]=-1,this.oldIDs.push(this.tableID[e][s]),this.tableXPos[e][s]=500+40*e,this.tableYPos[e][s]=80+30*s,this.cmd(It.createRectangle,this.tableID[e][s],"",40,30,this.tableXPos[e][s],this.tableYPos[e][s])}},{key:"clearOldIDs",value:function(){for(var t=0;t<this.oldIDs.length;t++)this.cmd(It.delete,this.oldIDs[t]);this.oldIDs=[],this.nextIndex=this.initialIndex}},{key:"buildLCSFromTable",value:function(t,i){var e=this.tableVals.length-1,s=this.tableVals[0].length-1,h=[],a=this.nextIndex++;this.oldIDs.push(a),this.cmd(It.createLabel,a,"Longest Common Subsequence:",20,425,0),this.cmd(It.setForegroundColor,a,"#003300");for(var n=1;n<=t.length;n++)for(var r=1;r<=i.length;r++){var l=this.tableVals[n][r]!==this.tableVals[n][r-1],o=this.tableVals[n][r]!==this.tableVals[n-1][r];(l||o)&&this.cmd(It.setRectangleEdgeThickness,this.tableID[n][r],[l,!1,!1,o])}for(this.cmd(It.step),this.unhighlight(9,0),this.unhighlight(10,0),this.unhighlight(11,0),this.unhighlight(12,0);e>0&&s>0;){this.cmd(It.setBackgroundColor,this.tableID[e][s],"#99CCFF"),this.cmd(It.step),this.unhighlight(14,1),this.unhighlight(15,1);for(var c=16;c<24;c++)this.unhighlight(c,0);if(this.highlight(14,1),this.cmd(It.setHighlight,this.tableID[e-1][s],1),this.cmd(It.setHighlight,this.tableID[e][s-1],1),this.cmd(It.step),this.unhighlight(14,1),this.cmd(It.setHighlight,this.tableID[e-1][s],0),this.cmd(It.setHighlight,this.tableID[e][s-1],0),this.tableVals[e-1][s]===this.tableVals[e][s-1]&&(this.highlight(15,1),this.cmd(It.setHighlight,this.tableID[e][s],1),this.cmd(It.setHighlight,this.tableID[e-1][s-1],1),this.cmd(It.step),this.unhighlight(15,1),this.cmd(It.setHighlight,this.tableID[e][s],0),this.cmd(It.setHighlight,this.tableID[e-1][s-1],0)),this.tableVals[e-1][s]===this.tableVals[e][s-1]&&this.tableVals[e-1][s]!==this.tableVals[e][s]?(this.cmd(It.setHighlight,this.S1TableID[e-1],1),this.cmd(It.setHighlight,this.S2TableID[s-1],1),this.cmd(It.setText,this.infoLabelID,"Hit a corner, move diagonally and add current character to LCS"),this.cmd(It.step),this.cmd(It.setHighlight,this.S1TableID[e-1],0),this.cmd(It.setHighlight,this.S2TableID[s-1],0)):this.tableVals[e-1][s]>this.tableVals[e][s-1]?(this.highlight(20,1),this.cmd(It.setHighlight,this.tableID[e-1][s],1),this.cmd(It.setHighlight,this.tableID[e][s-1],1),this.cmd(It.step),this.unhighlight(20,1),this.cmd(It.setHighlight,this.tableID[e-1][s],0),this.cmd(It.setHighlight,this.tableID[e][s-1],0),this.highlight(21,0),this.cmd(It.setText,this.infoLabelID,"Move left")):(this.highlight(23,0),this.cmd(It.setText,this.infoLabelID,"Move up")),this.tableVals[e-1][s]===this.tableVals[e][s-1]&&this.tableVals[e-1][s]!==this.tableVals[e][s]){var d=this.nextIndex++;this.oldIDs.push(d),h.push(d),this.cmd(It.createLabel,d,t.charAt(e-1),20+10*(h.length-1)+4,450),this.cmd(It.setForegroundColor,d,"#0000FF");for(var u=h.length-1;u>=0;u--)this.cmd(It.move,h[u],20+10*(h.length-1-u)+4,450);this.highlight(16,0),this.highlight(17,0),this.highlight(18,0),e-=1,s-=1}else this.tableVals[e-1][s]>this.tableVals[e][s-1]?(e-=1,this.highlight(21,0)):(s-=1,this.highlight(23,0))}for(var m=16;m<24;m++)this.unhighlight(m,0);this.highlight(24,0),this.cmd(It.step)}},{key:"highlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#FF0000")}},{key:"unhighlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000")}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}}]),i}(Ft),bi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.addField=Lt("Text",""),this.addField.onkeydown=this.returnSubmit(this.addField,null,4),this.controls.push(this.addField),this.addFirstButton=Lt("Button","Add First"),this.addFirstButton.onclick=this.addFirstCallBack.bind(this),this.controls.push(this.addFirstButton),xt("or"),this.addLastButton=Lt("Button","Add Last"),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addLastButton),Ct(),this.removeFirstButton=Lt("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),xt("or"),this.removeLastButton=Lt("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.frontID=this.nextIndex++;var i=this.nextIndex++;this.frontPointerID=this.nextIndex++,this.sizeID=this.nextIndex++;var e=this.nextIndex++;this.arrayData=new Array(7),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++;for(var s=0;s<7;s++){var h=s%14*50+100,a=130*Math.floor(s/14)+200;this.cmd(It.createRectangle,this.arrayID[s],"",50,50,h,a),this.cmd(It.createLabel,this.arrayLabelID[s],s,h,a+50),this.cmd(It.setForegroundColor,this.arrayLabelID[s],"#0000FF")}this.cmd(It.createLabel,i,"Front",130,100),this.cmd(It.createRectangle,this.frontID,0,50,50,180,100),this.cmd(It.createLabel,e,"Size",230,100),this.cmd(It.createRectangle,this.sizeID,0,50,50,280,100),this.cmd(It.createLabel,this.frontPointerID,"Front",100,160),this.cmd(It.createLabel,this.leftoverLabelID,"",50,30,!1),this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.top=0,this.front=0,this.size=0,this.nextIndex=0,this.arrayData=new Array(7),this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+7}},{key:"addLastCallback",value:function(){if(this.size<this.arrayData.length&&""!==this.addField.value){var t=this.addField.value;this.addField.value="",this.implementAction(this.addLast.bind(this),t)}else if(this.size===this.arrayData.length&&""!==this.addField.value&&2*this.size<30){var i=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),i,!1)}}},{key:"removeFirstCallback",value:function(){0!==this.size&&this.implementAction(this.removeFirst.bind(this))}},{key:"removeLastCallback",value:function(){0!==this.size&&this.implementAction(this.removeLast.bind(this))}},{key:"addFirstCallBack",value:function(){if(this.size<this.arrayData.length&&""!==this.addField.value){var t=this.addField.value;this.addField.value="",this.implementAction(this.addFirst.bind(this),t)}else if(this.size===this.arrayData.length&&""!==this.addField.value&&2*this.size<30){var i=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),i,!0)}}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"addLast",value:function(t){this.commands=[];var i=this.nextIndex++,e=this.nextIndex++,s=(this.front+this.size)%this.arrayData.length;this.arrayData[s]=t,this.cmd(It.setPosition,this.leftoverLabelID,150,30),this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,i,"Enqueuing Value: ",50,30),this.cmd(It.createLabel,e,t,120,30),this.cmd(It.step),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",280,100),this.cmd(It.step),this.cmd(It.setText,this.leftoverLabelID,"Adding ".concat(t," to back at index (").concat(this.front," + ").concat(this.size,") % ").concat(this.arrayData.length));var h=s%14*50+100,a=130*Math.floor(s/14)+200;return this.cmd(It.move,this.highlight1ID,h,a+50),this.cmd(It.step),this.cmd(It.move,e,h,a),this.cmd(It.step),this.cmd(It.setText,this.arrayID[s],t),this.cmd(It.delete,e),this.cmd(It.delete,this.highlight1ID),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.size=this.size+1,this.cmd(It.setText,this.sizeID,this.size),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.delete,i),this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.setPosition,this.leftoverLabelID,50,30),this.nextIndex=this.nextIndex-2,this.commands}},{key:"addFirst",value:function(t){this.commands=[];var i=this.nextIndex++,e=this.nextIndex++,s=(this.front-1+this.arrayData.length)%this.arrayData.length,h=s%14*50+100,a=130*Math.floor(s/14)+200;this.arrayData[s]=t,this.cmd(It.createLabel,i,"Enqueuing Value: ",50,30),this.cmd(It.createLabel,e,t,120,30),this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.setPosition,this.leftoverLabelID,150,30),this.cmd(It.step),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(It.setText,this.leftoverLabelID,"Adding ".concat(t," to front at index (").concat(this.front," - 1) % ").concat(this.arrayData.length)),this.cmd(It.step),this.cmd(It.move,this.highlight1ID,50*this.front+100,a+50),this.cmd(It.step),this.cmd(It.move,this.highlight1ID,h,a+50),this.cmd(It.step),this.cmd(It.move,e,h,a),this.cmd(It.step),this.cmd(It.delete,e),this.front=s;var n=s%14*50+100,r=130*Math.floor(s/14)+200-40;return this.cmd(It.setText,this.arrayID[s],t),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,1),this.cmd(It.setHighlight,this.frontPointerID,1),this.cmd(It.step),this.cmd(It.move,this.frontPointerID,n,r),this.cmd(It.setText,this.frontID,this.front),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,0),this.cmd(It.setHighlight,this.frontPointerID,0),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.cmd(It.setText,this.sizeID,this.size+1),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.step),this.cmd(It.delete,this.highlight1ID),this.cmd(It.delete,i),this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.setPosition,this.leftoverLabelID,50,30),this.size++,this.nextIndex=this.nextIndex-2,this.commands}},{key:"removeFirst",value:function(){this.commands=[];var t=this.nextIndex++,i=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.setPosition,this.leftoverLabelID,50,30),this.cmd(It.createLabel,t,"removeFirst Value: ",50,30),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(It.step);var e=this.front%14*50+100,s=130*Math.floor(this.front/14)+200;this.cmd(It.move,this.highlight1ID,e,s+50),this.cmd(It.step),this.cmd(It.delete,this.highlight1ID);var h=this.arrayData[this.front];this.cmd(It.createLabel,i,h,e,s),this.cmd(It.setText,this.arrayID[this.front],""),this.cmd(It.move,i,120,30),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,1),this.cmd(It.setHighlight,this.frontPointerID,1),this.cmd(It.step),this.front=(this.front+1)%this.arrayData.length;var a=this.front%14*50+100,n=130*Math.floor(this.front/14)+200-40;return this.cmd(It.setText,this.frontID,this.front),this.cmd(It.move,this.frontPointerID,a,n),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,0),this.cmd(It.setHighlight,this.frontPointerID,0),this.cmd(It.setText,this.leftoverLabelID,"removeFirst Value: "+h),this.cmd(It.delete,t),this.cmd(It.delete,i),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.size--,this.cmd(It.setText,this.sizeID,this.size),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.step),this.cmd(It.setText,this.leftoverLabelID,""),this.nextIndex=this.nextIndex-2,this.commands}},{key:"removeLast",value:function(){this.commands=[];var t=this.nextIndex++,i=this.nextIndex++,e=(this.front+this.size-1+this.arrayData.length)%this.arrayData.length;this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.setPosition,this.leftoverLabelID,50,30),this.cmd(It.createLabel,t,"Removed Value: ",50,30),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(It.createHighlightCircle,this.highlight2ID,"#0000FF",280,100),this.cmd(It.step);var s=e%14*50+100,h=130*Math.floor(e/14)+200;this.cmd(It.move,this.highlight1ID,s,h+50),this.cmd(It.move,this.highlight2ID,s,h+50),this.cmd(It.step),this.cmd(It.delete,this.highlight1ID),this.cmd(It.delete,this.highlight2ID);var a=this.arrayData[e];return this.cmd(It.createLabel,i,a,s,h),this.cmd(It.setText,this.arrayID[e],""),this.cmd(It.move,i,120,30),this.cmd(It.step),this.cmd(It.setText,this.leftoverLabelID,"Removed Value: "+a),this.cmd(It.delete,t),this.cmd(It.delete,i),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.cmd(It.setText,this.sizeID,this.size-1),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.step),this.cmd(It.setText,this.leftoverLabelID,""),this.size--,this.nextIndex=this.nextIndex-2,this.commands}},{key:"resize",value:function(t,i){this.commands=[];var e=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++;this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size);for(var a=i?1:0,n=0;n<2*this.size;n++)this.arrayIDNew[n]=this.nextIndex++,this.arrayLabelIDNew[n]=this.nextIndex++,n<this.size&&(this.arrayDataNew[n+a]=this.arrayData[(this.front+n)%this.arrayData.length]);var r=i?": elements shifted by 1":"";this.cmd(It.createLabel,e,"Enqueuing Value:",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.createLabel,h,"(Resize Required".concat(r,")"),i?160:60,60),this.cmd(It.step);for(var l=0;l<2*this.size;l++){var o=l%14*50+100,c=130*Math.floor(l/14)+300;this.cmd(It.createRectangle,this.arrayIDNew[l],"",50,50,o,c),this.cmd(It.createLabel,this.arrayLabelIDNew[l],l,o,c+50),this.cmd(It.setForegroundColor,this.arrayLabelIDNew[l],"#0000FF")}this.cmd(It.step),this.highlight1ID=this.nextIndex++,this.arrayMoveID=new Array(this.size);for(var d=0;d<this.size;d++){var u=(this.front+d)%this.arrayData.length%14*50+100,m=130*Math.floor((this.front+d)%this.arrayData.length/14)+200,g=(d+a)%14*50+100,p=130*Math.floor((d+a)/14)+300;this.arrayMoveID[d]=this.nextIndex++,this.cmd(It.createLabel,this.arrayMoveID[d],this.arrayData[(this.front+d)%this.arrayData.length],u,m),this.cmd(It.move,this.arrayMoveID[d],g,p),this.cmd(It.step)}for(var I=0;I<this.size;I++)this.cmd(It.delete,this.arrayMoveID[I]),this.cmd(It.setText,this.arrayIDNew[I+a],this.arrayDataNew[I+a]);this.cmd(It.step);for(var f=0;f<this.size;f++)this.cmd(It.delete,this.arrayID[f]),this.cmd(It.delete,this.arrayLabelID[f]);for(var b=0;b<2*this.size;b++){var D=b%14*50+100,v=130*Math.floor(b/14)+200;this.cmd(It.move,this.arrayIDNew[b],D,v),this.cmd(It.move,this.arrayLabelIDNew[b],D,v+50)}this.cmd(It.step),this.front=0,this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.cmd(It.setHighlight,this.frontID,1),this.cmd(It.setHighlight,this.frontPointerID,1),this.cmd(It.step),this.cmd(It.setText,this.frontID,this.front),this.cmd(It.move,this.frontPointerID,100,160),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,0),this.cmd(It.setHighlight,this.frontPointerID,0);var x=i?this.front:(this.front+this.size)%this.arrayDataNew.length;this.cmd(It.delete,h),this.cmd(It.delete,s);var y=this.nextIndex++;this.cmd(It.createLabel,y,t,120,30),this.cmd(It.step),i?this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100):this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",280,100),this.cmd(It.step);var k=x%14*50+100,L=130*Math.floor(x/14)+200;return this.cmd(It.move,this.highlight1ID,50*this.front+100,L+50),this.cmd(It.step),this.cmd(It.move,this.highlight1ID,k,L+50),this.cmd(It.step),this.cmd(It.move,y,k,L),this.cmd(It.step),this.cmd(It.delete,y),this.cmd(It.delete,this.highlight1ID),this.arrayData[x]=t,this.cmd(It.setText,this.arrayID[x],t),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.cmd(It.setText,this.sizeID,this.size+1),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.delete,e),this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.setPosition,this.leftoverLabelID,50,30),this.size++,this.nextIndex=this.nextIndex-this.size,this.commands}},{key:"clearAll",value:function(){this.commands=[],this.cmd(It.setText,this.leftoverLabelID,"");for(var t=0;t<this.arrayData.length;t++)this.cmd(It.setText,this.arrayID[t],"");return this.front=0,this.size=0,this.cmd(It.setText,this.frontID,"0"),this.cmd(It.setText,this.sizeID,"0"),this.cmd(It.setPosition,this.frontPointerID,100,160),this.commands}}]),i}(Ft),Di=30,vi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.tail_pos_y=s-Di,h.tail_label_y=h.tail_pos_y,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.addField=Lt("Text",""),this.addField.onkeydown=this.returnSubmit(this.addField,null,4),this.controls.push(this.addField),this.addFirstButton=Lt("Button","Add First"),this.addFirstButton.onclick=this.addFirstCallback.bind(this),this.controls.push(this.addFirstButton),xt("or"),this.addLastButton=Lt("Button","Add Last"),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addLastButton),Ct(),this.removeFirstButton=Lt("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),xt("or"),this.removeLastButton=Lt("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(It.createLabel,this.headLabelID,"Head",130,100),this.cmd(It.createRectangle,this.headID,"",30,30,180,100),this.cmd(It.createLabel,this.tailLabelID,"Tail",130,this.tail_label_y),this.cmd(It.createRectangle,this.tailID,"",30,30,180,this.tail_pos_y),this.cmd(It.setNull,this.headID,1),this.cmd(It.setNull,this.tailID,1),this.cmd(It.createLabel,this.leftoverLabelID,"",50,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addFirstCallback",value:function(){if(""!==this.addField.value){var t=parseInt(this.addField.value);this.addField.value="",this.implementAction(this.add.bind(this),t,0)}}},{key:"addLastCallback",value:function(){if(""!==this.addField.value){var t=parseInt(this.addField.value);this.addField.value="",this.implementAction(this.add.bind(this),t,this.size)}}},{key:"removeFirstCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeLastCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"add",value:function(t,i){this.commands=[];for(var e=this.nextIndex++,s=this.nextIndex++,h=this.size-1;h>=i;h--)this.arrayData[h+1]=this.arrayData[h],this.linkedListElemID[h+1]=this.linkedListElemID[h];return this.arrayData[i]=t,this.linkedListElemID[i]=this.nextIndex++,this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createDoublyLinkedListNode,this.linkedListElemID[i],"",100,Di,200,50,.25),this.cmd(It.createLabel,e,"Adding Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.step),this.cmd(It.move,s,200,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[i],t),this.cmd(It.delete,s),0===i&&(this.cmd(It.setPrevNull,this.linkedListElemID[i],1),this.cmd(It.connect,this.headID,this.linkedListElemID[i])),i===this.size&&(this.cmd(It.setNextNull,this.linkedListElemID[i],1),this.cmd(It.connect,this.tailID,this.linkedListElemID[i])),0!==this.size&&(0===i?(this.cmd(It.setPrevNull,this.linkedListElemID[i+1],0),this.cmd(It.connectNext,this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd(It.connectPrev,this.linkedListElemID[i+1],this.linkedListElemID[i]),this.cmd(It.disconnect,this.headID,this.linkedListElemID[i+1])):i===this.size?(this.cmd(It.setNextNull,this.linkedListElemID[i-1],0),this.cmd(It.connectNext,this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd(It.connectPrev,this.linkedListElemID[i],this.linkedListElemID[i-1]),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[i-1])):(this.cmd(It.disconnect,this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd(It.disconnect,this.linkedListElemID[i+1],this.linkedListElemID[i-1]),this.cmd(It.connectNext,this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd(It.connectPrev,this.linkedListElemID[i],this.linkedListElemID[i-1]),this.cmd(It.connectNext,this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd(It.connectPrev,this.linkedListElemID[i+1],this.linkedListElemID[i]))),this.cmd(It.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(It.delete,e),this.cmd(It.step),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var i=this.nextIndex++,e=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,"");var s=100+150*t;if(this.cmd(It.createLabel,i,"Removing Value: ",50,30),this.cmd(It.createLabel,e,this.arrayData[t],s,200),this.cmd(It.move,e,120,30),this.cmd(It.step),1!==this.size)if(0===t)this.cmd(It.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(It.setPrevNull,this.linkedListElemID[t+1],1),this.cmd(It.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(It.connect,this.headID,this.linkedListElemID[t+1]);else if(t===this.size-1)this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.setNextNull,this.linkedListElemID[t-1],1),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(It.connect,this.tailID,this.linkedListElemID[t-1]);else{var h=t%8*150+100,a=200-2*Di;this.cmd(It.move,this.linkedListElemID[t],h,a),this.cmd(It.step),this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(It.connectNext,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(It.connectPrev,this.linkedListElemID[t+1],this.linkedListElemID[t-1])}else this.cmd(It.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[t]);this.cmd(It.step),this.cmd(It.delete,this.linkedListElemID[t]);for(var n=t;n<this.size;n++)this.arrayData[n]=this.arrayData[n+1],this.linkedListElemID[n]=this.linkedListElemID[n+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(It.delete,e),this.cmd(It.delete,i),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var i=t%8*150+100,e=100*Math.floor(t/8)+200;this.cmd(It.move,this.linkedListElemID[t],i,e)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd(It.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(It.setNull,this.headID,1),this.cmd(It.setNull,this.tailID,1),this.commands}}]),i}(Ft),xi=function(){function t(){Object(a.a)(this,t),this.backingArray=[]}return Object(n.a)(t,[{key:"enqueue",value:function(t,i,e){this.backingArray.push([t,i,e]),this.backingArray.sort((function(t,i){return t[2]!==i[2]?t[2]-i[2]:Array.isArray(t[0])?t[0][0]!==i[0][0]?t[0][0]-i[0][0]:t[0][1]-i[0][1]:t[0]-i[0]}))}},{key:"dequeue",value:function(){var t=this.backingArray.shift();return[t[0],t[1]]}},{key:"size",value:function(){return this.backingArray.length}},{key:"getIDs",value:function(){return this.backingArray.map((function(t){return t[1]}))}}]),t}(),yi=xi,ki=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s,Vt,!1,!1,!0))).addControls(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){xt("Start vertex: "),this.startField=Lt("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=Lt("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),Ct(),Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this)}},{key:"setup",value:function(t){Object(Bt.a)(Object(l.a)(i.prototype),"setup",this).call(this,t),this.commands=[],this.vertexID=new Array(this.size),this.distance=new Array(this.size),this.distanceID=new Array(this.size),this.visited=[],this.visitedID=[],this.pq=new yi,this.code=[["initialize VisitedSet, VS"],["initialize distanceMap, DM"],["initialize PriorityQueue, PQ"],["for all v in G, initialize distance of v to INF"],["PQ.enqueue((s, 0))"],["while PQ is not empty and VS is not full"],["    (u, d) <- PQ.dequeue()"],["    if u is not visited in VS"],["        mark u as visited in VS"],["    for all (w, d2) adjacent to u and not visited in VS"],["        update DM for d2"],["        PQ.enqueue((w, d + d2))"]],this.codeID=this.addCodeToCanvasBase(this.code,1100,50),this.tableEntryHeight=this.isLarge?17:20;for(var e=0;e<this.size;e++)this.vertexID[e]=this.nextIndex++,this.distanceID[e]=this.nextIndex++,this.cmd(It.createRectangle,this.vertexID[e],this.toStr(e),50,this.tableEntryHeight,50,180+e*this.tableEntryHeight),this.cmd(It.createRectangle,this.distanceID[e],"",50,this.tableEntryHeight,100,180+e*this.tableEntryHeight),this.cmd(It.setTextColor,this.vertexID[e],"#0000FF");this.infoLabelID=this.nextIndex++,this.cmd(It.createLabel,this.infoLabelID,"",25,15,0),this.cmd(It.createLabel,this.nextIndex++,"Visited Set:",25,40,0),this.cmd(It.createLabel,this.nextIndex++,"Current vertex:",25,85,0),this.cmd(It.createLabel,this.nextIndex++,"Priority Queue:",25,110,0),this.cmd(It.createLabel,this.nextIndex++,"Distance Map:",75,160),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.comparisonMessageID=this.nextIndex++,this.lastIndex=this.nextIndex}},{key:"reset",value:function(){this.nextIndex=this.lastIndex,this.messageID=[],this.visitedID=[],this.pq=new yi}},{key:"startCallback",value:function(){var t;""!==this.startField.value&&(t=this.startField.value,this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)>=0&&t<this.size&&this.implementAction(this.doDijkstra.bind(this),t))}},{key:"doDijkstra",value:function(t){this.commands=[];var i=t,e=this.nextIndex++;for(this.clear(),this.visitedID=[],this.distance[i]=0,this.cmd(It.setText,this.distanceID[i],0),this.pq=new yi,this.pq.enqueue(i,e,0),this.cmd(It.createLabel,e,"("+this.toStr(i)+", 0)",110,110,0),this.cmd(It.setText,this.infoLabelID,"Enqueueing "+this.toStr(i)+" with distance 0 and updating distance map"),this.highlight(0,0),this.highlight(1,0),this.highlight(2,0),this.highlight(3,0),this.highlight(4,0),this.cmd(It.step),this.unhighlight(0,0),this.unhighlight(1,0),this.unhighlight(2,0),this.unhighlight(3,0),this.unhighlight(4,0);this.visited.includes(!1)&&0!==this.pq.size();){this.highlight(5,0),this.highlight(6,0);var s=this.pq.dequeue(),h=Object(c.a)(s,2);i=h[0],e=h[1],this.cmd(It.setText,this.infoLabelID,"Dequeueing "+this.toStr(i)),this.cmd(It.move,e,110,85),this.cmd(It.setText,e,this.toStr(i)),this.cmd(It.setTextColor,e,"#0000FF");for(var a=this.pq.getIDs(),n=0;n<this.pq.size();n++)this.cmd(It.move,a[n],110+n%9*42,110+25*Math.floor(n/9));if(this.visitVertex(i),this.cmd(It.step),this.unhighlight(6,0),this.highlight(7,0),this.visited[i])this.unhighlight(7,0),this.cmd(It.setText,this.infoLabelID,this.toStr(i)+" has already been visited, skipping"),this.cmd(It.step);else{this.highlight(8,0),this.visited[i]=!0,this.cmd(It.setText,this.infoLabelID,"Adding "+this.toStr(i)+" to visited set"),this.visitedID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(i),30+20*(this.visitedID.length-1),65),this.cmd(It.setBackgroundColor,this.circleID[i],"#99CCFF"),this.cmd(It.step),this.unhighlight(8,0),this.unhighlight(7,0),this.highlight(9,0),this.highlight(10,0),this.cmd(It.setText,this.infoLabelID,"Updating neighbors of vertex "+this.toStr(i));for(var r=0;r<this.size;r++)if(this.adj_matrix[i][r]>=0){if(this.highlightEdge(i,r,1),this.visited[r])this.cmd(It.setText,this.infoLabelID,this.toStr(r)+" has already been visited, skipping"),this.cmd(It.step);else{this.cmd(It.setText,this.infoLabelID,"Comparing distances"),this.cmd(It.setHighlight,this.distanceID[i],1),this.cmd(It.setHighlight,this.distanceID[r],1);var l=this.distance[i],o=this.adj_matrix[i][r],d=l+o,u=this.distance[r],m=u>=0?String(this.distance[r]):"INF";if(u<0||d<u){this.distance[r]=d,this.cmd(It.createLabel,this.comparisonMessageID,"New distance ("+l+" + "+o+" = "+d+") is less than old distance ("+m+"), updating",135,180+r*this.tableEntryHeight-5,0),this.highlight(10,0),this.cmd(It.step),this.cmd(It.setText,this.infoLabelID,"Updating distance"),this.cmd(It.setText,this.distanceID[r],this.distance[r]),this.cmd(It.setHighlight,this.distanceID[i],0),this.cmd(It.setHighlight,this.distanceID[r],0),this.cmd(It.step),this.unhighlight(10,0),this.cmd(It.delete,this.comparisonMessageID),this.pq.enqueue(r,this.nextIndex,d),this.cmd(It.setText,this.infoLabelID,"Enqueueing "+this.toStr(r)+" with distance "+d),this.cmd(It.createLabel,this.nextIndex++,"("+this.toStr(r)+", "+d+")",110+(this.pq.size()-1)%9*42,110+25*Math.floor((this.pq.size()-1)/9),0),this.highlight(11,0),this.cmd(It.step);var g=this.pq.getIDs();if(String(a)!==String(g.slice(0,-1))){for(var p=0;p<this.pq.size();p++)this.cmd(It.move,g[p],110+p%9*42,110+25*Math.floor(p/9));this.cmd(It.step)}a=g,this.unhighlight(11,0)}else this.cmd(It.createLabel,this.comparisonMessageID,"New distance ("+l+" + "+o+" = "+d+") is greater than or equal to old distance ("+m+"), skipping",135,180+r*this.tableEntryHeight-5,0),this.highlight(5,0),this.cmd(It.step),this.unhighlight(5,0),this.cmd(It.delete,this.comparisonMessageID),this.cmd(It.setHighlight,this.distanceID[i],0),this.cmd(It.setHighlight,this.distanceID[r],0)}this.highlightEdge(i,r,0)}this.unhighlight(10,0),this.unhighlight(9,0)}this.leaveVertex(),this.cmd(It.delete,e),this.unhighlight(5,0)}return this.pq.size()>0?this.cmd(It.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(It.setText,this.infoLabelID,"Priority queue is empty, done"),this.commands}},{key:"clear",value:function(){for(var t=0;t<this.size;t++)this.cmd(It.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.cmd(It.setText,this.distanceID[t],"INF"),this.visited[t]=!1,this.distance[t]=-1;for(var i=0;i<this.visitedID.length;i++)this.cmd(It.delete,this.visitedID[i]);var e=this.pq.getIDs(),s=!0,h=!1,a=void 0;try{for(var n,r=e[Symbol.iterator]();!(s=(n=r.next()).done);s=!0){var l=n.value;this.cmd(It.delete,l)}}catch(c){h=!0,a=c}finally{try{s||null==r.return||r.return()}finally{if(h)throw a}}if(null!=this.messageID)for(var o=0;o<this.messageID.length;o++)this.cmd(It.delete,this.messageID[o]);this.messageID=[]}}]),i}(qt),Li=30,Ci=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.tail_pos_y=s-Li,h.tail_label_y=h.tail_pos_y,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[];var i=Tt(!1),e=Tt(!0,i),s=Tt(!0,i);xt("Add",e),this.addValueField=Lt("Text","",e),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addValueField),xt("at index",e),this.addIndexField=Lt("Text","",e),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Lt("Button","Add to Front",s),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Lt("Button","Add to Back",s),this.addBackButton.onclick=function(){return t.addBackCallback()},this.controls.push(this.addBackButton),xt("or",s),this.addIndexButton=Lt("Button","Add at Index",s),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),Ct();var h=Tt(!1),a=Tt(!0,h),n=Tt(!0,h);xt("Index",a),this.removeField=Lt("Text","",a),this.removeField.onkeydown=this.returnSubmit(this.removeField,(function(){return t.removeIndexCallback()}),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Lt("Button","Remove from Index",a),this.removeIndexButton.onclick=function(){return t.removeIndexCallback()},this.controls.push(this.removeIndexButton),xt("or",n),this.removeFrontButton=Lt("Button","Remove from Front",n),this.removeFrontButton.onclick=function(){return t.removeFrontCallback()},this.controls.push(this.removeFrontButton),this.removeBackButton=Lt("Button","Remove from Back",n),this.removeBackButton.onclick=function(){return t.removeBackCallback()},this.controls.push(this.removeBackButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=function(){return t.clearCallback()},this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(It.createLabel,this.headLabelID,"Head",130,100),this.cmd(It.createRectangle,this.headID,"",30,30,180,100),this.cmd(It.createLabel,this.tailLabelID,"Tail",130,this.tail_label_y),this.cmd(It.createRectangle,this.tailID,"",30,30,180,this.tail_pos_y),this.cmd(It.setNull,this.headID,1),this.cmd(It.setNull,this.tailID,1),this.cmd(It.createLabel,this.leftoverLabelID,"",50,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){var t=parseInt(this.addValueField.value),i=parseInt(this.addIndexField.value);i>=0&&i<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,i))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value){var t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0)}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value){var t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"traverse",value:function(t){if(t<Math.floor(this.size/2)){for(var i=0;i<=t;i++)this.cmd(It.step),this.cmd(It.setHighlight,this.linkedListElemID[i],1),i>0&&this.cmd(It.setHighlight,this.linkedListElemID[i-1],0);this.cmd(It.step)}else{for(var e=this.size-1;e>=t;e--)this.cmd(It.step),this.cmd(It.setHighlight,this.linkedListElemID[e],1),e<this.size&&this.cmd(It.setHighlight,this.linkedListElemID[e+1],0);this.cmd(It.step)}}},{key:"add",value:function(t,i){this.commands=[];var e=this.nextIndex++,s=this.nextIndex++,h=i<Math.floor(this.size/2)?i-1:i;i>0&&i<this.size&&this.traverse(h);for(var a=this.size-1;a>=i;a--)this.arrayData[a+1]=this.arrayData[a],this.linkedListElemID[a+1]=this.linkedListElemID[a];return this.arrayData[i]=t,this.linkedListElemID[i]=this.nextIndex++,this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createDoublyLinkedListNode,this.linkedListElemID[i],"",100,Li,200,50),this.cmd(It.createLabel,e,"Adding Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.step),this.cmd(It.move,s,200,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[i],t),this.cmd(It.delete,s),0===i&&(this.cmd(It.setPrevNull,this.linkedListElemID[i],1),this.cmd(It.connect,this.headID,this.linkedListElemID[i])),i===this.size&&(this.cmd(It.setNextNull,this.linkedListElemID[i],1),this.cmd(It.connect,this.tailID,this.linkedListElemID[i])),0!==this.size&&(0===i?(this.cmd(It.setPrevNull,this.linkedListElemID[i+1],0),this.cmd(It.connectNext,this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd(It.connectPrev,this.linkedListElemID[i+1],this.linkedListElemID[i]),this.cmd(It.disconnect,this.headID,this.linkedListElemID[i+1])):i===this.size?(this.cmd(It.setNextNull,this.linkedListElemID[i-1],0),this.cmd(It.connectNext,this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd(It.connectPrev,this.linkedListElemID[i],this.linkedListElemID[i-1]),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[i-1])):(this.cmd(It.disconnect,this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd(It.disconnect,this.linkedListElemID[i+1],this.linkedListElemID[i-1]),this.cmd(It.connectNext,this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd(It.connectPrev,this.linkedListElemID[i],this.linkedListElemID[i-1]),this.cmd(It.connectNext,this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd(It.connectPrev,this.linkedListElemID[i+1],this.linkedListElemID[i]))),this.cmd(It.setHighlight,this.linkedListElemID[i<Math.floor(this.size/2)?h:h+1],0),this.cmd(It.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(It.delete,e),this.cmd(It.step),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var i=this.nextIndex++,e=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,""),t>0&&t<this.size-1&&this.traverse(t);var s=100+150*t;if(this.cmd(It.createLabel,i,"Removing Value: ",50,30),this.cmd(It.createLabel,e,this.arrayData[t],s,200),this.cmd(It.move,e,120,30),this.cmd(It.step),1!==this.size)if(0===t)this.cmd(It.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(It.setPrevNull,this.linkedListElemID[t+1],1),this.cmd(It.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(It.connect,this.headID,this.linkedListElemID[t+1]);else if(t===this.size-1)this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.setNextNull,this.linkedListElemID[t-1],1),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(It.connect,this.tailID,this.linkedListElemID[t-1]);else{var h=t%8*150+100,a=200-2*Li;this.cmd(It.move,this.linkedListElemID[t],h,a),this.cmd(It.step),this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(It.connectNext,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(It.connectPrev,this.linkedListElemID[t+1],this.linkedListElemID[t-1])}else this.cmd(It.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[t]);this.cmd(It.step),this.cmd(It.delete,this.linkedListElemID[t]);for(var n=t;n<this.size;n++)this.arrayData[n]=this.arrayData[n+1],this.linkedListElemID[n]=this.linkedListElemID[n+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(It.delete,e),this.cmd(It.delete,i),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var i=t%8*150+100,e=100*Math.floor(t/8)+200;this.cmd(It.move,this.linkedListElemID[t],i,e)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd(It.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(It.setNull,this.headID,1),this.cmd(It.setNull,this.tailID,1),this.commands}}]),i}(Ft),Ti=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s,[],!1,!1,!0))).addControls(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.startButton=Lt("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),Ct(),Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this),this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.largeGraphButton.onclick=this.largeGraphCallback.bind(this)}},{key:"reset",value:function(){for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++)this.costTable[t][i]=this.adj_matrix[t][i],this.costTable[t][i]>=0?this.pathTable[t][i]=t:this.pathTable[t][i]=-1}},{key:"smallGraphCallback",value:function(){8!==this.size&&(this.animationManager.resetAll(),this.animationManager.setAllLayers([0,this.currentLayer]),this.logicalButton.disabled=!1,this.adjacencyListButton.disabled=!1,this.adjacencyMatrixButton.disabled=!1,this.setup_small())}},{key:"largeGraphCallback",value:function(){18!==this.size&&(this.animationManager.resetAll(),this.logicalButton.disabled=!0,this.adjacencyListButton.disabled=!0,this.adjacencyMatrixButton.disabled=!0,this.setup_large())}},{key:"getCostLabel",value:function(t,i){return i=void 0!==i&&i,t>=0?String(t):8===this.size||i?"INF":""}},{key:"setup_small",value:function(){this.cost_table_width=30,this.cost_table_height=30,this.cost_table_start_x=40,this.cost_table_start_y=70,this.path_table_width=30,this.path_table_height=30,this.path_table_start_x=330,this.path_table_start_y=70,this.node_1_x_pos=50,this.node_1_y_pos=400,this.node_2_x_pos=150,this.node_2_y_pos=350,this.node_3_x_pos=250,this.node_3_y_pos=400,this.message_x=400,this.message_y=350,Object(Bt.a)(Object(l.a)(i.prototype),"setup_small",this).call(this)}},{key:"setup_large",value:function(){this.cost_table_width=20,this.cost_table_height=20,this.cost_table_start_x=40,this.cost_table_start_y=50,this.path_table_width=20,this.path_table_height=20,this.path_table_start_x=500,this.path_table_start_y=50,this.node_1_x_pos=50,this.node_1_y_pos=500,this.node_2_x_pos=150,this.node_2_y_pos=450,this.node_3_x_pos=250,this.node_3_y_pos=500,this.message_x=300,this.message_y=450,Object(Bt.a)(Object(l.a)(i.prototype),"setup_large",this).call(this)}},{key:"setup",value:function(){var t;for(Object(Bt.a)(Object(l.a)(i.prototype),"setup",this).call(this),this.commands=[],this.costTable=new Array(this.size),this.pathTable=new Array(this.size),this.costTableID=new Array(this.size),this.pathTableID=new Array(this.size),this.pathIndexXID=new Array(this.size),this.pathIndexYID=new Array(this.size),this.costIndexXID=new Array(this.size),this.costIndexYID=new Array(this.size),this.node1ID=this.nextIndex++,this.node2ID=this.nextIndex++,this.node3ID=this.nextIndex++,t=0;t<this.size;t++)this.costTable[t]=new Array(this.size),this.pathTable[t]=new Array(this.size),this.costTableID[t]=new Array(this.size),this.pathTableID[t]=new Array(this.size);var e=this.nextIndex++,s=this.nextIndex++;for(this.cmd(It.createLabel,e,"Cost Table",this.cost_table_start_x,this.cost_table_start_y-2*this.cost_table_height,0),this.cmd(It.createLabel,s,"Path Table",this.path_table_start_x,this.path_table_start_y-2*this.path_table_height,0),t=0;t<this.size;t++){this.pathIndexXID[t]=this.nextIndex++,this.pathIndexYID[t]=this.nextIndex++,this.costIndexXID[t]=this.nextIndex++,this.costIndexYID[t]=this.nextIndex++,this.cmd(It.createLabel,this.pathIndexXID[t],t,this.path_table_start_x+t*this.path_table_width,this.path_table_start_y-this.path_table_height),this.cmd(It.setTextColor,this.pathIndexXID[t],"#0000FF"),this.cmd(It.createLabel,this.pathIndexYID[t],t,this.path_table_start_x-this.path_table_width,this.path_table_start_y+t*this.path_table_height),this.cmd(It.setTextColor,this.pathIndexYID[t],"#0000FF"),this.cmd(It.createLabel,this.costIndexXID[t],t,this.cost_table_start_x+t*this.cost_table_width,this.cost_table_start_y-this.cost_table_height),this.cmd(It.setTextColor,this.costIndexXID[t],"#0000FF"),this.cmd(It.createLabel,this.costIndexYID[t],t,this.cost_table_start_x-this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd(It.setTextColor,this.costIndexYID[t],"#0000FF");for(var h=0;h<this.size;h++)this.costTable[t][h]=this.adj_matrix[t][h],this.costTable[t][h]>=0?this.pathTable[t][h]=t:this.pathTable[t][h]=-1,this.costTableID[t][h]=this.nextIndex++,this.pathTableID[t][h]=this.nextIndex++,this.cmd(It.createRectangle,this.costTableID[t][h],this.getCostLabel(this.costTable[t][h],!0),this.cost_table_width,this.cost_table_height,this.cost_table_start_x+h*this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd(It.createRectangle,this.pathTableID[t][h],this.pathTable[t][h],this.path_table_width,this.path_table_height,this.path_table_start_x+h*this.path_table_width,this.path_table_start_y+t*this.path_table_height)}this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),18===this.size&&this.animationManager.setAllLayers([0])}},{key:"startCallback",value:function(){this.implementAction(this.doFloydWarshall.bind(this))}},{key:"doFloydWarshall",value:function(){this.commands=[];var t=this.nextIndex,i=this.nextIndex++,e=this.nextIndex++,s=this.nextIndex++;this.cmd(It.createCircle,this.node1ID,"",this.node_1_x_pos,this.node_1_y_pos),this.cmd(It.createCircle,this.node2ID,"",this.node_2_x_pos,this.node_2_y_pos),this.cmd(It.createCircle,this.node3ID,"",this.node_3_x_pos,this.node_3_y_pos),this.cmd(It.createLabel,i,"",this.message_x,this.message_y,0);for(var h=0;h<this.size;h++)for(var a=0;a<this.size;a++)for(var n=0;n<this.size;n++)a!==n&&n!==h&&a!==h&&(this.cmd(It.setText,this.node1ID,a),this.cmd(It.setText,this.node2ID,h),this.cmd(It.setText,this.node3ID,n),this.cmd(It.connect,this.node1ID,this.node2ID,"#009999",-.1,1,this.getCostLabel(this.costTable[a][h],!0)),this.cmd(It.connect,this.node2ID,this.node3ID,"#9900CC",-.1,1,this.getCostLabel(this.costTable[h][n],!0)),this.cmd(It.connect,this.node1ID,this.node3ID,"#CC0000",0,1,this.getCostLabel(this.costTable[a][n],!0)),this.cmd(It.setHighlight,this.costTableID[a][h],1),this.cmd(It.setHighlight,this.costTableID[h][n],1),this.cmd(It.setHighlight,this.costTableID[a][n],1),this.cmd(It.setTextColor,this.costTableID[a][h],"#009999"),this.cmd(It.setTextColor,this.costTableID[h][n],"#9900CC"),this.cmd(It.setTextColor,this.costTableID[a][n],"#CC0000"),this.costTable[a][h]>=0&&this.costTable[h][n]>=0&&(this.costTable[a][n]<0||this.costTable[a][h]+this.costTable[h][n]<this.costTable[a][n])?(this.cmd(It.setText,i,this.getCostLabel(this.costTable[a][h],!0)+" + "+this.getCostLabel(this.costTable[h][n],!0)+" < "+this.getCostLabel(this.costTable[a][n],!0)),this.cmd(It.step),this.costTable[a][n]=this.costTable[a][h]+this.costTable[h][n],this.cmd(It.setText,this.pathTableID[a][n],""),this.cmd(It.setText,this.costTableID[a][n],""),this.cmd(It.createLabel,e,this.pathTable[h][n],this.path_table_start_x+n*this.path_table_width,this.path_table_start_y+h*this.path_table_height),this.cmd(It.move,e,this.path_table_start_x+n*this.path_table_width,this.path_table_start_y+a*this.path_table_height),this.cmd(It.createLabel,s,this.costTable[a][n],this.message_x,this.message_y),this.cmd(It.setHighlight,s,1),this.cmd(It.move,s,this.cost_table_start_x+n*this.cost_table_width,this.cost_table_start_y+a*this.cost_table_height),this.pathTable[a][n]=this.pathTable[h][n],this.cmd(It.step),this.cmd(It.setText,this.costTableID[a][n],this.costTable[a][n]),this.cmd(It.setText,this.pathTableID[a][n],this.pathTable[a][n]),this.cmd(It.delete,e),this.cmd(It.delete,s)):(this.cmd(It.setText,i,"!("+this.getCostLabel(this.costTable[a][h],!0)+" + "+this.getCostLabel(this.costTable[h][n],!0)+" < "+this.getCostLabel(this.costTable[a][n],!0)+")"),this.cmd(It.step)),this.cmd(It.setTextColor,this.costTableID[a][h],"#000000"),this.cmd(It.setTextColor,this.costTableID[h][n],"#000000"),this.cmd(It.setTextColor,this.costTableID[a][n],"#000000"),this.cmd(It.disconnect,this.node1ID,this.node2ID),this.cmd(It.disconnect,this.node2ID,this.node3ID),this.cmd(It.disconnect,this.node1ID,this.node3ID),this.cmd(It.setHighlight,this.costTableID[a][h],0),this.cmd(It.setHighlight,this.costTableID[h][n],0),this.cmd(It.setHighlight,this.costTableID[a][n],0));return this.cmd(It.delete,this.node1ID),this.cmd(It.delete,this.node2ID),this.cmd(It.delete,this.node3ID),this.cmd(It.delete,i),this.nextIndex=t,this.commands}}]),i}(qt),Fi=8,wi=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],ji=[0,180,250,250,320,320,320,320,390,390,390,390,390,390,390,390,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460],Ai=function(t){function i(t){var e;return Object(a.a)(this,i),(e=Object(r.a)(this,Object(l.a)(i).call(this,t))).addControls(),e.nextIndex=0,e.array_size=Fi,e.order="smaller",e.setup(),e}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.insertField=Lt("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Lt("Button","Enqueue"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),Ct(),this.removeButton=Lt("Button","Dequeue"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),Ct();var t=Tt(!1);xt('Comma separated list (e.g. "3,1,2"). Max 31 elements & no elements > 999',t);var i=Tt(!0,t);this.buildHeapField=Lt("Text","",i),this.buildHeapField.onkeydown=this.returnSubmit(this.buildHeapField,this.buildHeapCallback.bind(this),60,!1),this.controls.push(this.buildHeapField),this.buildHeapButton=Lt("Button","BuildHeap",i),this.buildHeapButton.onclick=this.buildHeapCallback.bind(this),this.controls.push(this.buildHeapButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct();var e=kt(["MinHeap","MaxHeap"],"MinHeap/MaxHeap");this.minHeapButton=e[0],this.minHeapButton.onclick=this.minHeapCallback.bind(this),this.minHeapButton.checked=!0,this.maxHeapButton=e[1],this.maxHeapButton.onclick=this.maxHeapCallback.bind(this),this.isMinHeap=!0,this.controls.push(this.minHeapButton),this.controls.push(this.maxHeapButton)}},{key:"createArray",value:function(){this.commands=[],this.arrayData=new Array(this.array_size),this.arrayLabels=new Array(this.array_size),this.arrayRects=new Array(this.array_size),this.circleObjs=new Array(this.array_size),this.arrayXPositions=new Array(this.array_size),this.currentHeapSize=0;for(var t=0;t<this.array_size;t++)this.arrayXPositions[t]=30+40*t,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++,this.cmd(It.createRectangle,this.arrayRects[t],"",40,25,this.arrayXPositions[t],50),this.cmd(It.createLabel,this.arrayLabels[t],t,this.arrayXPositions[t],75),this.cmd(It.setForegroundColor,this.arrayLabels[t],"#0000FF");return this.cmd(It.setText,this.arrayRects[0],"null"),this.commands}},{key:"setup",value:function(){this.swapLabel1=this.nextIndex++,this.swapLabel2=this.nextIndex++,this.swapLabel3=this.nextIndex++,this.swapLabel4=this.nextIndex++,this.descriptLabel1=this.nextIndex++,this.descriptLabel2=this.nextIndex++,this.descriptLabel3=this.nextIndex++,this.resetIndex=this.nextIndex,this.createArray(),this.cmd(It.createLabel,this.descriptLabel1,"",20,10,0),this.cmd(It.createLabel,this.descriptLabel3,"",300,10,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"insertCallback",value:function(){var t=this.normalizeNumber(this.insertField.value,4);""!==t&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t)))}},{key:"removeCallback",value:function(){this.implementAction(this.remove.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this)),this.implementAction(this.resize.bind(this),Fi,!1)}},{key:"buildHeapCallback",value:function(){var t=this.buildHeapField.value.split(",").filter((function(t){return""!==t}));""!==this.buildHeapField.value&&t.length<=31&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.buildHeapField.value="",this.implementAction(this.clear.bind(this)),this.implementAction(this.buildHeap.bind(this),t))}},{key:"minHeapCallback",value:function(){this.isMinHeap||(this.clearCallback(),this.isMinHeap=!0,this.order="smaller")}},{key:"maxHeapCallback",value:function(){this.isMinHeap&&(this.clearCallback(),this.isMinHeap=!1,this.order="larger")}},{key:"clear",value:function(){for(this.commands=[];this.currentHeapSize>0;)this.cmd(It.delete,this.circleObjs[this.currentHeapSize]),this.cmd(It.setText,this.arrayRects[this.currentHeapSize],""),this.currentHeapSize--;return this.cmd(It.setText,this.descriptLabel1,""),this.commands}},{key:"reset",value:function(){this.currentHeapSize=0,this.array_size=Fi,this.nextIndex=this.resetIndex,this.arrayData=new Array(this.array_size),this.arrayLabels=new Array(this.array_size),this.arrayRects=new Array(this.array_size),this.circleObjs=new Array(this.array_size),this.arrayXPositions=new Array(this.array_size);for(var t=0;t<this.array_size;t++)this.arrayXPositions[t]=30+40*t,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++}},{key:"swap",value:function(t,i){this.cmd(It.setText,this.arrayRects[t],""),this.cmd(It.setText,this.arrayRects[i],""),this.cmd(It.setText,this.circleObjs[t],""),this.cmd(It.setText,this.circleObjs[i],""),this.cmd(It.createLabel,this.swapLabel1,this.arrayData[t],this.arrayXPositions[t],50),this.cmd(It.createLabel,this.swapLabel2,this.arrayData[i],this.arrayXPositions[i],50),this.cmd(It.createLabel,this.swapLabel3,this.arrayData[t],wi[t],ji[t]),this.cmd(It.createLabel,this.swapLabel4,this.arrayData[i],wi[i],ji[i]),this.cmd(It.move,this.swapLabel1,this.arrayXPositions[i],50),this.cmd(It.move,this.swapLabel2,this.arrayXPositions[t],50),this.cmd(It.move,this.swapLabel3,wi[i],ji[i]),this.cmd(It.move,this.swapLabel4,wi[t],ji[t]);var e=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=e,this.cmd(It.step),this.cmd(It.setText,this.arrayRects[t],this.arrayData[t]),this.cmd(It.setText,this.arrayRects[i],this.arrayData[i]),this.cmd(It.setText,this.circleObjs[t],this.arrayData[t]),this.cmd(It.setText,this.circleObjs[i],this.arrayData[i]),this.cmd(It.delete,this.swapLabel1),this.cmd(It.delete,this.swapLabel2),this.cmd(It.delete,this.swapLabel3),this.cmd(It.delete,this.swapLabel4)}},{key:"setIndexHighlight",value:function(t,i){this.cmd(It.setHighlight,this.circleObjs[t],i),this.cmd(It.setHighlight,this.arrayRects[t],i)}},{key:"pushDown",value:function(t){for(var i;2*t<=this.currentHeapSize;){if(i=2*t,2*t+1<=this.currentHeapSize&&(this.cmd(It.setText,this.descriptLabel3,"Finding ".concat(this.order," of two children")),this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd(It.step),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.downheapCheckRightChild(t)&&(i=2*t+1)),this.cmd(It.setText,this.descriptLabel3,"Comparing child to parent"),this.setIndexHighlight(t,1),this.setIndexHighlight(i,1),this.cmd(It.step),this.setIndexHighlight(t,0),this.setIndexHighlight(i,0),this.cmd(It.setText,this.descriptLabel3,""),!this.downheapCompare(i,t))return;this.swap(i,t),t=i}}},{key:"downheapCheckRightChild",value:function(t){if(this.isMinHeap){if(this.arrayData[2*t+1]<this.arrayData[2*t])return!0}else if(this.arrayData[2*t+1]>this.arrayData[2*t])return!0}},{key:"downheapCompare",value:function(t,i){if(this.isMinHeap){if(this.arrayData[t]<this.arrayData[i])return!0}else if(this.arrayData[t]>this.arrayData[i])return!0}},{key:"remove",value:function(){return this.commands=[],this.cmd(It.setText,this.descriptLabel1,""),0===this.currentHeapSize?(this.cmd(It.setText,this.descriptLabel1,"Heap is empty, cannot dequeue"),this.commands):(this.cmd(It.setText,this.descriptLabel1,"Removing element:"),this.cmd(It.createLabel,this.descriptLabel2,this.arrayData[1],wi[1],ji[1],0),this.cmd(It.setText,this.circleObjs[1],""),this.cmd(It.move,this.descriptLabel2,120,40),this.cmd(It.step),this.cmd(It.delete,this.descriptLabel2),this.cmd(It.setText,this.descriptLabel1,"Removing element: "+this.arrayData[1]),this.arrayData[1]="",this.currentHeapSize>1?(this.cmd(It.setText,this.arrayRects[1],""),this.cmd(It.setText,this.arrayRects[this.currentHeapSize],""),this.swap(1,this.currentHeapSize),this.cmd(It.delete,this.circleObjs[this.currentHeapSize]),this.currentHeapSize--,this.pushDown(1)):(this.cmd(It.setText,this.arrayRects[1],""),this.cmd(It.delete,this.circleObjs[this.currentHeapSize]),this.currentHeapSize--),this.commands)}},{key:"buildHeap",value:function(t){this.commands=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,31),this.arrayData.unshift(0),this.currentHeapSize=this.arrayData.length-1;var i=Math.min(32,2*this.currentHeapSize+1);this.array_size!==i&&(this.commands=this.resize(i,!1)),this.cmd(It.setText,this.descriptLabel1,"Adding data to array"),this.cmd(It.step);for(var e=1;e<=this.currentHeapSize;e++)this.cmd(It.createCircle,this.circleObjs[e],this.arrayData[e],wi[e],ji[e]),this.cmd(It.setText,this.arrayRects[e],this.arrayData[e]),e>1&&this.cmd(It.connect,this.circleObjs[Math.floor(e/2)],this.circleObjs[e]);this.cmd(It.step),this.cmd(It.setText,this.descriptLabel1,"Enforcing order property using downheap");for(var s=this.currentHeapSize;s>0;)this.pushDown(s),s-=1;return this.cmd(It.step),this.cmd(It.setText,this.descriptLabel1,"Buildheap complete!"),this.commands}},{key:"insertElement",value:function(t){if(this.commands=[],this.cmd(It.setText,this.descriptLabel1,""),this.currentHeapSize===this.array_size-1){if(this.currentHeapSize>=31)return this.cmd(It.setText,this.descriptLabel1,"Array would normally resize here, but there's not enough space on the screen for a larger heap. So here's a cute emoji of jack instead: V\u2022\u1d25\u2022V"),this.commands;var i=Math.min(32,2*this.array_size);this.commands=this.resize(i,!0)}this.cmd(It.setText,this.descriptLabel1,"Enqueueing Element: "+t),this.cmd(It.step),this.cmd(It.setText,this.descriptLabel1,"Enqueueing Element: "),this.currentHeapSize++,this.arrayData[this.currentHeapSize]=t,this.cmd(It.createCircle,this.circleObjs[this.currentHeapSize],"",wi[this.currentHeapSize],ji[this.currentHeapSize]),this.cmd(It.createLabel,this.descriptLabel2,t,120,45,1),this.currentHeapSize>1&&this.cmd(It.connect,this.circleObjs[Math.floor(this.currentHeapSize/2)],this.circleObjs[this.currentHeapSize]),this.cmd(It.move,this.descriptLabel2,wi[this.currentHeapSize],ji[this.currentHeapSize]),this.cmd(It.step),this.cmd(It.setText,this.circleObjs[this.currentHeapSize],t),this.cmd(It.delete,this.descriptLabel2),this.cmd(It.setText,this.arrayRects[this.currentHeapSize],t);var e=this.currentHeapSize,s=Math.floor(e/2);for(e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(s,1),this.cmd(It.setText,this.descriptLabel3,"Comparing child to parent"),this.cmd(It.step),this.setIndexHighlight(e,0),this.setIndexHighlight(s,0));e>1&&this.upheapCompare(e,s);)this.swap(e,s),e=s,s=Math.floor(s/2),e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(s,1),this.cmd(It.setText,this.descriptLabel3,"Comparing child to parent"),this.cmd(It.step),this.setIndexHighlight(e,0),this.setIndexHighlight(s,0));return this.cmd(It.setText,this.descriptLabel1,""),this.cmd(It.setText,this.descriptLabel3,""),this.commands}},{key:"resize",value:function(t,i){this.commands=[];var e=this.nextIndex++;i&&(this.cmd(It.createLabel,e,"Resize Required: size == array.length - 1",400,20),this.cmd(It.step),32===t?this.cmd(It.setText,e,"Resizing to 32 (Max array size)"):this.cmd(It.setText,e,"Resizing to 2 * array.length"));var s=this.array_size;this.array_size=t,this.newArrayData=new Array(this.array_size),this.newArrayLabels=new Array(this.array_size),this.newArrayRects=new Array(this.array_size),this.newCircleObjs=new Array(this.array_size),this.newArrayXPositions=new Array(this.array_size);for(var h=0;h<this.array_size;h++)this.newArrayLabels[h]=this.nextIndex++,this.newArrayRects[h]=this.nextIndex++,this.newArrayXPositions[h]=30+40*h,this.newCircleObjs[h]=h<s?this.circleObjs[h]:this.nextIndex++,this.newArrayData[h]=this.arrayData[h];if(i){for(var a=0;a<this.array_size;a++)this.cmd(It.createRectangle,this.newArrayRects[a],"",40,25,this.newArrayXPositions[a],100),this.cmd(It.createLabel,this.newArrayLabels[a],a,this.newArrayXPositions[a],125),this.cmd(It.setForegroundColor,this.newArrayLabels[a],"#0000FF");this.cmd(It.step),this.arrayMoveID=new Array(this.oldSize);for(var n=0;n<=this.currentHeapSize;n++)this.arrayMoveID[n]=this.nextIndex++,0===n?this.cmd(It.createLabel,this.arrayMoveID[n],"null",this.arrayXPositions[n],50):this.cmd(It.createLabel,this.arrayMoveID[n],this.arrayData[n],this.arrayXPositions[n],50),this.cmd(It.move,this.arrayMoveID[n],this.newArrayXPositions[n],100);this.cmd(It.step);for(var r=0;r<s;r++)this.cmd(It.delete,this.arrayMoveID[r]),this.cmd(It.setText,this.newArrayRects[r],this.newArrayData[r]);this.cmd(It.setText,this.newArrayRects[0],"null"),this.cmd(It.step)}for(var l=0;l<s;l++)this.cmd(It.delete,this.arrayLabels[l]),this.cmd(It.delete,this.arrayRects[l]);if(this.cmd(It.step),this.arrayData=this.newArrayData,this.arrayLabels=this.newArrayLabels,this.arrayXPositions=this.newArrayXPositions,this.arrayRects=this.newArrayRects,this.circleObjs=this.newCircleObjs,i){for(var o=0;o<this.array_size;o++)this.cmd(It.move,this.arrayRects[o],this.arrayXPositions[o],50),this.cmd(It.move,this.arrayLabels[o],this.arrayXPositions[o],75);this.cmd(It.delete,e)}else{for(var c=0;c<this.array_size;c++)this.cmd(It.createRectangle,this.arrayRects[c],"",40,25,this.arrayXPositions[c],50),this.cmd(It.createLabel,this.arrayLabels[c],c,this.arrayXPositions[c],75),this.cmd(It.setForegroundColor,this.newArrayLabels[c],"#0000FF");this.cmd(It.setText,this.arrayRects[0],"null")}return this.commands}},{key:"upheapCompare",value:function(t,i){if(this.isMinHeap){if(this.arrayData[t]<this.arrayData[i])return!0}else if(this.arrayData[t]>this.arrayData[i])return!0}},{key:"disableUI",value:function(){this.controls.forEach((function(t){return t.disabled=!0}))}},{key:"enableUI",value:function(){this.controls.forEach((function(t){return t.disabled=!1}))}}]),i}(Ft),Si=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure InsertionSort(array):"],["     length <- length of array"],["     for i <- 1, length - 1 do"],["          j <- i"],["          while ","j > 0, ","array[j - 1] > array[j]"," do"],["               swap array[j-1], array[j] "],["               j <- j - 1"],["          end while"],["     end for"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,50,200),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.displayData=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.addCodeToCanvasBase(this.code,50,200)}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var i=this.arrayData.length,e=new Map,s=new Map,h=0;h<i;h++){var a=e.has(this.arrayData[h])?e.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"a"),e.set(this.arrayData[h],a+1)}for(var n=0;n<i;n++){this.arrayID[n]=this.nextIndex++;var r=50*n+100,l=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);l+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=l,this.cmd(It.createRectangle,this.arrayID[n],l,50,50,r,130)}this.cmd(It.createHighlightCircle,this.iPointerID,"#0000FF",100,130),this.cmd(It.setHighlight,this.iPointerID,1),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",150,130),this.cmd(It.setHighlight,this.jPointerID,1),this.highlight(0,0),this.cmd(It.step),this.unhighlight(0,0),this.highlight(2,0);for(var c=1;c<this.arrayData.length;c++){this.cmd(It.step),this.unhighlight(2,0),this.highlight(3,0),this.cmd(It.step),this.unhighlight(3,0),this.highlight(4,0);for(var d=c;d>=1&&(this.movePointers(d-1,d),this.unhighlight(3,0),this.unhighlight(4,0),this.unhighlight(6,0),this.highlight(4,1),this.cmd(It.step),this.unhighlight(4,1),this.highlight(4,2),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.step),this.unhighlight(4,2),this.arrayData[d]<this.arrayData[d-1]);d--)this.highlight(5,0),this.swap(d,d-1),this.cmd(It.step),this.unhighlight(5,0),this.highlight(6,0),this.cmd(It.step);this.cmd(It.step),this.unhighlight(3,0),this.unhighlight(4,0),this.unhighlight(6,0),1===c&&this.cmd(It.setBackgroundColor,this.arrayID[0],"#2ECC71"),this.cmd(It.setBackgroundColor,this.arrayID[c],"#2ECC71"),this.cmd(It.step)}return this.unhighlight(2,0),this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.step),this.commands}},{key:"movePointers",value:function(t,i){var e=50*t+100;this.cmd(It.move,this.iPointerID,e,130);var s=50*i+100;this.cmd(It.move,this.jPointerID,s,130),this.cmd(It.step)}},{key:"swap",value:function(t,i){this.cmd(It.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(It.setForegroundColor,this.jPointerID,"#FF0000");var e=this.nextIndex++,s=50*t+100;this.cmd(It.createLabel,e,this.displayData[t],s,130);var h=this.nextIndex++,a=50*i+100;this.cmd(It.createLabel,h,this.displayData[i],a,130),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,130),this.cmd(It.move,h,s,130),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n,this.cmd(It.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(It.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(It.step)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Bi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],xt("Text"),this.textField=Lt("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),xt("Pattern"),this.patternField=Lt("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),xt("or"),this.bftButton=Lt("Button","Build Failure Table"),this.bftButton.onclick=this.buildFailureTableCallback.bind(this),this.controls.push(this.bftButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.commands=[],this.textRowID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"",575,30,0),this.failureTableCode=[["procedure KMPFailureTable(pattern):"],["     m <- length of pattern"],["     failureTable <- array of length m"],["     i <- 0, j <- 1"],["     failureTable[0] <- 0"],["     while j < m"],["          if pattern[i] = pattern[j]"],["               failureTable[j] <- i + 1"],["               i < i + 1, j <- j + 1"],["          else"],["               if i = 0"],["                    failureTable[j] <- 0"],["                    j <- j + 1"],["               else"],["                    i <- failureTable[i - 1]"],["     return failureTable"],["end procedure"]],this.KMPCode=[["procedure KMP(text, pattern):"],["     initialize failureTable"],["     m <- length of pattern, n <- length of text"],["     i <- 0, j <- 0"],["     while i <= n - m"],["          while j < m and text[i + j] = pattern[j]"],["               j -> j + 1"],["          if j = 0"],["               i <- i + 1"],["          else"],["               if j = m"],["                    match found at i"],["               shift <- failureTable[j - 1]"],["               i <- i + j - shift"],["               j <- shift"],["end procedure"]],this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.textRowID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this));var t=this.textField.value,i=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t,i)}}},{key:"buildFailureTableCallback",value:function(){if(""!==this.patternField.value){this.implementAction(this.clear.bind(this));var t=this.patternField.value;this.patternField.value="",this.implementAction(this.onlyBuildFailureTable.bind(this),0,t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"find",value:function(t,i){this.commands=[];var e,s,h=this.getMaxRows(t,i);this.cellSize=h<=14?30:h<=17?25:20,this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(h);for(var a=0;a<h;a++)this.comparisonMatrixID[a]=new Array(t.length);for(var n=0;n<t.length;n++)e=n*this.cellSize+100,s=30,this.textRowID[n]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex,t.charAt(n),this.cellSize,this.cellSize,e,s),this.cmd(It.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(var r=0;r<h;r++)for(var l=0;l<t.length;l++)e=l*this.cellSize+100,s=(r+1)*this.cellSize+30,this.comparisonMatrixID[r][l]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,e,s);var o=this.buildFailureTable(t.length,i);this.removeCode(this.codeID);var c=100+t.length*this.cellSize+110;this.codeID=this.addCodeToCanvasBase(this.KMPCode,100+t.length*this.cellSize+10,195);var d=this.nextIndex++,u=this.nextIndex++,m=this.nextIndex++,g=this.nextIndex++,p=this.nextIndex++;this.cmd(It.createHighlightCircle,d,"#0000FF",100,30,this.cellSize/2),this.cmd(It.createHighlightCircle,u,"#0000FF",100,30+this.cellSize,this.cellSize/2),this.cmd(It.createHighlightCircle,m,"#FF0000",100,30+this.cellSize,this.cellSize/2),this.cmd(It.createHighlightCircle,g,"#FF0000",c,100,this.cellSize/2),this.cmd(It.createHighlightCircle,p,"#FF0000",c,100+this.cellSize,this.cellSize/2),this.cmd(It.setAlpha,m,0),this.cmd(It.setAlpha,g,0),this.cmd(It.setAlpha,p,0);var I=0,f=0,b=0;for(this.highlight(4,0);I<=t.length-i.length;){for(var D=I;D<I+i.length;D++)this.cmd(It.setText,this.comparisonMatrixID[b][D],i.charAt(D-I),e,s),D-I<f&&this.cmd(It.setBackgroundColor,this.comparisonMatrixID[b][D],"#FFFF4D");for(this.cmd(It.step),this.highlight(5,0),this.cmd(It.setAlpha,m,0),this.cmd(It.setAlpha,g,0),this.cmd(It.setAlpha,p,0);f<i.length&&i.charAt(f)===t.charAt(I+f);)this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[b][I+f],"#2ECC71"),f++,this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),f<i.length&&(e=(I+f)*this.cellSize+100,this.cmd(It.move,d,e,30),s=(b+1)*this.cellSize+30,this.cmd(It.move,u,e,s),this.cmd(It.step));if(this.unhighlight(5,0),f<i.length&&this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(7,0),this.cmd(It.step),0===f)this.unhighlight(7,0),this.highlight(8,0),this.cmd(It.step),this.unhighlight(8,0),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[b][I],"#E74C3C"),I++;else{this.unhighlight(7,0),this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.highlight(10,0),this.cmd(It.step),this.unhighlight(10,0),f!==i.length?this.cmd(It.setBackgroundColor,this.comparisonMatrixID[b][I+f],"#E74C3C"):(this.highlight(11,0),this.cmd(It.step),this.unhighlight(11,0)),this.highlight(12,0);var v=o[f-1];this.cmd(It.setPosition,m,(I+f-1)*this.cellSize+100,(b+1)*this.cellSize+30),this.cmd(It.setPosition,g,c+(f-1)*this.cellSize,100),this.cmd(It.setPosition,p,c+(f-1)*this.cellSize,100+this.cellSize),this.cmd(It.setAlpha,m,1),this.cmd(It.setAlpha,g,1),this.cmd(It.setAlpha,p,1),this.cmd(It.step),this.unhighlight(12,0),this.highlight(13,0),this.highlight(14,0),I+=f-v,f=v}b++,I<=t.length-i.length&&(e=(I+f)*this.cellSize+100,this.cmd(It.move,d,e,30),s=(b+1)*this.cellSize+30,this.cmd(It.move,u,e,s)),this.cmd(It.step),this.unhighlight(13,0),this.unhighlight(14,0)}return this.unhighlight(4,0),this.cmd(It.delete,d),this.cmd(It.delete,u),this.cmd(It.delete,m),this.cmd(It.delete,g),this.cmd(It.delete,p),this.commands}},{key:"getMaxRows",value:function(t,i){var e=[];e[0]=0;for(var s=0,h=1;h<i.length;)i.charAt(s)===i.charAt(h)?(s++,e[h]=s,h++):0===s?(e[h]=s,h++):s=e[s-1];s=0,h=0;for(var a=0;s<=t.length-i.length;){for(;h<i.length&&i.charAt(h)===t.charAt(s+h);)h++;if(0===h)s++;else{var n=e[h-1];s+=h-n,h=n}a++}return a}},{key:"onlyBuildFailureTable",value:function(t,i){return this.commands=[],this.cellSize=30,this.buildFailureTable(t,i),this.commands}},{key:"buildFailureTable",value:function(t,i){var e=100+t*this.cellSize+10;this.cmd(It.createLabel,this.failureTableLabelID,"Failure table:",e,110,0),this.codeID=this.addCodeToCanvasBase(this.failureTableCode,e,195),this.cmd(It.move,this.comparisonCountID,e,30),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount);var s=100+t*this.cellSize+110;this.failureTableCharacterID=new Array(i.length),this.failureTableValueID=new Array(i.length);for(var h=0;h<i.length;h++){var a=s+h*this.cellSize;this.failureTableCharacterID[h]=this.nextIndex++,this.cmd(It.createRectangle,this.failureTableCharacterID[h],i.charAt(h),this.cellSize,this.cellSize,a,100),this.cmd(It.setBackgroundColor,this.failureTableCharacterID[h],"#D3D3D3"),this.failureTableValueID[h]=this.nextIndex++,this.cmd(It.createRectangle,this.failureTableValueID[h],"",this.cellSize,this.cellSize,a,100+this.cellSize)}this.cmd(It.step);var n=this.nextIndex++,r=this.nextIndex++;this.cmd(It.createHighlightCircle,n,"#0000FF",s,100,this.cellSize/2),this.cmd(It.createHighlightCircle,r,"#FF0000",s+this.cellSize,100,this.cellSize/2),this.cmd(It.setText,this.failureTableValueID[0],0),this.highlight(3,0),this.highlight(4,0),this.cmd(It.step),this.unhighlight(3,0),this.unhighlight(4,0);var l=[];l[0]=0;var o=0,c=1;for(this.highlight(5,0);c<i.length;)this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),i.charAt(o)===i.charAt(c)?(this.highlight(7,0),this.highlight(8,0),o++,l[c]=o,this.cmd(It.setText,this.failureTableValueID[c],o),++c<i.length&&(this.cmd(It.move,n,s+o*this.cellSize,100),this.cmd(It.move,r,s+c*this.cellSize,100)),this.cmd(It.step),this.unhighlight(7,0),this.unhighlight(8,0)):(this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.highlight(10,0),this.cmd(It.step),this.unhighlight(10,0),0===o?(this.highlight(11,0),this.highlight(12,0),l[c]=o,this.cmd(It.setText,this.failureTableValueID[c],o),++c<i.length&&this.cmd(It.move,r,s+c*this.cellSize,100),this.cmd(It.step),this.unhighlight(11,0),this.unhighlight(12,0)):(this.highlight(13,0),this.cmd(It.step),this.unhighlight(13,0),this.highlight(14,0),o=l[o-1],this.cmd(It.move,n,s+o*this.cellSize,100),this.cmd(It.step),this.unhighlight(14,0)));return this.unhighlight(5,0),this.highlight(15,0),this.cmd(It.step),this.unhighlight(15,0),this.cmd(It.delete,n),this.cmd(It.delete,r),l}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.textRowID.length;t++)this.cmd(It.delete,this.textRowID[t]);this.textRowID=[];for(var i=0;i<this.comparisonMatrixID.length;i++)for(var e=0;e<this.comparisonMatrixID[i].length;e++)this.cmd(It.delete,this.comparisonMatrixID[i][e]);this.comparisonMatrixID=[],0!==this.failureTableValueID.length&&this.cmd(It.delete,this.failureTableLabelID);for(var s=0;s<this.failureTableCharacterID.length;s++)this.cmd(It.delete,this.failureTableCharacterID[s]),this.cmd(It.delete,this.failureTableValueID[s]);return this.removeCode(this.codeID),this.codeID=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,""),this.failureTableCharacterID=[],this.failureTableValueID=[],this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),_i=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s,Xt,!1,!1,!0))).addControls(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.startButton=Lt("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),Ct(),Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this,!1)}},{key:"setup",value:function(t){var e;for(Object(Bt.a)(Object(l.a)(i.prototype),"setup",this).call(this,t),this.messageID=[],this.commands=[],this.setID=new Array(this.size),this.setIndexID=new Array(this.size),this.setData=new Array(this.size),this.edgesListLeftID=[],this.edgesListRightID=[],e=0;e<this.size;e++)this.setID[e]=this.nextIndex++,this.setIndexID[e]=this.nextIndex++,this.cmd(It.createRectangle,this.setIndexID[e],this.toStr(e),50,20,52,110+20*e),this.cmd(It.createRectangle,this.setID[e],"",50,20,102,110+20*e),this.cmd(It.setTextColor,this.setIndexID[e],"#0000FF");this.messageLabelID=this.nextIndex++,this.cmd(It.createLabel,this.messageLabelID,"",30,15,0),this.cmd(It.createLabel,this.nextIndex++,"Disjoint Set:",77,73,1),this.cmd(It.createLabel,this.nextIndex++,"Vertex",52,88,1),this.cmd(It.createLabel,this.nextIndex++,"Set ID",102,88,1),this.cmd(It.createLabel,this.nextIndex++,"Current edge:",145,67,0),this.cmd(It.createLabel,this.nextIndex++,"Priority Queue:",145,92,0),this.code=[["initialize DisjointSet, DS, with all vertices in G"],["initialize MST EdgeSet, MST"],["initialize PriorityQueue, PQ with all edges in G"],["while PQ is not empty and MST has fewer than n-1 edges"],["    edge(u, v) <- PQ.dequeue()"],["    if u and v are not in the same cluster"],["        add edge(u, v) to MST"],["        merge u's cluster with v's cluster"]],this.codeID=this.addCodeToCanvasBase(this.code,1100,30),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}},{key:"reset",value:function(){this.nextIndex=this.lastIndex,this.messageID=[],this.edgesListLeft=[],this.edgesListRight=[],this.edgesListLeftID=[],this.edgesListRightID=[]}},{key:"startCallback",value:function(){this.implementAction(this.doKruskal.bind(this))}},{key:"doKruskal",value:function(){this.commands=[];for(var t=0;t<this.edgesListLeftID.length;t++)this.cmd(It.delete,this.edgesListLeftID[t]),this.cmd(It.delete,this.edgesListRightID[t]);var i,e,s;for(this.edgesListLeftID=[],this.edgesListRightID=[],this.edgesListLeft=[],this.edgesListRight=[],i=0;i<this.size;i++)this.setData[i]=i+1,this.cmd(It.setText,this.setID[i],i+1),!this.isLarge&&this.cmd(It.setBackgroundColor,this.setID[i],Kt[i]);for(this.recolorGraph(),this.highlight(0,0),this.highlight(1,0),this.cmd(It.setText,this.messageLabelID,"Enqueueing all edges into Priority Queue"),i=0;i<this.size;i++)for(e=i+1;e<this.size;e++)this.adj_matrix[i][e]>=0&&(this.edgesListLeftID.push(this.nextIndex++),this.edgesListRightID.push(this.nextIndex++),s=this.edgesListLeftID.length-1,this.edgesListLeft.push(i),this.edgesListRight.push(e),this.cmd(It.createLabel,this.edgesListLeftID[s],this.toStr(i)+" ",150+100*Math.floor(s/9),135+s%9*40),this.cmd(It.createLabel,this.edgesListRightID[s]," "+this.toStr(e),190+100*Math.floor(s/9),135+s%9*40),this.cmd(It.connect,this.edgesListLeftID[s],this.edgesListRightID[s],"#000000",0,0,this.adj_matrix[i][e]));this.cmd(It.step),this.unhighlight(0,0),this.unhighlight(1,0);var h,a,n,r,l=this.edgesListLeftID.length;for(i=1;i<l;i++){for(h=this.edgesListLeftID[i],a=this.edgesListRightID[i],n=this.edgesListLeft[i],r=this.edgesListRight[i],e=i;e>0&&this.adj_matrix[this.edgesListLeft[e-1]][this.edgesListRight[e-1]]>this.adj_matrix[n][r];)this.edgesListLeft[e]=this.edgesListLeft[e-1],this.edgesListRight[e]=this.edgesListRight[e-1],this.edgesListLeftID[e]=this.edgesListLeftID[e-1],this.edgesListRightID[e]=this.edgesListRightID[e-1],e-=1;this.edgesListLeft[e]=n,this.edgesListRight[e]=r,this.edgesListLeftID[e]=h,this.edgesListRightID[e]=a}for(i=0;i<l;i++)this.cmd(It.move,this.edgesListLeftID[i],150+100*Math.floor(i/9),135+i%9*40),this.cmd(It.move,this.edgesListRightID[i],190+100*Math.floor(i/9),135+i%9*40);this.highlight(2,0),this.cmd(It.step),this.unhighlight(2,0);var o=this.nextIndex++,c=this.nextIndex++,d=this.nextIndex++,u=this.nextIndex++,m=this.nextIndex++,g=0,p=0;for(this.cmd(It.createLabel,o,"",30,40,0),this.cmd(It.createLabel,c,"",100,40,0),this.highlight(3,0);g<this.size-1&&p<l;){for(this.cmd(It.setText,this.messageLabelID,"Dequeueing "+this.toStr(this.edgesListLeft[p])+this.toStr(this.edgesListRight[p])),this.cmd(It.move,this.edgesListLeftID[p],235,73),this.cmd(It.move,this.edgesListRightID[p],275,73),i=p+1;i<l;i++){var I=i-p-1;this.cmd(It.move,this.edgesListLeftID[i],150+100*Math.floor(I/9),135+I%9*40),this.cmd(It.move,this.edgesListRightID[i],190+100*Math.floor(I/9),135+I%9*40)}this.highlightEdge(this.edgesListLeft[p],this.edgesListRight[p],1),this.highlight(4,0),this.cmd(It.step),this.unhighlight(4,0),this.highlight(5,0),this.cmd(It.setText,this.messageLabelID,"Looking at disjoint set"),this.cmd(It.setText,o,"find("+this.toStr(this.edgesListLeft[p])+") = "),this.cmd(It.createHighlightCircle,d,"#FF9999",233,73,12),this.cmd(It.step);var f=this.edgesListLeft[p],b=this.setData[f];this.cmd(It.move,d,52,110+20*this.edgesListLeft[p]),this.cmd(It.setText,o,"find("+this.toStr(this.edgesListLeft[p])+") = "+b),this.cmd(It.step),this.cmd(It.setText,c,"find("+this.toStr(this.edgesListRight[p])+") = "),this.cmd(It.createHighlightCircle,u,"#FF0000",276,73,12),this.cmd(It.step);var D=this.edgesListRight[p],v=this.setData[D];if(this.cmd(It.move,u,52,110+20*this.edgesListRight[p]),this.cmd(It.setText,c,"find("+this.toStr(this.edgesListRight[p])+") = "+v),this.cmd(It.step),this.unhighlight(5,0),b!==v){this.highlight(5,0),this.cmd(It.setText,this.messageLabelID,"Vertices in different sets.  Add edge to MST."),this.highlightEdge(this.edgesListLeft[p],this.edgesListRight[p],0),g++,this.setEdgeColor(this.edgesListLeft[p],this.edgesListRight[p],"#3399FF"),this.setEdgeThickness(this.edgesListLeft[p],this.edgesListRight[p],4),this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),this.highlight(7,0),this.cmd(It.setText,this.messageLabelID,"Union sets "+b+" and "+v),this.cmd(It.setText,o,"union("+this.toStr(f)+", "+this.toStr(D)+")"),this.cmd(It.setText,c,""),this.cmd(It.step);for(var x=Math.min(b,v),y=Math.max(b,v),k=!0,L=0;L<this.size;L++)this.setData[L]===y&&(k?(k=!1,this.cmd(It.createHighlightCircle,m,"#0000FF",102,110+20*L,12),this.cmd(It.setHighlight,m,1)):this.cmd(It.move,m,102,110+20*L),this.cmd(It.step),this.setData[L]=x,this.cmd(It.setText,this.setID[L],x),!this.isLarge&&this.cmd(It.setBackgroundColor,this.setID[L],Kt[x-1]),this.cmd(It.step));this.unhighlight(7,0),this.cmd(It.delete,m),this.unhighlight(5,0)}else this.cmd(It.setText,this.messageLabelID,"Vertices in the same set, skip edge"),this.cmd(It.step);this.highlightEdge(this.edgesListLeft[p],this.edgesListRight[p],0),this.cmd(It.delete,d),this.cmd(It.delete,u),this.cmd(It.delete,this.edgesListLeftID[p]),this.cmd(It.delete,this.edgesListRightID[p]),this.cmd(It.setText,o,""),this.cmd(It.setText,c,""),p++}return this.unhighlight(3,0),this.cmd(It.delete,o),this.cmd(It.delete,c),this.edgesListLeftID=this.edgesListLeftID.slice(p),this.edgesListRightID=this.edgesListRightID.slice(p),g===this.size-1?this.cmd(It.setText,this.messageLabelID,"MST has correct amount of edges, done"):this.cmd(It.setText,this.messageLabelID,"Priority queue is empty, done"),this.commands}}]),i}(qt),Oi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 18 elements & no elements < 0',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.code=[["procedure LSDRadixSort(array):"],["     buckets <- list of 10 lists"],["     iterations <- length of longest number"],["     length <- length of array"],["     for i <- 1, iterations do"],["          for j <- 0, length - 1 do"],["               bucket <- ith digit of array[j]"],["               add array[j] to buckets[bucket]"],["          end for"],["          index <- 0"],["          for bucket <- 0, 9 do"],["               while buckets[bucket] isn't empty"],["                    array[index] <- remove first from buckets[bucket]"],["                    index <- index + 1"],["               end while"],["          end for"],["     end for"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,650,140),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.codeID=this.addCodeToCanvasBase(this.code,650,140)}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((function(t){return Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);for(var i=0;i<this.bucketsID.length;i++)for(var e=0;e<this.bucketsID[i].length;e++)this.cmd(It.delete,this.bucketsID[i][e]);return this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.commands}},{key:"sort",value:function(t){this.highlight(0,0),this.commands=[],this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18);for(var i=this.arrayData.length,e=new Map,s=new Map,h=0;h<i;h++){var a=e.has(this.arrayData[h])?e.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"a"),e.set(this.arrayData[h],a+1)}for(var n=0;n<i;n++){this.arrayID[n]=this.nextIndex++;var r=50*n+100,l=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);l+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.arrayDisplay[n]=l,this.cmd(It.createRectangle,this.arrayID[n],l,50,50,r,70)}this.bucketsData=[],this.bucketsID=[],this.cmd(It.step),this.unhighlight(0,0),this.highlight(1,0);for(var c=0;c<10;c++){this.bucketsData[c]=[],this.bucketsID[c]=[],this.bucketsDisplay[c]=[],this.bucketsID[c].push(this.nextIndex++);var d=50*c+100;this.cmd(It.createRectangle,this.bucketsID[c][0],c,50,20,d,140),this.cmd(It.setBackgroundColor,this.bucketsID[c],"#D3D3D3")}this.cmd(It.createLabel,this.infoLabelID,"Searching for number with greatest magnitude",75,20,0),this.cmd(It.createHighlightCircle,this.iPointerID,"#FF0000",100,70),this.cmd(It.setHighlight,this.iPointerID,1),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",150,70),this.cmd(It.setHighlight,this.jPointerID,1),this.cmd(It.step),this.unhighlight(1,0),this.highlight(2,0);for(var u=0,m=1;m<this.arrayData.length;m++)this.movePointers(u,m),this.arrayData[m]>this.arrayData[u]&&(u=m,this.movePointers(u,m));this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.setBackgroundColor,this.arrayID[u],"#FFFF00");var g=Math.floor(Math.log10(this.arrayData[u]))+1;g=g||1;var p=this.arrayData[u];this.cmd(It.setText,this.infoLabelID,p+" has greatest magnitude, number of digits is "+g),this.cmd(It.step),this.unhighlight(2,0),this.cmd(It.setBackgroundColor,this.arrayID[u],"#FFFFFF"),this.highlight(4,0);for(var I=0;I<g;I++){this.cmd(It.setText,this.infoLabelID,"Getting digits at position "+(I+1)),this.cmd(It.createHighlightCircle,this.iPointerID,"#0000FF",100,70),this.cmd(It.setHighlight,this.iPointerID,1),this.cmd(It.step),this.unhighlight(4,0),this.highlight(5,0);for(var f=0;f<this.arrayData.length;f++){this.cmd(It.move,this.iPointerID,100+50*f,70),this.cmd(It.step),this.unhighlight(5,0),this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),this.highlight(7,0);var b=this.nextIndex++,D=this.arrayData[f],v=this.arrayDisplay[f],x=this.nthDigit(D,I);this.bucketsID[x].push(b),this.bucketsData[x].push(D),this.bucketsDisplay[x].push(v);var y=this.bucketsData[x].length;this.cmd(It.createRectangle,b,v,50,20,100+50*x,140+20*y+15*y),this.cmd(It.connect,this.bucketsID[x][this.bucketsID[x].length-2],b,0,0,1,"",2),this.cmd(It.step),this.unhighlight(7,0)}this.cmd(It.delete,this.iPointerID),this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.highlight(10,0);var k=0;this.cmd(It.step);for(var L=0;L<10;L++){this.unhighlight(10,0);var C=this.bucketsID[L],T=this.bucketsData[L],F=this.bucketsDisplay[L];for(this.highlight(11,0);T.length;){this.cmd(It.step),this.unhighlight(11,0),this.highlight(12,0);var w=this.nextIndex++,j=C.splice(1,1)[0],A=T.shift(),S=F.shift();if(this.cmd(It.createLabel,w,S,100+50*L,175),this.cmd(It.move,w,100+50*k,70),this.cmd(It.step),this.cmd(It.setText,this.arrayID[k],S),this.cmd(It.delete,w),this.cmd(It.delete,j),this.unhighlight(12,0),this.highlight(13,0),T.length){this.cmd(It.connect,C[0],C[1]);for(var B=1;B<C.length;B++)this.cmd(It.move,C[B],100+50*L,140+20*B+15*B)}this.cmd(It.step),this.arrayData[k]=A,this.arrayDisplay[k]=S,k++,this.unhighlight(13,0)}this.unhighlight(11,0)}}return this.cmd(It.delete,this.infoLabelID),this.commands}},{key:"movePointers",value:function(t,i){var e=50*t+100;this.cmd(It.move,this.iPointerID,e,70);var s=50*i+100;this.cmd(It.move,this.jPointerID,s,70),this.cmd(It.step)}},{key:"swap",value:function(t,i){var e=this.nextIndex++,s=50*t+100;this.cmd(It.createLabel,e,this.displayData[t],s,70);var h=this.nextIndex++,a=50*i+100;this.cmd(It.createLabel,h,this.displayData[i],a,70),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,70),this.cmd(It.move,h,s,70),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n}},{key:"nthDigit",value:function(t,i){return t=Math.floor(t/Math.pow(10,i)),t%=10}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Pi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[];var i=Tt(!1),e=Tt(!0,i),s=Tt(!0,i);xt("Add",e),this.addValueField=Lt("Text","",e),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addValueField),xt("at index",e),this.addIndexField=Lt("Text","",e),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Lt("Button","Add to Front",s),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Lt("Button","Add to Back",s),this.addBackButton.onclick=function(){return t.addBackCallback()},this.controls.push(this.addBackButton),xt("or",s),this.addIndexButton=Lt("Button","Add at Index",s),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),Ct();var h=Tt(!1),a=Tt(!0,h),n=Tt(!0,h);xt("Index",a),this.removeField=Lt("Text","",a),this.removeField.onkeydown=this.returnSubmit(this.removeField,(function(){return t.removeIndexCallback()}),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Lt("Button","Remove from Index",a),this.removeIndexButton.onclick=function(){return t.removeIndexCallback()},this.controls.push(this.removeIndexButton),xt("or",n),this.removeFrontButton=Lt("Button","Remove from Front",n),this.removeFrontButton.onclick=function(){return t.removeFrontCallback()},this.controls.push(this.removeFrontButton),this.removeBackButton=Lt("Button","Remove from Back",n),this.removeBackButton.onclick=function(){return t.removeBackCallback()},this.controls.push(this.removeBackButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=function(){return t.clearCallback()},this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32),this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(It.createLabel,this.leftoverLabelID,"",50,30),this.cmd(It.createLabel,this.topLabelID,"Head",130,100),this.cmd(It.createRectangle,this.topID,"",30,30,180,100),this.cmd(It.setNull,this.topID,1),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){var t=parseInt(this.addValueField.value),i=parseInt(this.addIndexField.value);i>=0&&i<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,i))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value){var t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0)}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value){var t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"traverse",value:function(t){for(var i=0;i<=t;i++)this.cmd(It.step),this.cmd(It.setHighlight,this.linkedListElemID[i],1),i>0&&this.cmd(It.setHighlight,this.linkedListElemID[i-1],0);this.cmd(It.step)}},{key:"add",value:function(t,i){this.commands=[];for(var e=this.nextIndex++,s=this.nextIndex++,h=this.size-1;h>=i;h--)this.arrayData[h+1]=this.arrayData[h],this.linkedListElemID[h+1]=this.linkedListElemID[h];return this.arrayData[i]=t,this.linkedListElemID[i]=this.nextIndex++,this.cmd(It.setText,this.leftoverLabelID,""),this.traverse(i-1),this.cmd(It.createLinkedListNode,this.linkedListElemID[i],"",70,30,200,50,.25,0,1),this.cmd(It.createLabel,e,"Adding Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.step),this.cmd(It.move,s,200,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[i],t),this.cmd(It.delete,s),i===this.size&&this.cmd(It.setNull,this.linkedListElemID[i],1),0!==this.size?0===i?(this.cmd(It.disconnect,this.topID,this.linkedListElemID[i+1]),this.cmd(It.connect,this.topID,this.linkedListElemID[i]),this.cmd(It.connect,this.linkedListElemID[i],this.linkedListElemID[i+1])):i===this.size?(this.cmd(It.setNull,this.linkedListElemID[i-1],0),this.cmd(It.connect,this.linkedListElemID[i-1],this.linkedListElemID[i])):(this.cmd(It.disconnect,this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd(It.connect,this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd(It.connect,this.linkedListElemID[i],this.linkedListElemID[i+1])):this.cmd(It.connect,this.topID,this.linkedListElemID[0]),this.cmd(It.setHighlight,this.linkedListElemID[i-1],0),this.cmd(It.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(It.delete,e),this.cmd(It.step),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var i=this.nextIndex++,e=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,""),this.traverse(t-1);var s=100+100*t;if(this.cmd(It.createLabel,i,"Removing Value: ",50,30),this.cmd(It.createLabel,e,this.arrayData[t],s,200),this.cmd(It.move,e,120,30),this.cmd(It.step),1!==this.size)if(0===t)this.cmd(It.disconnect,this.topID,this.linkedListElemID[t]),this.cmd(It.connect,this.topID,this.linkedListElemID[t+1]);else if(t===this.size-1)this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.setNull,this.linkedListElemID[t-1],1);else{var h=t%8*100+100;this.cmd(It.move,this.linkedListElemID[t],h,140),this.cmd(It.step),this.cmd(It.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(It.connect,this.linkedListElemID[t-1],this.linkedListElemID[t+1])}this.cmd(It.step),this.cmd(It.delete,this.linkedListElemID[t]),this.cmd(It.setHighlight,this.linkedListElemID[t-1],0);for(var a=t;a<this.size;a++)this.arrayData[a]=this.arrayData[a+1],this.linkedListElemID[a]=this.linkedListElemID[a+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(It.delete,e),this.cmd(It.delete,i),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var i=t%8*100+100,e=100*Math.floor(t/8)+200;this.cmd(It.move,this.linkedListElemID[t],i,e)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd(It.delete,this.linkedListElemID[t]);return this.size=0,this.commands}}]),i}(Ft),Ei=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.kPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure MergeSort(array)"],["     length <- length of array, midIdx <- length / 2"],["     leftArray <- array[0...midIdx - 1]"],["     rightArray <- array[midIdx...length - 1]"],["     MergeSort(leftArray)"],["     MergeSort(rightArray)"],["     leftIdx, rightIdx, currIdx <- 0"],["     while leftIdx < midIdx and rightIdx < length - midIdx do"],["          if leftArray[leftIdx] <= rightArray[rightIdx] then"],["               array[currIdx] <- leftArray[leftIdx]"],["               leftIdx <- leftIdx + 1"],["          else"],["               array[currIdx] <- rightArray[rightIdx]"],["               rightIdx <- rightIdx + 1"],["          end if"],["          currIdx <- currIdx + 1"],["     end while"],["     while leftIdx < midIdx do"],["          array[currIdx] <- leftArray[leftIdx]"],["          currIdx <- currIdx + 1"],["          leftIdx <- leftIdx + 1"],["     end while"],["     while rightIdx < length - midIdx do"],["          array[currIdx] <- rightArray[rightIdx]"],["          currIdx <- currIdx + 1"],["          rightIdx <- rightIdx + 1"],["     end while"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,50,80),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.kPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=15&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.displayData=[],this.arrayID=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"sort",value:function(t){this.commands=[],this.highlight(0,0),this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,15),this.displayData=new Array(this.arrayData.length);for(var i=new Map,e=new Map,s=0;s<this.arrayData.length;s++){var h=i.has(this.arrayData[s])?i.get(this.arrayData[s]):0;h>0&&e.set(this.arrayData[s],"a"),i.set(this.arrayData[s],h+1)}for(var a=0;a<this.arrayData.length;a++){var n=50*a+450;this.arrayID.push(this.nextIndex);var r=this.arrayData[a].toString();if(e.has(this.arrayData[a])){var l=e.get(this.arrayData[a]);r+=l,e.set(this.arrayData[a],String.fromCharCode(l.charCodeAt(0)+1))}this.displayData[a]=r,this.cmd(It.createRectangle,this.nextIndex++,r,50,50,n,50)}if(this.cmd(It.step),this.unhighlight(0,0),1!==this.arrayData.length){this.highlight(2,0),this.highlight(3,0),this.cmd(It.step),this.unhighlight(2,0),this.unhighlight(3,0);var o=Math.ceil((this.arrayData.length-1)/2);this.highlight(4,0),this.leftHelper(0,o-1,-15,0,1),this.unhighlight(4,0),this.highlight(5,0),this.rightHelper(o,this.arrayData.length-1,15,0,1),this.unhighlight(5,0),this.merge(0,this.arrayData.length-1,o,0,0,-15,15,this.arrayID)}else this.cmd(It.setBackgroundColor,this.arrayID[0],"#2ECC71"),this.cmd(It.step);return this.commands}},{key:"leftHelper",value:function(t,i,e,s,h){if(this.cmd(It.step),!(t>i)){this.unhighlight(4,0),this.unhighlight(5,0),this.highlight(0,0);var a=this.drawArrayAndCopy(t,i,e,s,h);if(this.unhighlight(0,0),t!==i){this.highlight(2,0),this.highlight(3,0),this.cmd(It.step),this.unhighlight(2,0),this.unhighlight(3,0);var n=Math.ceil((t+i)/2),r=h<2?30:14;this.highlight(4,0),this.leftHelper(t,n-1,e-r,e,h+1),this.unhighlight(4,0),this.highlight(5,0),this.leftHelper(n,i,e,e,h+1),this.unhighlight(5,0),this.merge(t,i,n,h,e,e-r,e,a)}else this.cmd(It.setBackgroundColor,a[t],"#2ECC71"),this.cmd(It.step)}}},{key:"rightHelper",value:function(t,i,e,s,h){if(this.cmd(It.step),!(t>i)){this.unhighlight(4,0),this.unhighlight(5,0),this.highlight(0,0);var a=this.drawArrayAndCopy(t,i,e,s,h);if(this.unhighlight(0,0),t!==i){this.highlight(2,0),this.highlight(3,0),this.cmd(It.step),this.unhighlight(2,0),this.unhighlight(3,0);var n=Math.ceil((t+i)/2),r=h<2?30:14;this.highlight(4,0),this.rightHelper(t,n-1,e,e,h+1),this.unhighlight(4,0),this.highlight(5,0),this.rightHelper(n,i,e+r,e,h+1),this.unhighlight(5,0),this.merge(t,i,n,h,e,e,e+r,a)}else this.cmd(It.setBackgroundColor,a[t],"#2ECC71"),this.cmd(It.step)}}},{key:"drawArrayAndCopy",value:function(t,i,e,s,h){for(var a=[],n=t;n<=i;n++){var r=50*n+450+e,l=50+75*h;a[n]=this.nextIndex,this.arrayID.push(this.nextIndex),this.cmd(It.createRectangle,this.nextIndex++,"",50,50,r,l)}this.cmd(It.step);for(var o=t;o<=i;o++)this.copyData(o,o,s,e,h-1,h,this.displayData[o],a[o],-1);return a}},{key:"merge",value:function(t,i,e,s,h,a,n,r){for(var l=new Array(this.arrayData.length),o=new Array(this.arrayData.length),c=t;c<=i;c++)l[c]=this.arrayData[c],o[c]=this.displayData[c];this.highlight(6,0);var d=50+75*(s+1),u=this.nextIndex++,m=50*t+450+a;this.cmd(It.createHighlightCircle,u,"#0000FF",m,d);var g=this.nextIndex++,p=50*e+450+n;this.cmd(It.createHighlightCircle,g,"#0000FF",p,d);var I=this.nextIndex++,f=50*t+450+h,b=50+75*s;this.cmd(It.createHighlightCircle,I,"#0000FF",f,b),this.cmd(It.step),this.unhighlight(6,0),this.highlight(7,0),this.cmd(It.step),this.unhighlight(7,0);for(var D=t,v=e,x=t;D<e&&v<=i;)this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(8,0),this.cmd(It.step),this.unhighlight(8,0),l[D]<=l[v]?(this.highlight(9,0),this.copyData(D,x,a,h,s+1,s,o[D],r[x],u),this.unhighlight(9,0),this.arrayData[x]=l[D],this.displayData[x]=o[D],D++,this.highlight(10,0),D<e&&this.movePointer(D,s+1,a,u),this.cmd(It.step),this.unhighlight(10,0)):(this.highlight(11,0),this.cmd(It.step),this.unhighlight(11,0),this.highlight(12,0),this.copyData(v,x,n,h,s+1,s,o[v],r[x],g),this.unhighlight(12,0),this.arrayData[x]=l[v],this.displayData[x]=o[v],v++,this.highlight(13,0),v<=i&&this.movePointer(v,s+1,n,g),this.cmd(It.step),this.unhighlight(13,0)),x++,this.highlight(15,0),this.movePointer(x,s,h,I),this.cmd(It.step),this.unhighlight(15,0);for(this.highlight(17,0),this.cmd(It.step),this.unhighlight(17,0);D<e;)this.highlight(18,0),this.copyData(D,x,a,h,s+1,s,o[D],r[x],u),this.unhighlight(18,0),this.highlight(19,0),this.highlight(20,0),this.arrayData[x]=l[D],this.displayData[x]=o[D],D++,++x<=i&&(this.movePointer(D,s+1,a,u),this.movePointer(x,s,h,I)),this.cmd(It.step),this.unhighlight(19,0),this.unhighlight(20,0);for(this.highlight(22,0),this.cmd(It.step),this.unhighlight(22,0);v<=i;)this.highlight(23,0),this.copyData(v,x,n,h,s+1,s,o[v],r[x],g),this.unhighlight(23,0),this.highlight(24,0),this.highlight(25,0),this.arrayData[x]=l[v],this.displayData[x]=o[v],v++,++x<=i&&(this.movePointer(v,s+1,n,g),this.movePointer(x,s,h,I)),this.cmd(It.step),this.unhighlight(24,0),this.unhighlight(25,0);this.cmd(It.delete,u),this.cmd(It.delete,g),this.cmd(It.delete,I),this.cmd(It.step)}},{key:"copyData",value:function(t,i,e,s,h,a,n,r,l){-1!==l&&(this.cmd(It.setForegroundColor,l,"#FF0000"),this.cmd(It.step));var o=50*t+450+e,c=50+75*h,d=this.nextIndex++;this.cmd(It.createLabel,d,n,o,c);var u=50*i+450+s,m=50+75*a;this.cmd(It.move,d,u,m),this.cmd(It.step),this.cmd(It.setText,r,n),this.cmd(It.delete,d),-1!==l&&(this.cmd(It.setBackgroundColor,r,"#2ECC71"),this.cmd(It.setForegroundColor,l,"#0000FF"),this.cmd(It.step))}},{key:"movePointer",value:function(t,i,e,s){var h=50*t+450+e,a=50+75*i;this.cmd(It.move,s,h,a)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Hi=50,zi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).nextIndex=0,h.POINTER_ARRAY_ELEM_Y=s-Hi,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this)}},{key:"setup",value:function(){this.hashTableVisual=new Array(7),this.hashTableIndices=new Array(7),this.hashTableValues=new Array(7),this.indexXPos=new Array(7),this.indexYPos=new Array(7),this.ExplainLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.size=0,this.table_size=7,this.load_factor=.67,this.resetIndex=this.nextIndex,this.commands=[];for(var t=0;t<7;t++){var i=this.nextIndex++;this.cmd(It.createRectangle,i,"",Hi,25,70,100+25*t),this.hashTableVisual[t]=i,this.cmd(It.setNull,this.hashTableVisual[t],1),i=this.nextIndex++,this.hashTableIndices[t]=i,this.hashTableValues[t]=null,this.indexXPos[t]=70-Hi,this.indexYPos[t]=100+25*t,this.cmd(It.createLabel,i,t,this.indexXPos[t],this.indexYPos[t]),this.cmd(It.setForegroundColor,i,"#0000FF")}this.cmd(It.createLabel,this.loadFactorID,"Load Factor: ".concat(this.load_factor),60,20),this.cmd(It.createLabel,this.ExplainLabel,"",550,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"insertElement",value:function(t,i){var e="<".concat(t,", ").concat(i,">");this.commands=[],this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor)),(this.size+1)/this.table_size>this.load_factor&&2*this.table_size+1<30&&this.resize(),this.cmd(It.setText,this.ExplainLabel,"Inserting element "+e);var s=new Ni(t,i,this.nextIndex++,60,40);this.cmd(It.createLinkedListNode,s.graphicID,e,70,20,60,40,.25,0,1);var h,a=this.doHash(t),n=!1,r=null;if(null!=this.hashTableValues[a]){this.cmd(It.setText,this.ExplainLabel,"Searching for duplicates of "+t);var l=this.nextIndex++,o=this.hashTableValues[a];for(this.cmd(It.createLabel,l,"",550,45,0);null!=o&&!n;){if(this.cmd(It.setHighlight,o.graphicID,1),o.key===t){this.cmd(It.setText,l,o.key+"=="+t),h=o,n=!0,this.cmd(It.step),this.cmd(It.setHighlight,o.graphicID,0);break}this.cmd(It.setText,l,o.key+"!="+t),this.cmd(It.step),this.cmd(It.setHighlight,o.graphicID,0),r=o,o=o.next}this.cmd(It.delete,l),this.nextIndex--}else this.cmd(It.setNull,s.graphicID,1),this.cmd(It.setNull,this.hashTableVisual[a],0);return n?(this.cmd(It.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value."),this.cmd(It.delete,h.graphicID),s.next=h.next,null!=r?(r.next=s,this.cmd(It.connect,r.graphicID,s.graphicID)):(this.cmd(It.disconnect,this.hashTableVisual[a],this.hashTableValues[a].graphicID),this.cmd(It.connect,this.hashTableVisual[a],s.graphicID),this.hashTableValues[a]=s),null!=s.next?this.cmd(It.connect,s.graphicID,s.next.graphicID):this.cmd(It.setNull,s.graphicID,1),this.repositionList(a,this.hashTableValues[a]),this.cmd(It.step)):(this.cmd(It.setText,this.ExplainLabel,"Duplicate of  "+t+"  not found!"),this.cmd(It.step),null!=this.hashTableValues[a]&&(this.cmd(It.connect,s.graphicID,this.hashTableValues[a].graphicID),this.cmd(It.disconnect,this.hashTableVisual[a],this.hashTableValues[a].graphicID)),this.cmd(It.connect,this.hashTableVisual[a],s.graphicID),s.next=this.hashTableValues[a],this.hashTableValues[a]=s,this.repositionList(a,this.hashTableValues[a]),this.size++),this.cmd(It.setText,this.ExplainLabel,""),this.commands}},{key:"repositionList",value:function(t,i){for(var e=140,s=100+25*t;null!=i;)i.x=e,i.y=s,this.cmd(It.move,i.graphicID,i.x,i.y),e+=90,i=i.next}},{key:"repositionResizeList",value:function(t){for(var i=740,e=50+25*t,s=this.hashTableValues[t];null!=s;)s.x=i,s.y=e,this.cmd(It.move,s.graphicID,s.x,s.y),i+=90,s=s.next}},{key:"deleteElement",value:function(t){this.commands=[],this.cmd(It.setText,this.ExplainLabel,"Deleting entry with key: "+t);var i=this.doHash(t);if(null==this.hashTableValues[i])return this.cmd(It.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Key not in table"),this.commands;if(this.cmd(It.setHighlight,this.hashTableValues[i].graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,this.hashTableValues[i].graphicID,0),this.hashTableValues[i].key===t)return null!=this.hashTableValues[i].next?this.cmd(It.connect,this.hashTableVisual[i],this.hashTableValues[i].next.graphicID):this.cmd(It.setNull,this.hashTableVisual[i],1),this.cmd(It.delete,this.hashTableValues[i].graphicID),this.hashTableValues[i]=this.hashTableValues[i].next,this.repositionList(i,this.hashTableValues[i]),this.size--,this.commands;for(var e=this.hashTableValues[i],s=this.hashTableValues[i].next,h=!1;null!=s&&!h;)this.cmd(It.setHighlight,s.graphicID,1),this.cmd(It.step),this.cmd(It.setHighlight,s.graphicID,0),s.key===t?(h=!0,this.cmd(It.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Entry deleted"),null!=s.next?this.cmd(It.connect,e.graphicID,s.next.graphicID):this.cmd(It.setNull,e.graphicID,1),e.next=e.next.next,this.cmd(It.delete,s.graphicID),this.repositionList(i,this.hashTableValues[i]),this.size--):(e=s,s=s.next);return h||this.cmd(It.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Key not in table"),this.commands}},{key:"findElement",value:function(t){this.commands=[],this.cmd(It.setText,this.ExplainLabel,"Finding entry with key: "+t);var i=this.doHash(t),e=this.nextIndex++,s=!1,h=this.hashTableValues[i],a=null;for(this.cmd(It.createLabel,e,"",10,40,0);null!=h&&!s;)this.cmd(It.setHighlight,h.graphicID,1),h.key===t?(this.cmd(It.setText,e,h.key+"=="+t),s=!0,a=h.val):this.cmd(It.setText,e,h.key+"!="+t),this.cmd(It.step),this.cmd(It.setHighlight,h.graphicID,0),h=h.next;return s?this.cmd(It.setText,this.ExplainLabel,"Found entry with key: "+t+"  Value: "+a):this.cmd(It.setText,this.ExplainLabel,"Finding entry with key: "+t+"  Not Found!"),this.cmd(It.delete,e),this.nextIndex--,this.commands}},{key:"resize",value:function(){this.commands=[],this.cmd(It.setText,this.ExplainLabel,"");var t=this.nextIndex++;this.cmd(It.createLabel,t,"(Resize Required): (Size + 1 / length) > Load Factor --\x3e (".concat(this.size," + 1 / ").concat(this.table_size,") > ").concat(this.load_factor),800,20),this.table_size=2*this.table_size+1,2*this.table_size+1>30&&(this.load_factor=.99,this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor))),this.cmd(It.step),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableValues=this.hashTableValues,this.oldHashTableIndices=this.hashTableIndices,this.oldIndexXPos=this.indexXPos,this.oldIndexYPos=this.indexYPos,this.hashTableValues=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableIndices=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size);for(var i=0;i<this.table_size;i++){var e=this.nextIndex++;this.cmd(It.createRectangle,e,"",Hi,25,670,50+25*i),this.hashTableVisual[i]=e,this.cmd(It.setNull,this.hashTableVisual[i],1),e=this.nextIndex++,this.hashTableIndices[i]=e,this.hashTableValues[i]=null,this.indexXPos[i]=670-Hi,this.indexYPos[i]=50+25*i,this.cmd(It.createLabel,e,i,this.indexXPos[i],this.indexYPos[i]),this.cmd(It.setForegroundColor,e,"#0000FF")}for(var s=0;s<(this.table_size-1)/2;s++){for(this.cmd(It.setHighlight,this.oldHashTableVisual[s],1),this.cmd(It.step);null!=this.oldHashTableValues[s];){this.cmd(It.setHighlight,this.oldHashTableVisual[s],0);var h=this.oldHashTableValues[s];this.cmd(It.setHighlight,h.graphicID,1),this.cmd(It.step),this.cmd(It.move,h.graphicID,60,40),this.oldHashTableValues[s]=this.oldHashTableValues[s].next,this.cmd(It.disconnect,this.oldHashTableVisual[s],h.graphicID),null!=this.oldHashTableValues[s]?(this.cmd(It.connect,this.oldHashTableVisual[s],this.oldHashTableValues[s].graphicID),this.cmd(It.disconnect,h.graphicID,this.oldHashTableValues[s].graphicID),this.repositionList(s,this.oldHashTableValues[s])):this.cmd(It.setNull,this.oldHashTableVisual[s],1),this.cmd(It.step);var a=this.doHash(h.key);h.next=this.hashTableValues[a],this.cmd(It.setNull,h.graphicID,1),this.cmd(It.setNull,this.hashTableVisual[a],0),null!=h.next&&(this.cmd(It.disconnect,this.hashTableVisual[a],h.next.graphicID),this.cmd(It.connect,h.graphicID,h.next.graphicID)),this.cmd(It.connect,this.hashTableVisual[a],h.graphicID),this.hashTableValues[a]=h,this.repositionResizeList(a),this.cmd(It.setHighlight,h.graphicID,0)}this.cmd(It.setHighlight,this.oldHashTableVisual[s],0)}this.cmd(It.step);for(var n=0;n<(this.table_size-1)/2;n++)this.cmd(It.setNull,this.oldHashTableVisual[n],1),this.cmd(It.delete,this.oldHashTableVisual[n]),this.cmd(It.delete,this.oldHashTableIndices[n]);for(var r=0;r<this.table_size;r++){var l=100+25*r;this.indexXPos[r]=70-Hi,this.indexYPos[r]=100+25*r,this.cmd(It.move,this.hashTableVisual[r],70,l),this.cmd(It.move,this.hashTableIndices[r],70-Hi,l);for(var o=0,c=this.hashTableValues[r];null!=c;)this.cmd(It.move,c.graphicID,140+90*o,l),o++,c=c.next}this.cmd(It.delete,t),this.cmd(It.step)}},{key:"changeLoadFactor",value:function(t){return this.commands=[],2*this.table_size+1<=30?(this.load_factor=t,this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor))):this.cmd(It.setText,this.loadFactorID,"Load Factor: ".concat(this.load_factor,"\n\t\t\t(Max Array Length)")),this.cmd(It.step),this.commands}},{key:"resetAll",value:function(){var t;this.commands=Object(Bt.a)(Object(l.a)(i.prototype),"resetAll",this).call(this),this.size=0;for(var e=0;e<this.hashTableValues.length;e++)if(null!=(t=this.hashTableValues[e])){for(;null!=t;)this.cmd(It.delete,t.graphicID),t=t.next;this.hashTableValues[e]=null,this.cmd(It.setNull,this.hashTableVisual[e],1)}return this.commands}},{key:"reset",value:function(){this.nextIndex=this.resetIndex,this.table_size=7,this.load_factor=.67,this.size=0,this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.hashTableIndices=new Array(7),this.indexXPos=new Array(7),this.indexYPos=new Array(7);for(var t=0;t<this.table_size;t++)this.hashTableValues[t]=null,this.hashTableVisual[t]=this.nextIndex++,this.hashTableIndices[t]=this.nextIndex++;Object(Bt.a)(Object(l.a)(i.prototype),"reset",this).call(this)}},{key:"disableUI",value:function(){Object(Bt.a)(Object(l.a)(i.prototype),"disableUI",this).call(this)}},{key:"enableUI",value:function(){Object(Bt.a)(Object(l.a)(i.prototype),"enableUI",this).call(this)}}]),i}(ci),Ni=function t(i,e,s,h,n){Object(a.a)(this,t),this.key=i,this.val=e,this.graphicID=s,this.x=h,this.y=n,this.next=null},Ri=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s,Xt,!1,!1,!0))).addControls(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){xt("Start vertex: "),this.startField=Lt("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=Lt("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),Ct(),Object(Bt.a)(Object(l.a)(i.prototype),"addControls",this).call(this,!1)}},{key:"setup",value:function(t){Object(Bt.a)(Object(l.a)(i.prototype),"setup",this).call(this,t),this.commands=[],this.messageID=null,this.visited=[],this.visitedID=[],this.pq=new yi,this.code=[["initialize VisitedSet, VS"],["initialize MST EdgeSet, MST"],["initialize PriorityQueue, PQ"],["mark s as visited in VS"],["for each edge(s, v) in G, PQ.enqueue(edge(s, v))"],["while PQ is not empty and VS is not full"],["    edge(u, w) <- PQ.dequeue()"],["    if w is not visited in VS"],["        add edge(u, w) to MST"],["        mark w as visited in VS"],["        for each edge(w, x) such that x is not visited"],["            PQ.enqueue(edge(w, x))"]],this.codeID=this.addCodeToCanvasBase(this.code,50,200),this.infoLabelID=this.nextIndex++,this.cmd(It.createLabel,this.infoLabelID,"",25,15,0),this.cmd(It.createLabel,this.nextIndex++,"Visited Set:",25,40,0),this.cmd(It.createLabel,this.nextIndex++,"Current edge:",25,90,0),this.cmd(It.createLabel,this.nextIndex++,"Priority Queue:",25,115,0),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.lastIndex=this.nextIndex}},{key:"reset",value:function(){this.nextIndex=this.lastIndex,this.messageID=[],this.visitedID=[],this.pq=new yi}},{key:"startCallback",value:function(){if(""!==this.startField.value){var t=this.startField.value;this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)>=0&&t<this.size&&this.implementAction(this.doPrim.bind(this),t)}}},{key:"doPrim",value:function(t){this.commands=[],this.clear(),this.visitedID=[],this.visitVertex(t),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(t),30,65),this.cmd(It.setBackgroundColor,this.circleID[t],"#99CCFF"),this.cmd(It.setText,this.infoLabelID,"Adding "+this.toStr(t)+" to visited set"),this.highlight(0,0),this.highlight(1,0),this.highlight(2,0),this.highlight(3,0),this.cmd(It.step),this.unhighlight(3,0),this.unhighlight(2,0),this.unhighlight(1,0),this.unhighlight(0,0),this.highlight(4,0),this.pq=new yi;var i=[];this.cmd(It.setText,this.infoLabelID,"Enqueuing edges of "+this.toStr(t));for(var e=0;e<this.size;e++){var s=this.adj_matrix[t][e];if(s>=0){this.highlightEdge(t,e,1),this.cmd(It.createLabel,this.nextIndex,"("+this.toStr(t)+this.toStr(e)+", "+s+")",45+this.pq.size()%8*50,143+25*Math.floor(this.pq.size()/8)),this.pq.enqueue([t,e],this.nextIndex++,s),this.cmd(It.step);var h=this.pq.getIDs();if(String(i)!==String(h.slice(0,-1))){for(var a=0;a<this.pq.size();a++)this.cmd(It.move,h[a],45+a%8*50,143+25*Math.floor(a/8));this.cmd(It.step)}i=h,this.highlightEdge(t,e,0)}}for(this.unhighlight(4,0),this.leaveVertex(),this.highlight(5,0);this.visited.includes(!1)&&0!==this.pq.size();){this.highlight(6,0);var n=this.pq.dequeue(),r=Object(c.a)(n,2),l=r[0],o=r[1],d=this.toStr(l[0])+this.toStr(l[1]);this.cmd(It.setText,this.infoLabelID,"Dequeued "+d+", with destination "+this.toStr(l[1])),this.cmd(It.move,o,110,96),this.cmd(It.setText,o,this.toStr(l[0])+this.toStr(l[1])),this.cmd(It.setTextColor,o,"#0000FF"),i=this.pq.getIDs();for(var u=0;u<this.pq.size();u++)this.cmd(It.move,i[u],45+u%8*50,143+25*Math.floor(u/8));if(this.highlightEdge(l[0],l[1],1),this.visitVertex(l[1]),this.cmd(It.step),this.unhighlight(6,0),this.highlight(7,0),this.visited[l[1]])this.unhighlight(7,0),this.highlightEdge(l[0],l[1],0),this.cmd(It.setText,this.infoLabelID,this.toStr(l[1])+" has already been visited, skipping"),this.cmd(It.step);else{this.cmd(It.setText,this.infoLabelID,"Adding "+d+" to MST"),this.highlightEdge(l[0],l[1],0),this.setEdgeColor(l[0],l[1],"#3399FF"),this.setEdgeThickness(l[0],l[1],4),this.highlight(8,0),this.cmd(It.step),this.unhighlight(8,0),this.visited[l[1]]=!0,this.cmd(It.setText,this.infoLabelID,"Adding "+this.toStr(l[1])+" to visited set"),this.visitedID.push(this.nextIndex),this.cmd(It.createLabel,this.nextIndex++,this.toStr(l[1]),30+20*(this.visitedID.length-1),65),this.cmd(It.setBackgroundColor,this.circleID[l[1]],"#99CCFF"),this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.cmd(It.setText,this.infoLabelID,"Enqueuing edges of "+this.toStr(l[1])),this.highlight(11,0),this.highlight(10,0);for(var m=0;m<this.size;m++)if(this.adj_matrix[l[1]][m]>=0){if(this.highlightEdge(l[1],m,1),this.cmd(It.setHighlight,this.circleID[m],1),this.visited[m])this.cmd(It.setText,this.infoLabelID,"Vertex "+this.toStr(m)+" has already been visited, skipping"),this.cmd(It.step),this.cmd(It.setHighlight,this.circleID[m],0);else{this.cmd(It.setText,this.infoLabelID,"Vertex "+this.toStr(m)+" has not yet been visited"),this.cmd(It.step),this.cmd(It.setHighlight,this.circleID[m],0),d=this.toStr(l[1])+this.toStr(m),this.cmd(It.setText,this.infoLabelID,"Enqueueing edge "+d+" with weight "+this.adj_matrix[l[1]][m]),this.cmd(It.createLabel,this.nextIndex,"("+d+", "+this.adj_matrix[l[1]][m]+")",45+this.pq.size()%8*50,143+25*Math.floor(this.pq.size()/8)),this.pq.enqueue([l[1],m],this.nextIndex++,this.adj_matrix[l[1]][m]),this.cmd(It.step);var g=this.pq.getIDs();if(String(i)!==String(g.slice(0,-1))){for(var p=0;p<this.pq.size();p++)this.cmd(It.move,g[p],45+p%8*50,143+25*Math.floor(p/8));this.cmd(It.step)}i=g}this.highlightEdge(l[1],m,0)}this.unhighlight(10,0),this.unhighlight(11,0),this.unhighlight(7,0)}this.leaveVertex(),this.cmd(It.delete,o)}return this.unhighlight(5,0),this.unhighlight(7,0),this.pq.size()>0?this.cmd(It.setText,this.infoLabelID,"MST has correct amount of edges / all vertices have been visited, done"):this.cmd(It.setText,this.infoLabelID,"Priority queue is empty, done"),this.commands}},{key:"clear",value:function(){this.recolorGraph();for(var t=0;t<this.size;t++)this.cmd(It.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(var i=0;i<this.visitedID.length;i++)this.cmd(It.delete,this.visitedID[i]);var e=this.pq.getIDs(),s=!0,h=!1,a=void 0;try{for(var n,r=e[Symbol.iterator]();!(s=(n=r.next()).done);s=!0){var l=n.value;this.cmd(It.delete,l)}}catch(c){h=!0,a=c}finally{try{s||null==r.return||r.return()}finally{if(h)throw a}}if(null!=this.messageID)for(var o=0;o<this.messageID.length;o++)this.cmd(It.delete,this.messageID[o]);this.messageID=[]}}]),i}(qt),Mi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.enqueueField=Lt("Text",""),this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),4),this.enqueueButton=Lt("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),Ct(),this.dequeueButton=Lt("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.frontID=this.nextIndex++;var i=this.nextIndex++;this.sizeID=this.nextIndex++;var e=this.nextIndex++;this.frontPointerID=this.nextIndex++,this.arrayData=new Array(7),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++;for(var s=0;s<7;s++){var h=s%14*50+100,a=130*Math.floor(s/14)+200;this.cmd(It.createRectangle,this.arrayID[s],"",50,50,h,a),this.cmd(It.createLabel,this.arrayLabelID[s],s,h,a+50),this.cmd(It.setForegroundColor,this.arrayLabelID[s],"#0000FF")}this.cmd(It.createLabel,i,"Front",130,100),this.cmd(It.createRectangle,this.frontID,0,50,50,180,100),this.cmd(It.createLabel,e,"Size",230,100),this.cmd(It.createRectangle,this.sizeID,0,50,50,280,100),this.cmd(It.createLabel,this.frontPointerID,"Front",100,160),this.cmd(It.createLabel,this.leftoverLabelID,"",60,30),this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.top=0,this.front=0,this.size=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+7}},{key:"enqueueCallback",value:function(){if(this.size<this.arrayData.length&&""!==this.enqueueField.value){var t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}else if(this.size===this.arrayData.length&&""!==this.enqueueField&&2*this.size<30){var i=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.resize.bind(this),i)}}},{key:"dequeueCallback",value:function(){0!==this.size&&this.implementAction(this.dequeue.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"enqueue",value:function(t){this.commands=[];var i=this.nextIndex++,e=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=(this.front+this.size)%this.arrayData.length;this.arrayData[a]=t,this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,i,"Enqueuing Value: ",60,30),this.cmd(It.createLabel,e,t,130,30),this.cmd(It.createLabel,s,"Enqueueing at (front + size) % array.length: ",129,50),this.cmd(It.createLabel,h,a,260,50),this.cmd(It.step),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",280,100),this.cmd(It.step);var n=a%14*50+100,r=130*Math.floor(a/14)+200;return this.cmd(It.move,this.highlight1ID,260,50),this.cmd(It.step),this.cmd(It.move,this.highlight1ID,n,r+50),this.cmd(It.move,h,n,r+50),this.cmd(It.step),this.cmd(It.move,e,n,r),this.cmd(It.step),this.cmd(It.setText,this.arrayID[a],t),this.cmd(It.delete,e),this.cmd(It.delete,h),this.cmd(It.step),this.cmd(It.delete,this.highlight1ID),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.size=this.size+1,this.cmd(It.setText,this.sizeID,this.size),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.delete,i),this.cmd(It.delete,s),this.nextIndex=this.nextIndex-4,this.commands}},{key:"dequeue",value:function(){this.commands=[];var t=this.nextIndex++,i=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,t,"Dequeued Value: ",60,30),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(It.step);var e=this.front%14*50+100,s=130*Math.floor(this.front/14)+200;this.cmd(It.move,this.highlight1ID,e,s+50),this.cmd(It.step),this.cmd(It.delete,this.highlight1ID);var h=this.arrayData[this.front];this.cmd(It.createLabel,i,h,e,s),this.cmd(It.setText,this.arrayID[this.front],""),this.cmd(It.move,i,130,30),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,1),this.cmd(It.setHighlight,this.frontPointerID,1),this.cmd(It.step),this.front=(this.front+1)%this.arrayData.length;var a=this.front%14*50+100,n=130*Math.floor(this.front/14)+200-40;return this.cmd(It.move,this.frontPointerID,a,n),this.cmd(It.setText,this.frontID,this.front),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,0),this.cmd(It.setHighlight,this.frontPointerID,0),this.cmd(It.setText,this.leftoverLabelID,"Dequeued Value: "+h),this.cmd(It.delete,t),this.cmd(It.delete,i),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.size=this.size-1,this.cmd(It.setText,this.sizeID,this.size),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.nextIndex=this.nextIndex-2,this.commands}},{key:"resize",value:function(t){this.commands=[];var i=this.nextIndex++,e=this.nextIndex++,s=this.nextIndex++;this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size);for(var h=0;h<2*this.size;h++)this.arrayIDNew[h]=this.nextIndex++,this.arrayLabelIDNew[h]=this.nextIndex++,h<this.size&&(this.arrayDataNew[h]=this.arrayData[(this.front+h)%this.arrayData.length]);this.arrayDataNew[this.size]=t,this.cmd(It.createLabel,i,"Enqueuing Value: ",60,30),this.cmd(It.createLabel,e,t,130,30),this.cmd(It.createLabel,s,"(Resize Required)",60,60),this.cmd(It.step);for(var a=0;a<2*this.size;a++){var n=a%14*50+100,r=130*Math.floor(a/14)+300;this.cmd(It.createRectangle,this.arrayIDNew[a],"",50,50,n,r),this.cmd(It.createLabel,this.arrayLabelIDNew[a],a,n,r+50),this.cmd(It.setForegroundColor,this.arrayLabelIDNew[a],"#0000FF")}this.cmd(It.step),this.highlight1ID=this.nextIndex++,this.arrayMoveID=new Array(this.size);for(var l=0;l<this.size;l++){var o=(this.front+l)%this.arrayData.length%14*50+100,c=130*Math.floor((this.front+l)%this.arrayData.length/14)+200,d=l%14*50+100,u=130*Math.floor(l/14)+300;this.arrayMoveID[l]=this.nextIndex++,this.cmd(It.createLabel,this.arrayMoveID[l],this.arrayData[(this.front+l)%this.arrayData.length],o,c),this.cmd(It.move,this.arrayMoveID[l],d,u),this.cmd(It.step)}this.cmd(It.step);for(var m=0;m<this.size;m++)this.cmd(It.delete,this.arrayMoveID[m]),this.cmd(It.setText,this.arrayIDNew[m],this.arrayDataNew[m]);this.cmd(It.step);for(var g=0;g<this.size;g++)this.cmd(It.delete,this.arrayID[g]),this.cmd(It.delete,this.arrayLabelID[g]);for(var p=0;p<2*this.size;p++){var I=p%14*50+100,f=130*Math.floor(p/14)+200;this.cmd(It.move,this.arrayIDNew[p],I,f),this.cmd(It.move,this.arrayLabelIDNew[p],I,f+50)}this.cmd(It.step),this.front=0,this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.cmd(It.setHighlight,this.frontID,1),this.cmd(It.setHighlight,this.frontPointerID,1),this.cmd(It.step),this.cmd(It.setText,this.frontID,this.front),this.cmd(It.move,this.frontPointerID,100,160),this.cmd(It.step),this.cmd(It.setHighlight,this.frontID,0),this.cmd(It.setHighlight,this.frontPointerID,0);var b=(this.front+this.size)%this.arrayData.length,D=this.nextIndex++,v=this.nextIndex++;this.cmd(It.delete,s),this.cmd(It.delete,e);var x=this.nextIndex++;this.cmd(It.createLabel,x,t,130,30),this.cmd(It.createLabel,D,"Enqueueing at (front + size) % array.length: ",129,50),this.cmd(It.createLabel,v,b,260,50),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",280,100),this.cmd(It.step);var y=b%14*50+100,k=130*Math.floor(b/14)+200;return this.cmd(It.move,this.highlight1ID,260,50),this.cmd(It.step),this.cmd(It.move,this.highlight1ID,y,k+50),this.cmd(It.move,v,y,k+50),this.cmd(It.step),this.cmd(It.move,x,y,k),this.cmd(It.step),this.cmd(It.setText,this.arrayID[b],t),this.cmd(It.delete,x),this.cmd(It.delete,v),this.cmd(It.step),this.cmd(It.delete,this.highlight1ID),this.cmd(It.setHighlight,this.sizeID,1),this.cmd(It.step),this.size=this.size+1,this.cmd(It.setText,this.sizeID,this.size),this.cmd(It.step),this.cmd(It.setHighlight,this.sizeID,0),this.cmd(It.delete,i),this.cmd(It.delete,D),this.nextIndex=this.nextIndex-this.size,this.commands}},{key:"clearAll",value:function(){this.commands=[],this.cmd(It.setText,this.leftoverLabelID,"");for(var t=0;t<this.arrayID.length;t++)this.cmd(It.setText,this.arrayID[t],"");return this.front=0,this.size=0,this.cmd(It.setText,this.frontID,"0"),this.cmd(It.setText,this.sizeID,"0"),this.cmd(It.setPosition,this.frontPointerID,100,160),this.commands}}]),i}(Ft),Vi=30,Xi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.tail_pos_y=s-Vi,h.tail_label_y=h.tail_pos_y,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.enqueueField=Lt("Text",""),this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),4),this.enqueueButton=Lt("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),Ct(),this.dequeueButton=Lt("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32);for(var t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.cmd(It.createLabel,this.headLabelID,"Head",130,100),this.cmd(It.createRectangle,this.headID,"",30,30,180,100),this.cmd(It.setNull,this.headID,1),this.cmd(It.createLabel,this.tailLabelID,"Tail",130,this.tail_label_y),this.cmd(It.createRectangle,this.tailID,"",30,30,180,this.tail_pos_y),this.cmd(It.setNull,this.tailID,1),this.cmd(It.createLabel,this.leftoverLabelID,"",5,30,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"resetLinkedListPositions",value:function(){for(var t=this.top-1;t>=0;t--){var i=(this.top-1-t)%8*100+100,e=100*Math.floor((this.top-1-t)/8)+200;this.cmd(It.move,this.linkedListElemID[t],i,e)}}},{key:"reset",value:function(){this.top=0,this.nextIndex=this.initialIndex}},{key:"enqueueCallback",value:function(){if(this.top<32&&""!==this.enqueueField.value){var t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}}},{key:"dequeueCallback",value:function(){this.top>0&&this.implementAction(this.dequeue.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"enqueue",value:function(t){this.commands=[],this.arrayData[this.top]=t,this.cmd(It.setText,this.leftoverLabelID,"");for(var i=this.top;i>0;i--)this.arrayData[i]=this.arrayData[i-1],this.linkedListElemID[i]=this.linkedListElemID[i-1];this.arrayData[0]=t,this.linkedListElemID[0]=this.nextIndex++;var e=this.nextIndex++,s=this.nextIndex++;return this.cmd(It.createLinkedListNode,this.linkedListElemID[0],"",70,Vi,250,50,.25,0,1),this.cmd(It.setNull,this.linkedListElemID[0],1),this.cmd(It.createLabel,e,"Enqueuing Value: ",50,30),this.cmd(It.createLabel,s,t,120,30),this.cmd(It.step),this.cmd(It.move,s,250,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[0],t),this.cmd(It.delete,s),0===this.top?(this.cmd(It.setNull,this.headID,0),this.cmd(It.setNull,this.tailID,0),this.cmd(It.connect,this.headID,this.linkedListElemID[this.top]),this.cmd(It.connect,this.tailID,this.linkedListElemID[this.top])):(this.cmd(It.setNull,this.linkedListElemID[1],0),this.cmd(It.connect,this.linkedListElemID[1],this.linkedListElemID[0]),this.cmd(It.step),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[1])),this.cmd(It.connect,this.tailID,this.linkedListElemID[0]),this.cmd(It.step),this.top=this.top+1,this.resetLinkedListPositions(),this.cmd(It.delete,e),this.cmd(It.step),this.commands}},{key:"dequeue",value:function(){this.commands=[];var t=this.nextIndex++,i=this.nextIndex++;return this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,t,"Dequeued Value: ",50,30),this.cmd(It.createLabel,i,this.arrayData[this.top-1],100,200),this.cmd(It.move,i,120,30),this.cmd(It.step),this.cmd(It.disconnect,this.headID,this.linkedListElemID[this.top-1]),1===this.top?(this.cmd(It.setNull,this.headID,1),this.cmd(It.setNull,this.tailID,1),this.cmd(It.disconnect,this.tailID,this.linkedListElemID[this.top-1])):this.cmd(It.connect,this.headID,this.linkedListElemID[this.top-2]),this.cmd(It.step),this.cmd(It.delete,this.linkedListElemID[this.top-1]),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd(It.delete,i),this.cmd(It.delete,t),this.cmd(It.setText,this.leftoverLabelID,"Dequeued Value: "+this.arrayData[this.top]),this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.top;t++)this.cmd(It.delete,this.linkedListElemID[t]);return this.top=0,this.cmd(It.setNull,this.headID,1),this.cmd(It.setNull,this.tailID,1),this.commands}}]),i}(Ft),Ki=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[];var i=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max '.concat(18," elements & no elements > 999"),i);var e=Tt(!0,i);this.listField=Lt("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.runCallback.bind(this),60,!1),this.controls.push(this.listField),xt("k\u1d57\u02b0 element (1 indexed)",e),this.kField=Lt("Text","",e),this.kField.onkeydown=this.returnSubmit(this.kField,this.runCallback.bind(this),2,!0),this.controls.push(this.kField),this.findButton=Lt("Button","Run",e),this.findButton.onclick=this.runCallback.bind(this),this.controls.push(this.findButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct();var s=kt(["Random pivot","Min element","First element","Perfect pivot"],"Traversals");this.randomPivotSelect=s[0],this.minPivotSelect=s[1],this.firstPivotSelect=s[2],this.perfectPivotSelect=s[3],this.randomPivotSelect.onclick=function(){return t.pivotType="random"},this.minPivotSelect.onclick=function(){return t.pivotType="min"},this.firstPivotSelect.onclick=function(){return t.pivotType="first"},this.perfectPivotSelect.onclick=function(){return t.pivotType="perfect"},this.randomPivotSelect.checked=!0,this.pivotType="random",this.controls.push(this.randomPivotSelect),this.controls.push(this.perfectPivotSelect),this.controls.push(this.firstPivotSelect),this.controls.push(this.minPivotSelect)}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure QuickSelect(array, left, right, k):"],["     pivotIdx <- random index within [left, right]"],["     pivot <- array[pivotIdx]"],["     swap array[left] and array[pivotIdx]"],["     i <- left + 1, j <- right - 1"],["     while i <= j do"],["          while ","i <= j"," and ","array[i] <= pivot"],["               i <- i + 1"],["          end while"],["          while ","i <= j"," and ","array[j] >= pivot"],["               j <- j - 1"],["          end while"],["          if i <= j then"],["               swap array[i] and array[j]"],["               i <- i + 1, j <- j - 1"],["          end if"],["     end while"],["     swap pivot and array[j]"],["     if j equals k - 1 then"],["          return array[j]"],["     if j > k - 1 then"],["          QuickSelect on array, left, j - 1, k"],["     else"],["          QuickSelect on array, j + 1, right, k"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,50,100),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.displayData=[],this.arrayID=[],this.removeCode(this.codeID),this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.codeID=this.addCodeToCanvasBase(this.code,50,100)}},{key:"runCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));if(""!==this.listField.value&&""!==this.kField.value&&t.length<=18&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0){var i=this.kField.value;i>0&&i<=t.length&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.kField.value="",this.implementAction(this.run.bind(this),t,i))}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"run",value:function(t,i){this.commands=[],this.k=Number(i),this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var e=new Map,s=new Map,h=0;h<this.arrayData.length;h++){var a=e.has(this.arrayData[h])?e.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"a"),e.set(this.arrayData[h],a+1)}for(var n=0;n<this.arrayData.length;n++){this.arrayData[n]=parseInt(this.arrayData[n]),this.arrayID[n]=this.nextIndex++;var r=50*n+350,l=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);l+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=l,this.cmd(It.createRectangle,this.arrayID[n],l,50,50,r,120)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}},{key:"helper",value:function(t,i){if(!(t>i)){this.highlight(0,0);for(var e=t;e<=i;e++)this.cmd(It.setBackgroundColor,this.arrayID[e],"#99CCFF");if(this.cmd(It.step),t===i)return this.cmd(It.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(It.step),void this.unhighlight(0,0);var s;if(this.unhighlight(0,0),this.highlight(1,0),this.highlight(2,0),"min"===this.pivotType){for(var h=t,a=t+1;a<=i;a++)this.arrayData[a]<this.arrayData[h]&&(h=a);s=h}else if("first"===this.pivotType)s=t;else if("perfect"===this.pivotType){var n=this.arrayData.slice(t,i+1);n.sort((function(t,i){return t-i}));var r=Math.floor(n.length/2);s=this.arrayData.indexOf(n[r])}else"random"===this.pivotType&&(s=Math.floor(Math.random()*(i-t))+t+1);var l=50*s+350;this.cmd(It.createHighlightCircle,this.pPointerID,"#FFFF00",l,120),this.cmd(It.step),this.unhighlight(1,0),this.unhighlight(2,0),this.highlight(3,0),this.swapPivot(s,t),this.cmd(It.step),this.unhighlight(3,0),this.highlight(4,0);var o=t+1,c=i,d=50*o+350,u=50*c+350;for(this.cmd(It.createHighlightCircle,this.iPointerID,"#0000FF",d,120),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",u,120),this.cmd(It.step),this.unhighlight(4,0),this.highlight(5,0);o<=c;){for(this.cmd(It.step),this.highlight(6,0),this.unhighlight(5,0),this.highlight(6,1),this.cmd(It.step),this.unhighlight(6,0),this.unhighlight(6,1),this.highlight(6,3),this.cmd(It.step);o<=c&&this.arrayData[t]>=this.arrayData[o];)this.unhighlight(6,3),this.highlight(7,0),o++,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(o,c),this.unhighlight(7,0),this.highlight(6,1),o<=c&&(this.cmd(It.step),this.unhighlight(6,1),this.highlight(6,3)),this.cmd(It.step);for(this.unhighlight(6,1),this.unhighlight(6,3),o<=c&&(this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(It.step)),this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.highlight(9,1),o<=c&&(this.cmd(It.step),this.unhighlight(9,1),this.highlight(9,3)),this.cmd(It.step);o<=c&&this.arrayData[t]<=this.arrayData[c];)this.unhighlight(9,3),this.highlight(10,0),c--,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(o,c),this.unhighlight(10,0),this.highlight(9,1),o<=c&&(this.cmd(It.step),this.unhighlight(9,1),this.highlight(9,3)),this.cmd(It.step);this.unhighlight(9,1),this.unhighlight(9,3),o<=c&&(this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(It.step)),o<=c&&(this.highlight(13,0),this.swap(o,c),this.unhighlight(13,0),this.highlight(14,0),o++,c--,this.movePointers(o,c),this.unhighlight(14,0))}this.highlight(17,0),this.swapPivot(t,c,!0),this.unhighlight(17,0),this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.delete,this.pPointerID),this.cmd(It.step);for(var m=t;m<=i;m++)this.cmd(It.setBackgroundColor,this.arrayID[m],"#FFFFFF");this.highlight(18,0),this.cmd(It.step),this.k-1===c?(this.unhighlight(18,0),this.highlight(19,0),this.cmd(It.setBackgroundColor,this.arrayID[c],"#2ECC71"),this.cmd(It.step),this.unhighlight(19,0)):(this.unhighlight(18,0),this.highlight(20,0),this.cmd(It.setBackgroundColor,this.arrayID[c],"#4DA6ff"),this.cmd(It.step),this.k-1<c?(this.unhighlight(20,0),this.highlight(21,0),this.cmd(It.step),this.unhighlight(21,0),this.helper(t,c-1)):(this.unhighlight(20,0),this.highlight(23,0),this.cmd(It.step),this.unhighlight(23,0),this.helper(c+1,i)))}}},{key:"movePointers",value:function(t,i){var e=50*t+350;this.cmd(It.move,this.iPointerID,e,120);var s=50*i+350;this.cmd(It.move,this.jPointerID,s,120),this.cmd(It.step)}},{key:"swapPivot",value:function(t,i,e){if(t!==i){var s=this.nextIndex++,h=50*i+350;this.cmd(It.createLabel,s,this.displayData[i],h,120);var a=this.nextIndex++,n=50*t+350;this.cmd(It.createLabel,a,this.displayData[t],n,120),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.move,a,h,120),this.cmd(It.move,this.pPointerID,h,120),this.cmd(It.move,s,n,120),e&&this.cmd(It.move,this.jPointerID,n,120),this.cmd(It.step),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.delete,a),this.cmd(It.delete,s);var r=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=r,r=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=r}}},{key:"swap",value:function(t,i){var e=this.nextIndex++,s=50*t+350;this.cmd(It.createLabel,e,this.displayData[t],s,120);var h=this.nextIndex++,a=50*i+350;this.cmd(It.createLabel,h,this.displayData[i],a,120),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,120),this.cmd(It.move,h,s,120),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n,this.cmd(It.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(It.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(It.step)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),qi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){var t=this;this.controls=[];var i=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',i);var e=Tt(!0,i);this.listField=Lt("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct();var s=kt(["Random pivot","Min element","First element","Perfect pivot"],"Traversals");this.randomPivotSelect=s[0],this.minPivotSelect=s[1],this.firstPivotSelect=s[2],this.perfectPivotSelect=s[3],this.randomPivotSelect.onclick=function(){return t.pivotType="random"},this.minPivotSelect.onclick=function(){return t.pivotType="min"},this.firstPivotSelect.onclick=function(){return t.pivotType="first"},this.perfectPivotSelect.onclick=function(){return t.pivotType="perfect"},this.randomPivotSelect.checked=!0,this.pivotType="random",this.controls.push(this.randomPivotSelect),this.controls.push(this.perfectPivotSelect),this.controls.push(this.firstPivotSelect),this.controls.push(this.minPivotSelect),Ct()}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure QuickSort(array, left, right):"],["     pivotIdx <- random index within region being sorted"],["     pivot <- array[pivotIdx]"],["     swap array[left] and array[pivotIdx]"],["     i <- left + 1, j <- right - 1"],["     while i <= j do"],["          while ","i <= j"," and ","array[i] <= pivot"],["               i <- i + 1"],["          end while"],["          while ","i <= j"," and ","array[j] >= pivot"],["               j <- j - 1"],["          end while"],["          if i <= j then"],["               swap array[i] and array[j]"],["               i <- i + 1, j <- j - 1"],["          end if"],["     end while"],["     swap pivot and array[j]"],["     QuickSort on array, left, j"],["     QuickSort on array, j + 1, right"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,50,180),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.displayData=[],this.arrayID=[],this.removeCode(this.codeID),this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.codeID=this.addCodeToCanvasBase(this.code,50,180)}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var i=new Map,e=new Map,s=0;s<this.arrayData.length;s++){var h=i.has(this.arrayData[s])?i.get(this.arrayData[s]):0;h>0&&e.set(this.arrayData[s],"a"),i.set(this.arrayData[s],h+1)}for(var a=0;a<this.arrayData.length;a++){this.arrayData[a]=parseInt(this.arrayData[a]),this.arrayID[a]=this.nextIndex++;var n=50*a+100,r=this.arrayData[a].toString();if(e.has(this.arrayData[a])){var l=e.get(this.arrayData[a]);r+=l,e.set(this.arrayData[a],String.fromCharCode(l.charCodeAt(0)+1))}this.displayData[a]=r,this.cmd(It.createRectangle,this.arrayID[a],r,50,50,n,120)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}},{key:"helper",value:function(t,i){if(!(t>i)){this.highlight(0,0);for(var e=t;e<=i;e++)this.cmd(It.setBackgroundColor,this.arrayID[e],"#99CCFF");if(this.cmd(It.step),this.unhighlight(0,0),t===i)return this.cmd(It.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(It.step),void this.unhighlight(0,0);var s;if(this.highlight(1,0),this.highlight(2,0),"min"===this.pivotType){for(var h=t,a=t+1;a<=i;a++)this.arrayData[a]<this.arrayData[h]&&(h=a);s=h}else if("first"===this.pivotType)s=t;else if("perfect"===this.pivotType){var n=this.arrayData.slice(t,i+1);n.sort((function(t,i){return t-i}));var r=Math.floor(n.length/2);s=this.arrayData.indexOf(n[r])}else"random"===this.pivotType&&(s=Math.floor(Math.random()*(i-t))+t+1);var l=50*s+100;this.cmd(It.createHighlightCircle,this.pPointerID,"#FFFF00",l,120),this.cmd(It.step),this.unhighlight(1,0),this.unhighlight(2,0),this.highlight(3,0),this.swapPivot(s,t),this.cmd(It.step),this.unhighlight(3,0),this.highlight(4,0);var o=t+1,c=i,d=50*o+100,u=50*c+100;for(this.cmd(It.createHighlightCircle,this.iPointerID,"#0000FF",d,120),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",u,120),this.cmd(It.step),this.unhighlight(4,0),this.highlight(5,0);o<=c;){for(this.cmd(It.step),this.highlight(6,0),this.unhighlight(5,0),this.highlight(6,1),this.cmd(It.step),this.unhighlight(6,0),this.unhighlight(6,1),this.highlight(6,3),this.cmd(It.step);o<=c&&this.arrayData[t]>=this.arrayData[o];)this.unhighlight(6,3),this.highlight(7,0),o++,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(o,c),this.unhighlight(7,0),this.highlight(6,1),o<=c&&(this.cmd(It.step),this.unhighlight(6,1),this.highlight(6,3)),this.cmd(It.step);for(this.unhighlight(6,1),this.unhighlight(6,3),o<=c&&(this.cmd(It.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount)),this.highlight(9,0),this.cmd(It.step),this.unhighlight(9,0),this.highlight(9,1),o<=c&&(this.cmd(It.step),this.unhighlight(9,1),this.highlight(9,3)),this.cmd(It.step);o<=c&&this.arrayData[t]<=this.arrayData[c];)this.unhighlight(9,3),this.highlight(10,0),c--,this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(o,c),this.unhighlight(10,0),this.highlight(9,1),o<=c&&(this.cmd(It.step),this.unhighlight(9,1),this.highlight(9,3)),this.cmd(It.step);this.unhighlight(9,1),this.unhighlight(9,3),o<=c&&(this.cmd(It.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.step)),o<=c&&(this.highlight(13,0),this.swap(o,c),this.unhighlight(13,0),this.highlight(14,0),o++,c--,this.movePointers(o,c),this.unhighlight(14,0))}this.highlight(17,0),this.swapPivot(t,c,!0),this.unhighlight(17,0),this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.delete,this.pPointerID),this.cmd(It.step);for(var m=t;m<=i;m++)this.cmd(It.setBackgroundColor,this.arrayID[m],"#FFFFFF");this.cmd(It.setBackgroundColor,this.arrayID[c],"#2ECC71"),this.cmd(It.step),this.highlight(18,0),this.cmd(It.step),this.unhighlight(18,0),this.helper(t,c-1),this.highlight(19,0),this.cmd(It.step),this.unhighlight(19,0),this.helper(c+1,i)}}},{key:"movePointers",value:function(t,i){var e=50*t+100;this.cmd(It.move,this.iPointerID,e,120);var s=50*i+100;this.cmd(It.move,this.jPointerID,s,120),this.cmd(It.step)}},{key:"swapPivot",value:function(t,i,e){if(t!==i){var s=this.nextIndex++,h=50*i+100;this.cmd(It.createLabel,s,this.displayData[i],h,120);var a=this.nextIndex++,n=50*t+100;this.cmd(It.createLabel,a,this.displayData[t],n,120),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.move,a,h,120),this.cmd(It.move,this.pPointerID,h,120),this.cmd(It.move,s,n,120),e&&this.cmd(It.move,this.jPointerID,n,120),this.cmd(It.step),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.delete,a),this.cmd(It.delete,s);var r=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=r,r=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=r}}},{key:"swap",value:function(t,i){var e=this.nextIndex++,s=50*t+100;this.cmd(It.createLabel,e,this.displayData[t],s,120);var h=this.nextIndex++,a=50*i+100;this.cmd(It.createLabel,h,this.displayData[i],a,120),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,120),this.cmd(It.move,h,s,120),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n,this.cmd(It.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(It.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(It.step)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Wi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],xt("Text"),this.textField=Lt("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),xt("Pattern"),this.patternField=Lt("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.baseField=Lt("Base",""),this.baseField.onkeydown=this.returnSubmit(this.baseField,this.findCallback.bind(this),4,!0),this.controls.push(this.baseField),this.baseButton=Lt("Button","Change Base"),this.baseButton.onclick=this.baseCallback.bind(this),this.controls.push(this.baseButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.commands=[],this.textRowID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++,this.baseValue=1,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"",575,30,0),this.code=[["procedure RabinKarp(text, pattern)"],["     m <- length of pattern, n <- length of text"],["     patternHash \u2190 rolling hash of pattern"],["     textHash \u2190 rolling hash of first m characters of text"],["     i <- 0"],["     while i <= n - m"],["          if patternHash = textHash"],["               j <- 0"],["               while j < m and text[i + j] = pattern[j]"],["                    j <- j + 1"],["               if j = m"],["                    match found at i"],["          i <- i + 1"],["          if i <= n - m"],["               textHash <- new hash of text, from i to i + m"],["end procedure"]],this.codeID=[],this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.textRowID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.codeID=[]}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this));var t=this.textField.value,i=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t,i)}}},{key:"baseCallback",value:function(){var t=parseInt(this.baseField.value);""!==this.baseField.value&&0!==t&&(this.baseField.value="",this.baseValue=t)}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"find",value:function(t,i){this.commands=[],t=t.replace(/[^a-zA-Z]/g,"").toLowerCase(),i=i.replace(/[^a-zA-Z]/g,"").toLowerCase();var e,s,h=t.length-i.length+1;this.cellSize=h<=14?30:h<=17?25:20,this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(h);for(var a=0;a<h;a++)this.comparisonMatrixID[a]=new Array(t.length);for(var n=0;n<t.length;n++)e=n*this.cellSize+100,s=30,this.textRowID[n]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex,t.charAt(n),this.cellSize,this.cellSize,e,s),this.cmd(It.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(var r=0;r<h;r++)for(var l=0;l<t.length;l++)e=l*this.cellSize+100,s=(r+1)*this.cellSize+30,this.comparisonMatrixID[r][l]=this.nextIndex,this.cmd(It.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,e,s);var o=100+t.length*this.cellSize+10;this.cmd(It.createLabel,this.baseLabelID,"Base constant = ".concat(this.baseValue),o,45,0),this.cmd(It.createLabel,this.characterValuesLabelID,"Character values: a = 0, b = 1, ..., z = 25",o,60,0),this.cmd(It.createLabel,this.textHashLabelID,"Text hash:",o,100,0),this.cmd(It.createLabel,this.patternHashLabelID,"Pattern hash:",o,115,0),this.cmd(It.move,this.comparisonCountID,o,30),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.codeID=this.addCodeToCanvasBase(this.code,o,180);for(var c="",d=0,u="",m=0,g=Math.pow(this.baseValue,i.length-1),p=g,I=0;I<i.length;I++)d+=(t.charCodeAt(I)-97)*p,c+="(".concat(t.charAt(I)," * ").concat(p,") + "),m+=(i.charCodeAt(I)-97)*p,u+="(".concat(i.charAt(I)," * ").concat(p,") + "),p/=this.baseValue;c=c.substring(0,c.length-2)+" = "+d,u=u.substring(0,u.length-2)+" = "+m;var f=100+t.length*this.cellSize+100;this.cmd(It.createLabel,this.textHashCalculationID,c,f,100,0),this.cmd(It.createLabel,this.patternHashCalculationID,u,f,115,0);var b=this.nextIndex++,D=this.nextIndex++;this.highlight(2,0),this.cmd(It.step),this.unhighlight(2,0),this.highlight(3,0),this.cmd(It.step),this.unhighlight(3,0),this.highlight(5,0);for(var v=0,x=0;x<=t.length-i.length;x++){for(var y=x;y<x+i.length;y++)this.cmd(It.setText,this.comparisonMatrixID[v][y],i.charAt(y-x),e,s);if(this.cmd(It.step),this.highlight(6,0),this.cmd(It.step),m===d){this.unhighlight(6,0),this.highlight(7,0),e=x*this.cellSize+100,this.cmd(It.createHighlightCircle,b,"#0000FF",e,30),s=(v+1)*this.cellSize+30,this.cmd(It.createHighlightCircle,D,"#0000FF",e,s),this.cmd(It.step),this.unhighlight(7,0),this.highlight(8,0),this.cmd(It.step);for(var k=0;k<i.length&&i.charAt(k)===t.charAt(x+k);)this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[v][x+k],"#2ECC71"),k++,this.highlight(9,0),k!==i.length&&(e=(x+k)*this.cellSize+100,this.cmd(It.move,b,e,30),s=(v+1)*this.cellSize+30,this.cmd(It.move,D,e,s)),this.cmd(It.step),this.unhighlight(9,0);this.unhighlight(8,0),this.highlight(10,0),this.cmd(It.step),this.unhighlight(10,0),k!==i.length?(this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.setBackgroundColor,this.comparisonMatrixID[v][x+k],"#E74C3C")):(this.highlight(11,0),this.cmd(It.step),this.unhighlight(11,0)),this.cmd(It.delete,b),this.cmd(It.delete,D),this.cmd(It.step)}else{for(var L=x;L<x+i.length;L++)this.cmd(It.setBackgroundColor,this.comparisonMatrixID[v][L],"#FFFF4D");this.unhighlight(6,0),this.cmd(It.step)}if(this.highlight(12,0),this.cmd(It.step),this.unhighlight(12,0),this.highlight(13,0),this.cmd(It.step),this.unhighlight(13,0),x<t.length-i.length){this.highlight(14,0),d=this.baseValue*(d-g*(t.charCodeAt(x)-97))+(t.charCodeAt(x+i.length)-97),c="",p=g;for(var C=0;C<i.length;C++)c+="(".concat(t.charAt(C+x+1)," * ").concat(p,") + "),p/=this.baseValue;c=c.substring(0,c.length-2)+" = "+d,this.cmd(It.setText,this.textHashCalculationID,c),this.cmd(It.step),this.unhighlight(14,0)}v++}return this.unhighlight(5,0),this.commands}},{key:"clear",value:function(){this.commands=[],0!==this.textRowID.length&&(this.cmd(It.delete,this.baseLabelID),this.cmd(It.delete,this.characterValuesLabelID),this.cmd(It.delete,this.textHashLabelID),this.cmd(It.delete,this.textHashCalculationID),this.cmd(It.delete,this.patternHashLabelID),this.cmd(It.delete,this.patternHashCalculationID));for(var t=0;t<this.textRowID.length;t++)this.cmd(It.delete,this.textRowID[t]);this.textRowID=[];for(var i=0;i<this.comparisonMatrixID.length;i++)for(var e=0;e<this.comparisonMatrixID[i].length;e++)this.cmd(It.delete,this.comparisonMatrixID[i][e]);return this.comparisonMatrixID=[],this.compCount=0,this.cmd(It.setText,this.comparisonCountID,""),this.removeCode(this.codeID),this.codeID=[],this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Gi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),Ct();var e=kt(["Min","Max"],"Min/Max");this.minButton=e[0],this.minButton.onclick=this.minCallback.bind(this),this.controls.push(this.minButton),this.minButton.checked=!0,this.maxButton=e[1],this.maxButton.onclick=this.maxCallback.bind(this),this.controls.push(this.maxButton),this.isMin=!0}},{key:"setup",value:function(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(It.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.code=[["procedure SelectionSort(array):"],["     length <- length of array"],["     for i <- 0, length do"],["          min <- i"],["          for j <- i + 1, length do"],["               if array[j] < array[min]"],["                    min <- j"],["               end if"],["          end for"],["          swap array[min], array[i]"],["     end for"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,50,200),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.displayData=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.codeID=this.addCodeToCanvasBase(this.code,50,200),this.isMin||(this.cmd(It.setText,this.codeID[2][0],"     for i <- length - 1, 0 do"),this.cmd(It.setText,this.codeID[3][0],"          max <- i"),this.cmd(It.setText,this.codeID[4][0],"          for j <- i - 1, 0 do"),this.cmd(It.setText,this.codeID[5][0],"               if array[j] > array[max]"),this.cmd(It.setText,this.codeID[5][0],"                    max <- j"),this.cmd(It.setText,this.codeID[9][0],"          swap array[max], array[i]"))}},{key:"minCallback",value:function(){this.isMin||(this.implementAction(this.clear.bind(this)),this.cmd(It.setText,this.codeID[2][0],"     for i <- 0, length do"),this.cmd(It.setText,this.codeID[3][0],"          min <- i"),this.cmd(It.setText,this.codeID[4][0],"          for j <- i + 1, length do"),this.cmd(It.setText,this.codeID[5][0],"               if array[j] < array[min]"),this.cmd(It.setText,this.codeID[6][0],"                    min <- j"),this.cmd(It.setText,this.codeID[9][0],"          swap array[min], array[i]"),this.isMin=!0)}},{key:"maxCallback",value:function(){this.isMin&&(this.implementAction(this.clear.bind(this)),this.cmd(It.setText,this.codeID[2][0],"     for i <- length - 1, 0 do"),this.cmd(It.setText,this.codeID[3][0],"          max <- i"),this.cmd(It.setText,this.codeID[4][0],"          for j <- i - 1, 0 do"),this.cmd(It.setText,this.codeID[5][0],"               if array[j] > array[max]"),this.cmd(It.setText,this.codeID[6][0],"                    max <- j"),this.cmd(It.setText,this.codeID[9][0],"          swap array[max], array[i]"),this.isMin=!1)}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.displayData=[],this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}},{key:"sort",value:function(t){this.commands=[],this.highlight(0,0),this.arrayID=[],this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,18);var i=this.arrayData.length;this.displayData=new Array(i);for(var e=new Map,s=new Map,h=0;h<i;h++){var a=e.has(this.arrayData[h])?e.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"a"),e.set(this.arrayData[h],a+1)}for(var n=0;n<i;n++){this.arrayID[n]=this.nextIndex++;var r=50*n+100,l=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);l+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=l,this.cmd(It.createRectangle,this.arrayID[n],l,50,50,r,130)}var c=0;this.isMin||(c=50*(this.arrayData.length-1)),this.cmd(It.createHighlightCircle,this.iPointerID,"#FF0000",100+c,130),c=50,this.isMin||(c=50*(this.arrayData.length-2)),this.cmd(It.setHighlight,this.iPointerID,1),this.cmd(It.createHighlightCircle,this.jPointerID,"#0000FF",100+c,130),this.cmd(It.step),this.unhighlight(0,0),this.cmd(It.setHighlight,this.jPointerID,1),this.highlight(2,0),this.cmd(It.step),this.unhighlight(2,0);for(var d=0;d<this.arrayData.length-1;d++){this.highlight(3,0);var u=d;this.isMin||(u=this.arrayData.length-1-d);var m=u;this.cmd(It.setBackgroundColor,this.arrayID[m],"#FFFF00"),this.cmd(It.step),this.unhighlight(3,0),this.highlight(4,0),this.cmd(It.step);for(var g=d+1;g<this.arrayData.length;g++){this.unhighlight(4,0);var p=g;this.isMin||(p=this.arrayData.length-1-g),this.movePointers(m,p),this.compare(this.arrayData[p],this.arrayData[m])&&(this.cmd(It.setBackgroundColor,this.arrayID[m],"#FFFFFF"),this.highlight(6,0),this.cmd(It.step),m=p,this.movePointers(m,p),this.cmd(It.setBackgroundColor,this.arrayID[m],"#FFFF00"),this.cmd(It.step),this.unhighlight(6,0))}this.swap(u,m),this.cmd(It.setBackgroundColor,this.arrayID[m],"#FFFFFF"),this.cmd(It.step),this.cmd(It.setBackgroundColor,this.arrayID[u],"#2ECC71"),this.cmd(It.step)}this.cmd(It.delete,this.iPointerID),this.cmd(It.delete,this.jPointerID),this.cmd(It.step);var I=this.arrayID.length-1;return this.isMin||(I=0),this.cmd(It.setBackgroundColor,this.arrayID[I],"#2ECC71"),this.commands}},{key:"compare",value:function(t,i){return this.highlight(5,0),this.cmd(It.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(It.step),this.unhighlight(5,0),this.isMin?t<i:t>i}},{key:"movePointers",value:function(t,i){var e=50*t+100;this.cmd(It.move,this.iPointerID,e,130);var s=50*i+100;this.cmd(It.move,this.jPointerID,s,130),this.cmd(It.step)}},{key:"swap",value:function(t,i){this.highlight(9,0);var e=this.nextIndex++,s=50*t+100;this.cmd(It.createLabel,e,this.displayData[t],s,130);var h=this.nextIndex++,a=50*i+100;this.cmd(It.createLabel,h,this.displayData[i],a,130),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.setText,this.arrayID[i],""),this.cmd(It.move,e,a,130),this.cmd(It.move,h,s,130),this.cmd(It.step),this.cmd(It.setText,this.arrayID[t],this.displayData[i]),this.cmd(It.setText,this.arrayID[i],this.displayData[t]),this.cmd(It.delete,e),this.cmd(It.delete,h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[i],this.arrayData[i]=n,n=this.displayData[t],this.displayData[t]=this.displayData[i],this.displayData[i]=n,this.unhighlight(9,0)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Yi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1),i=Tt(!0,t),e=Tt(!0,t);Ct();var s=Tt(!1),h=Tt(!0,s),a=Tt(!0,s);xt("Add",i),this.addValueField=Lt("Text","",i),this.addValueField.setAttribute("placeholder","Value"),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.addValueField),xt("with",i),this.headsField=Lt("Text","",i),this.headsField.setAttribute("placeholder","#"),this.headsField.onkeydown=this.returnSubmit(this.headsField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.headsField),xt("heads (Max 4)",i),this.addWithHeadsButton=Lt("Button","Add",e),this.addWithHeadsButton.onclick=this.addWithHeadsCallback.bind(this),this.controls.push(this.addWithHeadsButton),xt("Add",h),this.addValueFieldRandom=Lt("Text","",h),this.addValueFieldRandom.setAttribute("placeholder","Value"),this.addValueFieldRandom.onkeydown=this.returnSubmit(this.addValueFieldRandom,this.addRandomlyCallback.bind(this),4,!0),this.controls.push(this.addValueFieldRandom),xt("with random coin flip",h),this.addRandomlyButton=Lt("Button","Add",a),this.addRandomlyButton.onclick=this.addRandomlyCallback.bind(this),this.controls.push(this.addRandomlyButton),Ct(),this.removeField=Lt("Text",""),this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeButton=Lt("Button","Remove"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),Ct(),this.getField=Lt("Text",""),this.getField.onkeydown=this.returnSubmit(this.getField,this.getCallback.bind(this),4,!0),this.controls.push(this.getField),this.getButton=Lt("Button","Get"),this.getButton.onclick=this.getCallback.bind(this),this.controls.push(this.getButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.commands=[],this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.cmd(It.createSkipListNode,this.nodeID[0][0],"\u2212\u221e",40,40,100,400),this.cmd(It.createSkipListNode,this.nodeID[1][0],"\u221e",40,40,180,400),this.cmd(It.connectSkipList,this.nodeID[0][0],this.nodeID[1][0],3),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0}},{key:"addRandomlyCallback",value:function(){if(""!==this.addValueFieldRandom.value){var t=parseInt(this.addValueFieldRandom.value);this.addValueFieldRandom.value="",this.headsField.value="",this.implementAction(this.add.bind(this),t)}}},{key:"addWithHeadsCallback",value:function(){if(""!==this.addValueField.value&&""!==this.headsField.value){var t=parseInt(this.addValueField.value);this.addValueField.value="";var i=parseInt(this.headsField.value);this.headsField.value="",this.implementAction(this.add.bind(this),t,i)}}},{key:"removeCallback",value:function(){if(""!==this.removeField.value){var t=parseInt(this.removeField.value);this.removeField.value="",this.implementAction(this.remove.bind(this),t)}}},{key:"getCallback",value:function(){if(""!==this.getField.value){var t=parseInt(this.getField.value);this.getField.value="",this.implementAction(this.get.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"add",value:function(t,i){this.commands=[],void 0===i&&(i=Math.floor(Math.random()*(this.size+1))),i=Math.min(i,4);for(var e=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++,n=this.nextIndex++,r="",l=0;l<i;l++)r+="H";r+="T",this.cmd(It.createLabel,e,"Value to add:",50,23),this.cmd(It.createLabel,s,t,120,23),this.cmd(It.createLabel,h,"Coin Flipper:",50,37),this.cmd(It.createLabel,a,r,120,37),this.cmd(It.createLabel,n,"",250,30),this.cmd(It.step);for(var o=this.nodeID[0].length;o<=i;o++){var c=this.nodeID.length-1;this.data[0][o]=Number.NEGATIVE_INFINITY,this.nodeID[0][o]=this.nextIndex++,this.cmd(It.createSkipListNode,this.nodeID[0][o],"\u2212\u221e",40,40,100,400-80*o),this.data[c][o]=Number.POSITIVE_INFINITY,this.nodeID[c][o]=this.nextIndex++,this.cmd(It.createSkipListNode,this.nodeID[c][o],"\u221e",40,40,100+80*c,400-80*o),this.cmd(It.connectSkipList,this.nodeID[0][o],this.nodeID[c][o],3),this.cmd(It.connectSkipList,this.nodeID[0][o-1],this.nodeID[0][o],0),this.cmd(It.connectSkipList,this.nodeID[c][o-1],this.nodeID[c][o],0),this.cmd(It.step)}for(var d=1;t>this.data[d][0];)d++;if(t!==this.data[d][0]){for(var u=this.nodeID.length-1;u>=d;u--)this.nodeID[u+1]=this.nodeID[u],this.data[u+1]=this.data[u];this.nodeID[d]=[],this.data[d]=[]}var m=0,g=this.nodeID[0].length-1,p=this.nextIndex++;this.cmd(It.createHighlightCircle,p,"#FF0000",100,400-80*g),this.cmd(It.setHighlight,p,1),this.cmd(It.step);for(var I=!1;g>=0;){var f=this.getNextCol(m,g);if(t===this.data[f][g]){m=f,I=!0;break}for(;t>this.data[f][g];)this.cmd(It.move,p,100+80*f,400-80*g),this.cmd(It.step),m=f,f=this.getNextCol(m,g);if(t===this.data[f][g]){m=f,I=!0;break}--g>=0&&(this.cmd(It.move,p,100+80*m,400-80*g),this.cmd(It.step))}for(I?(this.cmd(It.move,p,100+80*m,400-80*g),this.cmd(It.step),this.cmd(It.setText,n,"Duplicate found!"),this.cmd(It.step)):this.shiftColumns(d),g++,this.cmd(It.createCircle,this.nextIndex++,"",-100,-100,0);g<=i;){this.cmd(It.setText,n,"Adding data"),this.cmd(It.step),this.data[d][g]=t,this.nodeID[d][g]=this.nextIndex++,this.cmd(It.createSkipListNode,this.nodeID[d][g],t,40,40,100+80*d,400-80*g);var b=this.getPrevCol(d,g),D=this.getNextCol(d,g);this.cmd(It.disconnect,this.nodeID[b][g],this.nodeID[D][g]),this.cmd(It.connectSkipList,this.nodeID[b][g],this.nodeID[d][g],3),this.cmd(It.connectSkipList,this.nodeID[d][g],this.nodeID[D][g],3),0!==g&&this.cmd(It.connectSkipList,this.nodeID[d][g-1],this.nodeID[d][g],0),this.cmd(It.step),this.cmd(It.move,p,100+80*d,400-80*g),this.cmd(It.step),g++}return this.cmd(It.delete,e),this.cmd(It.delete,s),this.cmd(It.delete,h),this.cmd(It.delete,a),this.cmd(It.delete,p),this.cmd(It.delete,n),this.size++,this.commands}},{key:"remove",value:function(t){this.commands=[];var i=parseInt(t),e=this.nextIndex++,s=this.nextIndex++;this.cmd(It.createLabel,e,"Value to remove:",50,23),this.cmd(It.createLabel,s,i,120,23),this.cmd(It.step);var h=0,a=this.nodeID[0].length-1,n=-1,r=this.nextIndex++;for(this.cmd(It.createHighlightCircle,r,"#FF0000",100,400-80*a),this.cmd(It.step);a>=0;){for(var l=this.getNextCol(h,a);i>this.data[l][a];)this.cmd(It.move,r,100+80*l,400-80*a),this.cmd(It.step),h=l,l=this.getNextCol(h,a);if(i===this.data[l][a])for(n=l,h=l,this.cmd(It.move,r,100+80*h,400-80*a),this.cmd(It.step);a>=0;){l=this.getNextCol(h,a);var o=this.getPrevCol(h,a);this.cmd(It.disconnect,this.nodeID[o][a],this.nodeID[h][a]),this.cmd(It.disconnect,this.nodeID[h][a],this.nodeID[l][a]),null!=this.nodeID[h][a+1]&&this.cmd(It.disconnect,this.nodeID[h][a+1],this.nodeID[h][a]),this.cmd(It.connectSkipList,this.nodeID[o][a],this.nodeID[l][a],3),this.cmd(It.delete,this.nodeID[h][a]),this.cmd(It.step),-1!==--a&&(this.cmd(It.move,r,100+80*h,400-80*a),this.cmd(It.step))}else-1!==--a&&(this.cmd(It.move,r,100+80*h,400-80*a),this.cmd(It.step))}if(this.cmd(It.delete,e),this.cmd(It.delete,s),this.cmd(It.delete,r),-1!==n){for(var c=n;c<this.nodeID.length-1;c++)this.nodeID[c]=this.nodeID[c+1],this.data[c]=this.data[c+1];this.nodeID.pop(),this.data.pop(),this.shiftColumns(n)}for(var d=1,u=1;u<this.nodeID.length-1;u++)d=Math.max(d,this.nodeID[u].length);for(var m=this.nodeID[0].length-1;m>=d;m--){this.data[0].pop();var g=this.nodeID[0].pop();this.cmd(It.delete,g);var p=this.nodeID.length-1;this.data[p].pop();var I=this.nodeID[p].pop();this.cmd(It.delete,I)}return this.cmd(It.step),this.size--,this.commands}},{key:"get",value:function(t){this.commands=[];var i=parseInt(t),e=0,s=this.nodeID[0].length-1,h=this.nextIndex++;for(this.cmd(It.createHighlightCircle,h,"#FF0000",100,400-80*s),this.cmd(It.setHighlight,h,1),this.cmd(It.step);s>=0&&i!==this.data[e][s];){for(var a=this.getNextCol(e,s);i>=this.data[a][s];)this.cmd(It.move,h,100+80*a,400-80*s),this.cmd(It.step),e=a,a=this.getNextCol(e,s);i!==this.data[e][s]&&(s--,this.cmd(It.move,h,100+80*e,400-80*s),this.cmd(It.step))}return this.cmd(It.delete,h),this.commands}},{key:"shiftColumns",value:function(t){for(;t<this.nodeID.length;t++)for(var i=0;i<this.nodeID[t].length;i++)null!=this.nodeID[t][i]&&this.cmd(It.move,this.nodeID[t][i],100+80*t,400-80*i);this.cmd(It.step)}},{key:"getNextCol",value:function(t,i){for(t++;null==this.data[t][i];)t++;return t}},{key:"getPrevCol",value:function(t,i){for(t--;null==this.data[t][i];)t--;return t}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.nodeID.length;t++)for(var i=0;i<this.nodeID[t].length;i++)this.cmd(It.delete,this.nodeID[t][i]);return this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.cmd(It.createSkipListNode,this.nodeID[0][0],"\u2212\u221e",40,40,100,400),this.cmd(It.createSkipListNode,this.nodeID[1][0],"\u221e",40,40,180,400),this.cmd(It.connectSkipList,this.nodeID[0][0],this.nodeID[1][0],3),this.cmd(It.step),this.commands}}]),i}(Ft),Ui=20,Qi=function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).startingX=e/2,h.first_print_pos_y=s-2*Ui,h.print_max=e-10,h.addControls(),h.nextIndex=0,h.commands=[],h.cmd(It.createLabel,0,"",20,10,0),h.nextIndex=1,h.animationManager.startNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.insertField=Lt("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Lt("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),Ct(),this.deleteField=Lt("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Lt("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),Ct(),this.findField=Lt("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Lt("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ct(),this.printButton=Lt("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"reset",value:function(){this.nextIndex=1,this.treeRoot=null}},{key:"insertCallback",value:function(){var t=this.insertField.value;""!==(t=this.normalizeNumber(t,4))&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t)))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),parseInt(t)))}},{key:"splay",value:function(t){return null!=this.treeRoot&&(this.treeRoot.data===t||(t<this.treeRoot.data?null!=this.treeRoot.left&&(this.treeRoot.left.data===t?(this.singleRotateRight(this.treeRoot),!0):t<this.treeRoot.left.data?null==this.treeRoot.left.left?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.zigZigRight(this.treeRoot),this.splay(t)):null==this.treeRoot.left.right?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.doubleRotateRight(this.treeRoot),this.splay(t))):null!=this.treeRoot.right&&(this.treeRoot.right.data===t?(this.singleRotateLeft(this.treeRoot),!0):t>this.treeRoot.right.data?null==this.treeRoot.right.right?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.zigZigLeft(this.treeRoot),this.splay(t)):null==this.treeRoot.right.left?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.doubleRotateLeft(this.treeRot),this.splay(t)))))}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this))}},{key:"printTree",value:function(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd(It.createHighlightCircle,this.highlightID,"#007700",this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(It.delete,this.highlightID),this.cmd(It.step);for(var i=t;i<this.nextIndex;i++)this.cmd(It.delete,i);this.nextIndex=this.highlightID}return this.commands}},{key:"printTreeRec",value:function(t){this.cmd(It.step),null!=t.left&&(this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step));var i=this.nextIndex++;this.cmd(It.createLabel,i,t.data,t.x,t.y),this.cmd(It.setForegroundColor,i,"#007700"),this.cmd(It.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(It.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=Ui),null!=t.right&&(this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(It.move,this.highlightID,t.x,t.y),this.cmd(It.step))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"clear",value:function(){return this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}},{key:"recClear",value:function(t){null!=t&&(this.cmd(It.delete,t.graphicID),this.recClear(t.left),this.recClear(t.right))}},{key:"findCallback",value:function(){var t=this.normalizeNumber(this.findField.value,4);this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))}},{key:"findElement",value:function(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t)?this.cmd(It.setText,0,"Element "+t+" found."):this.cmd(It.setText,0,"Element "+t+" not found."),this.commands}},{key:"doFind",value:function(t,i){return this.cmd(It.setText,0,"Searching for "+i),null!=t?(this.cmd(It.setHighlight,t.graphicID,1),t.data===i?(this.cmd(It.setText,0,"Searching for "+i+" : "+i+" = "+i+" (Element found!)"),this.cmd(It.step),this.cmd(It.setText,0,"Splaying found node to root of tree"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),this.splayUp(t),!0):t.data>i?(this.cmd(It.setText,0,"Searching for "+i+" : "+i+" < "+t.data+" (look to left subtree)"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),null!=t.left?(this.cmd(It.createHighlightCircle,this.highlightID,"#007700",t.x,t.y),this.cmd(It.move,this.highlightID,t.left.x,t.left.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID),this.doFind(t.left,i)):(this.splayUp(t),!1)):(this.cmd(It.setText,0,"Searching for "+i+" : "+i+" > "+t.data+" (look to right subtree)"),this.cmd(It.step),this.cmd(It.setHighlight,t.graphicID,0),null!=t.right?(this.cmd(It.createHighlightCircle,this.highlightID,"#007700",t.x,t.y),this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID),this.doFind(t.right,i)):(this.splayUp(t),!1))):(this.cmd(It.setText,0,"Searching for "+i+" : < Empty Tree > (Element not found)"),this.cmd(It.step),this.cmd(It.setText,0,"Searching for "+i+" :  (Element not found)"),!1)}},{key:"insertElement",value:function(t){if(this.commands=[],this.cmd(It.setText,0,"Inserting "+t),this.highlightID=this.nextIndex++,null==this.treeRoot)this.cmd(It.createCircle,this.nextIndex,t,this.startingX,50),this.cmd(It.setForegroundColor,this.nextIndex,"#007700"),this.cmd(It.setBackgroundColor,this.nextIndex,"#EEFFEE"),this.cmd(It.step),this.treeRoot=new Ji(t,this.nextIndex,this.startingX,50),this.nextIndex+=1;else{this.cmd(It.createCircle,this.nextIndex,t,100,100),this.cmd(It.setForegroundColor,this.nextIndex,"#007700"),this.cmd(It.setBackgroundColor,this.nextIndex,"#EEFFEE"),this.cmd(It.step);var i=new Ji(t,this.nextIndex,100,100);this.nextIndex+=1,this.cmd(It.setHighlight,i.graphicID,1),this.insert(i,this.treeRoot),this.resizeTree(),this.cmd(It.setText,0,"Splay inserted element to root of tree"),this.cmd(It.step),this.splayUp(i)}return this.cmd(It.setText,0,""),this.commands}},{key:"insert",value:function(t,i){var e=!1;this.cmd(It.setHighlight,i.graphicID,1),this.cmd(It.setHighlight,t.graphicID,1),t.data<i.data?this.cmd(It.setText,0,t.data+" < "+i.data+".  Looking at left subtree"):t.data>i.data?this.cmd(It.setText,0,t.data+" >= "+i.data+".  Looking at right subtree"):(this.cmd(It.setText,0,t.data+" = "+i.data+". Ignoring duplicate"),e=!0),this.cmd(It.step),this.cmd(It.setHighlight,i.graphicID,0),this.cmd(It.setHighlight,t.graphicID,0),e?this.cmd(It.delete,t.graphicID,0):t.data<i.data?null==i.left?(this.cmd(It.setText,0,"Found null tree, inserting element"),this.cmd(It.setHighlight,t.graphicID,0),i.left=t,t.parent=i,this.cmd(It.connect,i.graphicID,t.graphicID,"#007700")):(this.cmd(It.createHighlightCircle,this.highlightID,"#007700",i.x,i.y),this.cmd(It.move,this.highlightID,i.left.x,i.left.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID),this.insert(t,i.left)):null==i.right?(this.cmd(It.setText,0,"Found null tree, inserting element"),this.cmd(It.setHighlight,t.graphicID,0),i.right=t,t.parent=i,this.cmd(It.connect,i.graphicID,t.graphicID,"#007700"),t.x=i.x+25,t.y=i.y+50,this.cmd(It.move,t.graphicID,t.x,t.y)):(this.cmd(It.createHighlightCircle,this.highlightID,"#007700",i.x,i.y),this.cmd(It.move,this.highlightID,i.right.x,i.right.y),this.cmd(It.step),this.cmd(It.delete,this.highlightID),this.insert(t,i.right))}},{key:"deleteElement",value:function(t){return this.commands=[],this.cmd(It.setText,0,"Deleting "+t),this.cmd(It.step),this.cmd(It.setText,0,""),this.highlightID=this.nextIndex++,this.treeDelete(this.treeRoot,t),this.cmd(It.setText,0,""),this.commands}},{key:"treeDelete",value:function(t,i){this.cmd(It.setText,0,"Finding "+i+" and splaying to rooot"),this.cmd(It.step);var e=this.doFind(this.treeRoot,i);if(this.cmd(It.setText,0,"Removing root, leaving left and right trees"),this.cmd(It.step),e)if(null==this.treeRoot.right)this.cmd(It.delete,this.treeRoot.graphicID),this.cmd(It.setText,0,"No right tree, make left tree the root."),this.cmd(It.step),this.treeRoot=this.treeRoot.left,this.treeRoot.parent=null,this.resizeTree();else if(null==this.treeRoot.left)this.cmd(It.delete,this.treeRoot.graphicID),this.cmd(It.setText,0,"No left tree, make right tree the root."),this.cmd(It.step),this.treeRoot=this.treeRoot.right,this.treeRoot.parent=null,this.resizeTree();else{var s=this.treeRoot.right,h=this.treeRoot.left,a=this.treeRoot.graphicID;this.cmd(It.disconnect,this.treeRoot.graphicID,h.graphicID),this.cmd(It.disconnect,this.treeRoot.graphicID,s.graphicID),this.cmd(It.setAlpha,this.treeRoot.graphicID,0),this.cmd(It.setText,0,"Splay largest element in left tree to root"),this.cmd(It.step),h.parent=null;var n=this.findMax(h);this.splayUp(n),this.cmd(It.setText,0,"Left tree now has no right subtree, connect left and right trees"),this.cmd(It.step),this.cmd(It.connect,n.graphicID,s.graphicID,"#007700"),n.parent=null,n.right=s,s.parent=n,this.treeRoot=n,this.cmd(It.delete,a),this.resizeTree()}}},{key:"singleRotateRight",value:function(t){var i=t,e=t.left,s=e.right;this.cmd(It.setText,0,"Zig Right"),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,1),this.cmd(It.step),null!=s&&(this.cmd(It.disconnect,e.graphicID,s.graphicID),this.cmd(It.connect,i.graphicID,s.graphicID,"#007700"),s.parent=i),this.cmd(It.disconnect,i.graphicID,e.graphicID),this.cmd(It.connect,e.graphicID,i.graphicID,"#007700"),e.parent=i.parent,null==i.parent?this.treeRoot=e:(this.cmd(It.disconnect,i.parent.graphicID,i.graphicID,"#007700"),this.cmd(It.connect,i.parent.graphicID,e.graphicID,"#007700"),i.isLeftChild()?i.parent.left=e:i.parent.right=e),e.right=i,i.parent=e,i.left=s,this.resizeTree()}},{key:"zigZigRight",value:function(t){var i=t,e=t.left,s=t.left.left,h=s.right,a=e.right;this.cmd(It.setText,0,"Zig-Zig Right"),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,1),this.cmd(It.setEdgeHighlight,e.graphicID,s.graphicID,1),this.cmd(It.step),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,0),this.cmd(It.setEdgeHighlight,e.graphicID,s.graphicID,0),null!=i.parent?(this.cmd(It.disconnect,i.parent.graphicID,i.graphicID),this.cmd(It.connect,i.parent.graphicID,s.graphicID,"#007700"),i.isLeftChild()?i.parent.left=s:i.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd(It.disconnect,s.graphicID,h.graphicID),this.cmd(It.connect,e.graphicID,h.graphicID,"#007700"),h.parent=e),null!=a&&(this.cmd(It.disconnect,e.graphicID,a.graphicID),this.cmd(It.connect,i.graphicID,a.graphicID,"#007700"),a.parent=i),this.cmd(It.disconnect,e.graphicID,s.graphicID),this.cmd(It.connect,s.graphicID,e.graphicID,"#007700"),this.cmd(It.disconnect,i.graphicID,e.graphicID),this.cmd(It.connect,e.graphicID,i.graphicID,"#007700"),s.right=e,s.parent=i.parent,e.parent=s,e.left=h,e.right=i,i.parent=e,i.left=a,this.resizeTree()}},{key:"zigZigLeft",value:function(t){var i=t,e=t.right,s=t.right.right,h=e.left,a=s.left;this.cmd(It.setText,0,"Zig-Zig Left"),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,1),this.cmd(It.setEdgeHighlight,e.graphicID,s.graphicID,1),this.cmd(It.step),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,0),this.cmd(It.setEdgeHighlight,e.graphicID,s.graphicID,0),null!=i.parent?(this.cmd(It.disconnect,i.parent.graphicID,i.graphicID),this.cmd(It.connect,i.parent.graphicID,s.graphicID,"#007700"),i.isLeftChild()?i.parent.left=s:i.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd(It.disconnect,e.graphicID,h.graphicID),this.cmd(It.connect,i.graphicID,h.graphicID,"#007700"),h.parent=i),null!=a&&(this.cmd(It.disconnect,s.graphicID,a.graphicID),this.cmd(It.connect,e.graphicID,a.graphicID,"#007700"),a.parent=e),this.cmd(It.disconnect,i.graphicID,e.graphicID),this.cmd(It.disconnect,e.graphicID,s.graphicID),this.cmd(It.connect,s.graphicID,e.graphicID,"#007700"),this.cmd(It.connect,e.graphicID,i.graphicID,"#007700"),s.parent=i.parent,i.right=h,e.left=i,i.parent=e,e.right=a,s.left=e,e.parent=s,this.resizeTree()}},{key:"singleRotateLeft",value:function(t){var i=t,e=t.right,s=e.left;this.cmd(It.setText,0,"Zig Left"),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,1),this.cmd(It.step),null!=s&&(this.cmd(It.disconnect,e.graphicID,s.graphicID),this.cmd(It.connect,i.graphicID,s.graphicID,"#007700"),s.parent=i),this.cmd(It.disconnect,i.graphicID,e.graphicID),this.cmd(It.connect,e.graphicID,i.graphicID,"#007700"),e.parent=i.parent,null==i.parent?this.treeRoot=e:(this.cmd(It.disconnect,i.parent.graphicID,i.graphicID,"#007700"),this.cmd(It.connect,i.parent.graphicID,e.graphicID,"#007700"),i.isLeftChild()?i.parent.left=e:i.parent.right=e),e.left=i,i.parent=e,i.right=s,this.resizeTree()}},{key:"splayUp",value:function(t){null!=t.parent&&(null==t.parent.parent?t.isLeftChild()?this.singleRotateRight(t.parent):this.singleRotateLeft(t.parent):t.isLeftChild()&&!t.parent.isLeftChild()?(this.doubleRotateLeft(t.parent.parent),this.splayUp(t)):!t.isLeftChild()&&t.parent.isLeftChild()?(this.doubleRotateRight(t.parent.parent),this.splayUp(t)):t.isLeftChild()?(this.zigZigRight(t.parent.parent),this.splayUp(t)):(this.zigZigLeft(t.parent.parent),this.splayUp(t)))}},{key:"findMax",value:function(t){if(null!=t.right){for(this.highlightID=this.nextIndex++,this.cmd(It.createHighlightCircle,this.highlightID,"#007700",t.x,t.y),this.cmd(It.step);null!=t.right;)this.cmd(It.move,this.highlightID,t.right.x,t.right.y),this.cmd(It.step),t=t.right;return this.cmd(It.delete,this.highlightID),t}return t}},{key:"doubleRotateRight",value:function(t){this.cmd(It.setText,0,"Zig-Zag Right");var i=t.left,e=t.left.right,s=t,h=e.left,a=e.right;this.cmd(It.setEdgeHighlight,s.graphicID,i.graphicID,1),this.cmd(It.setEdgeHighlight,i.graphicID,e.graphicID,1),this.cmd(It.step),null!=h&&(this.cmd(It.disconnect,e.graphicID,h.graphicID),h.parent=i,i.right=h,this.cmd(It.connect,i.graphicID,h.graphicID,"#007700")),null!=a&&(this.cmd(It.disconnect,e.graphicID,a.graphicID),a.parent=s,s.left=h,this.cmd(It.connect,s.graphicID,a.graphicID,"#007700")),null==s.parent?(e.parent=null,this.treeRoot=e):(this.cmd(It.disconnect,s.parent.graphicID,s.graphicID),this.cmd(It.connect,s.parent.graphicID,e.graphicID,"#007700"),s.isLeftChild()?s.parent.left=e:s.parent.right=e,e.parent=s.parent,s.parent=e),this.cmd(It.disconnect,s.graphicID,i.graphicID),this.cmd(It.disconnect,i.graphicID,e.graphicID),this.cmd(It.connect,e.graphicID,i.graphicID,"#007700"),this.cmd(It.connect,e.graphicID,s.graphicID,"#007700"),e.left=i,i.parent=e,e.right=s,s.parent=e,i.right=h,s.left=a,this.resizeTree()}},{key:"doubleRotateLeft",value:function(t){this.cmd(It.setText,0,"Zig-Zag Left");var i=t,e=t.right.left,s=t.right,h=e.left,a=e.right;this.cmd(It.setEdgeHighlight,i.graphicID,s.graphicID,1),this.cmd(It.setEdgeHighlight,s.graphicID,e.graphicID,1),this.cmd(It.step),null!=h&&(this.cmd(It.disconnect,e.graphicID,h.graphicID),h.parent=i,i.right=h,this.cmd(It.connect,i.graphicID,h.graphicID,"#007700")),null!=a&&(this.cmd(It.disconnect,e.graphicID,a.graphicID),a.parent=s,s.left=h,this.cmd(It.connect,s.graphicID,a.graphicID,"#007700")),null==i.parent?(e.parent=null,this.treeRoot=e):(this.cmd(It.disconnect,i.parent.graphicID,i.graphicID),this.cmd(It.connect,i.parent.graphicID,e.graphicID,"#007700"),i.isLeftChild()?i.parent.left=e:i.parent.right=e,e.parent=i.parent,i.parent=e),this.cmd(It.disconnect,i.graphicID,s.graphicID),this.cmd(It.disconnect,s.graphicID,e.graphicID),this.cmd(It.connect,e.graphicID,i.graphicID,"#007700"),this.cmd(It.connect,e.graphicID,s.graphicID,"#007700"),e.left=i,i.parent=e,e.right=s,s.parent=e,i.right=h,s.left=a,this.resizeTree()}},{key:"resizeTree",value:function(){var t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,50,0),this.animateNewPositions(this.treeRoot),this.cmd(It.step))}},{key:"setNewPositions",value:function(t,i,e,s){null!=t&&(t.y=e,-1===s?i-=t.rightWidth:1===s&&(i+=t.leftWidth),t.x=i,this.setNewPositions(t.left,i,e+50,-1),this.setNewPositions(t.right,i,e+50,1))}},{key:"animateNewPositions",value:function(t){null!=t&&(this.cmd(It.move,t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}},{key:"resizeWidths",value:function(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),25),t.rightWidth=Math.max(this.resizeWidths(t.right),25),t.leftWidth+t.rightWidth)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft),Ji=function(){function t(i,e,s,h){Object(a.a)(this,t),this.data=i,this.x=s,this.y=h,this.graphicID=e,this.left=null,this.right=null,this.parent=null}return Object(n.a)(t,[{key:"isLeftChild",value:function(){return null==this.parent||this.parent.left===this}}]),t}(),Zi=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],$i=[0,250,320,320,390,390,390,390,460,460,460,460,460,460,460,460,530,530,530,530,530,530,530,530,530,530,530,530,530,530,530,530],te={ArrayList:["ArrayList",St],LinkedList:["Singly LinkedList",Pi],DoublyLinkedList:["Doubly LinkedList",Ci],CircularlyLinkedList:["Circularly LinkedList",oi],StackArray:["Stack (Array)",function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.pushField=Lt("Text",""),this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),4),this.pushButton=Lt("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),Ct(),this.popButton=Lt("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.top=0,this.leftoverLabelID=this.nextIndex++,this.commands=[];for(var i=0;i<7;i++){var e=i%14*50+100,s=130*Math.floor(i/14)+200;this.cmd(It.createRectangle,this.arrayID[i],"",50,50,e,s),this.cmd(It.createLabel,this.arrayLabelID[i],i,e,s+50),this.cmd(It.setForegroundColor,this.arrayLabelID[i],"#0000FF")}this.cmd(It.createLabel,this.topLabelID,"Size",130,100),this.cmd(It.createRectangle,this.topID,0,50,50,180,100),this.cmd(It.createLabel,this.leftoverLabelID,"",50,30),this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.top=0,this.nextIndex=0,this.length=7,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(var t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+3,this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++}},{key:"pushCallback",value:function(){if(this.top<this.arrayData.length&&""!==this.pushField.value){var t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}else if(this.top===this.arrayData.length&&2*this.top<30){var i=this.pushField.value;this.pushField.value="",this.implementAction(this.resize.bind(this),i)}}},{key:"popCallback",value:function(){this.top>0&&this.implementAction(this.pop.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clearData.bind(this))}},{key:"clearData",value:function(){return this.commands=[],this.clearAll(),this.commands}},{key:"push",value:function(t){this.commands=[],this.arrayData[this.top]=t;var i=this.nextIndex++,e=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,i,"Pushing Value: ",50,30),this.cmd(It.createLabel,e,t,120,30),this.cmd(It.step),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(It.step);var s=this.top%14*50+100,h=130*Math.floor(this.top/14)+200;return this.cmd(It.move,this.highlight1ID,s,h+50),this.cmd(It.step),this.cmd(It.move,e,s,h),this.cmd(It.step),this.cmd(It.setText,this.arrayID[this.top],t),this.cmd(It.delete,e),this.cmd(It.delete,this.highlight1ID),this.cmd(It.setHighlight,this.topID,1),this.cmd(It.step),this.top=this.top+1,this.cmd(It.setText,this.topID,this.top),this.cmd(It.delete,i),this.cmd(It.step),this.cmd(It.setHighlight,this.topID,0),null!=t&&(this.nextIndex=this.nextIndex-2),this.commands}},{key:"pop",value:function(){this.commands=[];var t=this.nextIndex++,i=this.nextIndex++;this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,t,"Popped Value: ",50,30),this.cmd(It.setHighlight,this.topID,1),this.cmd(It.step),this.top=this.top-1;var e=this.arrayData[this.top];this.arrayData[this.top]="",this.cmd(It.setText,this.topID,this.top),this.cmd(It.step),this.cmd(It.setHighlight,this.topID,0),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(It.step);var s=this.top%14*50+100,h=130*Math.floor(this.top/14)+200;return this.cmd(It.move,this.highlight1ID,s,h+50),this.cmd(It.step),this.cmd(It.createLabel,i,e,s,h),this.cmd(It.setText,this.arrayID[this.top],""),this.cmd(It.move,i,120,30),this.cmd(It.step),this.cmd(It.delete,t),this.cmd(It.delete,this.highlight1ID),this.cmd(It.setText,this.leftoverLabelID,"Popped Value: "+e),this.cmd(It.delete,i),this.nextIndex=this.nextIndex-2,this.commands}},{key:"resize",value:function(t){this.commands=[];var i=this.nextIndex++,e=this.nextIndex++,s=this.nextIndex++;this.cmd(It.createLabel,i,"Pushing Value: ",50,30),this.cmd(It.createLabel,e,t,120,30),this.cmd(It.createLabel,s,"(Resize Required)",60,60),this.cmd(It.step),this.arrayIDNew=new Array(2*this.top),this.arrayLabelIDNew=new Array(2*this.top),this.arrayDataNew=new Array(2*this.top);for(var h=0;h<2*this.top;h++)this.arrayIDNew[h]=this.nextIndex++,this.arrayLabelIDNew[h]=this.nextIndex++,h<this.top&&(this.arrayDataNew[h]=this.arrayData[h]);this.arrayDataNew[this.top]=t,this.highlight1ID=this.nextIndex++;for(var a=0;a<2*this.top;a++){var n=a%14*50+100,r=130*Math.floor(a/14)+300;this.cmd(It.createRectangle,this.arrayIDNew[a],"",50,50,n,r),this.cmd(It.createLabel,this.arrayLabelIDNew[a],a,n,r+50),this.cmd(It.setForegroundColor,this.arrayLabelIDNew[a],"#0000FF")}this.cmd(It.step),this.arrayMoveID=new Array(this.top);for(var l=0;l<this.top;l++){var o=l%14*50+100,c=130*Math.floor(l/14)+200,d=l%14*50+100,u=130*Math.floor(l/14)+300;this.arrayMoveID[l]=this.nextIndex++;var m=this.arrayData[l];this.cmd(It.createLabel,this.arrayMoveID[l],m,o,c),this.cmd(It.move,this.arrayMoveID[l],d,u)}this.cmd(It.step);for(var g=0;g<this.top;g++){var p=this.arrayData[g];this.cmd(It.setText,this.arrayIDNew[g],p),this.cmd(It.delete,this.arrayMoveID[g])}this.cmd(It.step),this.cmd(It.createHighlightCircle,this.highlight1ID,"#0000FF",120,30),this.cmd(It.step);var I=parseInt(this.top)%14*50+100,f=130*Math.floor(parseInt(this.top)/14)+300;this.cmd(It.move,this.highlight1ID,I,f),this.cmd(It.move,e,I,f),this.cmd(It.step),this.cmd(It.setText,this.arrayIDNew[this.top],t),this.cmd(It.delete,e),this.cmd(It.delete,this.highlight1ID),this.cmd(It.step);for(var b=0;b<this.top;b++)this.cmd(It.delete,this.arrayID[b]),this.cmd(It.delete,this.arrayLabelID[b]);for(var D=0;D<2*this.top;D++){var v=D%14*50+100,x=130*Math.floor(D/14)+200;this.cmd(It.move,this.arrayIDNew[D],v,x),this.cmd(It.move,this.arrayLabelIDNew[D],v,x+50)}return this.cmd(It.step),this.cmd(It.setHighlight,this.topID,1),this.cmd(It.step),this.top=this.top+1,this.cmd(It.setText,this.topID,this.top),this.cmd(It.delete,i),this.cmd(It.delete,s),this.cmd(It.step),this.cmd(It.setHighlight,this.topID,0),this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.nextIndex=this.nextIndex-this.top+1,this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.top;t++)this.cmd(It.setText,this.arrayID[t],"");return this.top=0,this.cmd(It.setText,this.topID,"0"),this.commands}}]),i}(Ft)],StackLL:["Stack (LinkedList)",function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[],this.pushField=Lt("Text",""),this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),4),this.pushButton=Lt("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),Ct(),this.popButton=Lt("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32);for(var t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;var i,e;for(this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.cmd(It.createLabel,this.topLabelID,"Head",130,100),this.cmd(It.createRectangle,this.topID,"",30,30,180,100),this.cmd(It.setNull,this.topID,1),this.cmd(It.createLabel,this.leftoverLabelID,"",50,30),this.code=[["procedure push(data)"],["     head = new node(data, head)"],["end procedure"],[],["procedure pop()"],["     result = head.data"],["     head = head.next"],["end procedure"]],this.codeID=Array(this.code.length),i=0;i<this.code.length;i++)for(this.codeID[i]=new Array(this.code[i].length),e=0;e<this.code[i].length;e++)this.codeID[i][e]=this.nextIndex++,this.cmd(It.createLabel,this.codeID[i][e],this.code[i][e],400,25+14*i,0),this.cmd(It.setForegroundColor,this.codeID[i][e],"#000000"),e>0&&this.cmd(It.alignRight,this.codeID[i][e],this.codeID[i][e-1]);this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"resetLinkedListPositions",value:function(){for(var t=this.top-1;t>=0;t--){var i=(this.top-1-t)%8*100+100,e=100*Math.floor((this.top-1-t)/8)+200;this.cmd(It.move,this.linkedListElemID[t],i,e)}}},{key:"reset",value:function(){this.top=0,this.nextIndex=this.initialIndex}},{key:"pushCallback",value:function(){if(this.top<32&&""!==this.pushField.value){var t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}}},{key:"popCallback",value:function(){this.top>0&&this.implementAction(this.pop.bind(this))}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this))}},{key:"push",value:function(t){this.commands=[];var i=this.nextIndex++,e=this.nextIndex++;return this.arrayData[this.top]=t,this.cmd(It.setText,this.leftoverLabelID,""),this.highlight(1,0),this.cmd(It.createLinkedListNode,this.linkedListElemID[this.top],"",70,30,250,50,.25,0,1),this.cmd(It.createLabel,i,"Pushing Value: ",50,30),this.cmd(It.createLabel,e,t,120,30),this.cmd(It.step),this.cmd(It.move,e,250,50),this.cmd(It.step),this.cmd(It.setText,this.linkedListElemID[this.top],t),this.cmd(It.delete,e),0===this.top?(this.cmd(It.setNull,this.topID,0),this.cmd(It.setNull,this.linkedListElemID[this.top],1)):(this.cmd(It.connect,this.linkedListElemID[this.top],this.linkedListElemID[this.top-1]),this.cmd(It.step),this.cmd(It.disconnect,this.topID,this.linkedListElemID[this.top-1])),this.cmd(It.connect,this.topID,this.linkedListElemID[this.top]),this.cmd(It.step),this.top=this.top+1,this.resetLinkedListPositions(),this.cmd(It.delete,i),this.cmd(It.step),this.unhighlight(1,0),this.commands}},{key:"pop",value:function(){this.commands=[];var t=this.nextIndex++,i=this.nextIndex++;return this.cmd(It.setText,this.leftoverLabelID,""),this.cmd(It.createLabel,t,"Popped Value: ",50,30),this.cmd(It.createLabel,i,this.arrayData[this.top-1],100,200),this.highlight(5,0),this.cmd(It.move,i,120,30),this.cmd(It.step),this.cmd(It.disconnect,this.topID,this.linkedListElemID[this.top-1]),this.unhighlight(5,0),1===this.top?this.cmd(It.setNull,this.topID,1):this.cmd(It.connect,this.topID,this.linkedListElemID[this.top-2]),this.highlight(6,0),this.cmd(It.step),this.unhighlight(6,0),this.cmd(It.delete,this.linkedListElemID[this.top-1]),this.highlight(7,0),this.top=this.top-1,this.resetLinkedListPositions(),this.unhighlight(7,0),this.cmd(It.delete,i),this.cmd(It.delete,t),this.cmd(It.setText,this.leftoverLabelID,"Popped Value: "+this.arrayData[this.top]),this.commands}},{key:"highlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#FF0000")}},{key:"unhighlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000")}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.top;t++)this.cmd(It.delete,this.linkedListElemID[t]);return this.top=0,this.cmd(It.setNull,this.topID,1),this.commands}}]),i}(Ft)],QueueArray:["Queue (Array)",Mi],QueueLL:["Queue (LinkedList)",Xi],DequeArray:["Deque (Array)",bi],DequeLL:["Deque (LinkedList)",vi],BST:["Binary Search Tree",Jt],Heap:["Heaps / PQs",Ai],SkipList:["SkipList",Yi],ClosedHash:["HashMap (Probing)",ui],OpenHash:["HashMap (Chaining)",zi],SplayTree:["SplayTree",Qi],AVL:["AVL",jt],BTree:["2-4 Tree",ei],BubbleSort:["Bubble Sort",li],CocktailSort:["Cocktail Shaker Sort",pi],InsertionSort:["Insertion Sort",Si],SelectionSort:["Selection Sort",Gi],QuickSort:["QuickSort",qi],QuickSelect:["QuickSelect / k\u1d57\u02b0 Select",Ki],MergeSort:["MergeSort",Ei],LSDRadix:["LSD Radix Sort",Oi],HeapSort:["HeapSort",function(t){function i(t,e,s){var h;return Object(a.a)(this,i),(h=Object(r.a)(this,Object(l.a)(i).call(this,t,e,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(i,t),Object(n.a)(i,[{key:"addControls",value:function(){this.controls=[];var t=Tt(!1);xt('Comma seperated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);var i=Tt(!0,t);this.listField=Lt("Text","",i),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Lt("Button","Sort",i),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),Ct(),this.clearButton=Lt("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){var t,i;for(this.commands=[],this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.heapTreeObj=[],this.infoLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(It.createLabel,this.infoLabelID,"",20,150,0),this.code=[["procedure heapSort(array)"],["     heap <- create new PriorityQueue(array)"],["     for i <- 0, array.length - 1, loop:"],["          add ","heap.remove()"," to data[i]"],["     end for"],["end procedure"]],this.codeID=Array(this.code.length),t=0;t<this.code.length;t++)for(this.codeID[t]=new Array(this.code[t].length),i=0;i<this.code[t].length;i++)this.codeID[t][i]=this.nextIndex++,this.cmd(It.createLabel,this.codeID[t][i],this.code[t][i],25,35+14*t,0),this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000"),i>0&&this.cmd(It.alignRight,this.codeID[t][i],this.codeID[t][i-1]);this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"sort",value:function(t){this.commands=[],this.highlight(0,0),this.arrayData=t.map(Number).filter((function(t){return!Number.isNaN(t)})).slice(0,15);for(var i=this.arrayData.length,e=new Array(i),s=new Map,h=new Map,a=0;a<i;a++){var n=s.has(this.arrayData[a])?s.get(this.arrayData[a]):0;n>0&&h.set(this.arrayData[a],"a"),s.set(this.arrayData[a],n+1)}for(var r=0;r<i;r++){this.arrayID[r]=this.nextIndex++;var l=50*r+400,o=this.arrayData[r].toString();if(h.has(this.arrayData[r])){var c=h.get(this.arrayData[r]);o+=c,h.set(this.arrayData[r],String.fromCharCode(c.charCodeAt(0)+1))}e[r]=o,this.cmd(It.createRectangle,this.arrayID[r],o,50,50,l,50)}this.arrayData=e,this.cmd(It.step),this.unhighlight(0,0),this.highlight(1,0),this.createHeap(this.arrayData),this.cmd(It.step),this.cmd(It.setText,this.infoLabelID,"Buildheap the new array");for(var d=Math.floor(this.currentHeapSize/2);d>0;)this.pushDown(d),d-=1;for(this.cmd(It.step),this.unhighlight(1,0),this.cmd(It.setText,this.infoLabelID,"");this.currentHeapSize>0;)this.highlight(2,0),this.cmd(It.step),this.unhighlight(2,0),this.remove();this.highlight(4,0),this.cmd(It.setText,this.infoLabelID,""),this.cmd(It.step);for(var u=0;u<i+1;u++)this.cmd(It.delete,this.heapArrayID[u]),this.cmd(It.delete,this.heapArrayLabelID[u]);return this.unhighlight(4,0),this.highlight(5,0),this.cmd(It.step),this.unhighlight(5,0),this.commands}},{key:"createHeap",value:function(t){var i=t.length+1;this.cmd(It.setText,this.infoLabelID,"Array-backed heap created"),this.heapArrayXPositions=new Array(i),this.heapArrayData=t.slice(),this.heapArrayData.unshift(null),this.currentHeapSize=i-1;for(var e=0;e<i;e++)this.heapArrayXPositions[e]=400+40*e,this.heapArrayID[e]=this.nextIndex++,this.heapArrayLabelID[e]=this.nextIndex++,this.heapTreeObj[e]=this.nextIndex++,this.cmd(It.createRectangle,this.heapArrayID[e],this.heapArrayData[e],40,30,this.heapArrayXPositions[e],150),this.cmd(It.createLabel,this.heapArrayLabelID[e],e,this.heapArrayXPositions[e],180),this.cmd(It.setForegroundColor,this.heapArrayLabelID[e],"#0000FF"),e>0&&(this.cmd(It.createCircle,this.heapTreeObj[e],this.heapArrayData[e],Zi[e],$i[e]),this.cmd(It.setText,this.heapArrayID[e],this.heapArrayData[e]),e>1&&this.cmd(It.connect,this.heapTreeObj[Math.floor(e/2)],this.heapTreeObj[e]));return this.commands}},{key:"remove",value:function(){var t=this.arrayData.length-this.currentHeapSize,i=this.heapArrayData[1],e=this.nextIndex;return this.cmd(It.setText,this.infoLabelID,""),this.highlight(3,0),this.highlight(3,1),this.highlight(3,2),this.cmd(It.setText,this.heapArrayID[1],""),this.cmd(It.createLabel,e,i,Zi[1],$i[1],0),this.cmd(It.setText,this.heapTreeObj[1],""),this.cmd(It.setText,this.arrayID[t],""),this.cmd(It.move,e,50*t+400-5,45),this.cmd(It.step),this.arrayData[t]=i,this.cmd(It.setText,this.arrayID[t],i),this.cmd(It.delete,e),this.cmd(It.step),this.heapArrayData[1]="",this.unhighlight(3,0),this.unhighlight(3,2),this.cmd(It.setText,this.infoLabelID,"Downheap to maintain order"),this.currentHeapSize>1?(this.cmd(It.setHighlight,this.heapArrayID[1],1),this.cmd(It.setHighlight,this.heapArrayID[this.currentHeapSize],1),this.cmd(It.setHighlight,this.heapTreeObj[1],1),this.cmd(It.setHighlight,this.heapTreeObj[this.currentHeapSize],1),this.cmd(It.step),this.cmd(It.setHighlight,this.heapArrayID[1],0),this.cmd(It.setHighlight,this.heapArrayID[this.currentHeapSize],0),this.cmd(It.setHighlight,this.heapTreeObj[1],0),this.cmd(It.setHighlight,this.heapTreeObj[this.currentHeapSize],0),this.swap(1,this.currentHeapSize),this.cmd(It.delete,this.heapTreeObj[this.currentHeapSize]),this.cmd(It.step),this.currentHeapSize--,this.currentHeapSize>0&&this.pushDown(1)):(this.cmd(It.setText,this.heapArrayID[1],""),this.cmd(It.delete,this.heapTreeObj[this.currentHeapSize]),this.cmd(It.step),this.currentHeapSize--),this.unhighlight(3,1),this.cmd(It.step),this.commands}},{key:"pushDown",value:function(t){for(var i;2*t<=this.currentHeapSize;){if(i=2*t,2*t+1<=this.currentHeapSize&&(this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd(It.step),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.downheapCheckRightChild(t)&&(i=2*t+1)),this.setIndexHighlight(t,1),this.setIndexHighlight(i,1),this.cmd(It.step),this.setIndexHighlight(t,0),this.setIndexHighlight(i,0),!this.downheapCompare(i,t))return;this.swap(i,t),t=i}}},{key:"downheapCheckRightChild",value:function(t){return this.compareWithLetters(this.heapArrayData[2*t+1],this.heapArrayData[2*t])}},{key:"downheapCompare",value:function(t,i){return this.compareWithLetters(this.heapArrayData[t],this.heapArrayData[i])}},{key:"compareWithLetters",value:function(t,i){return parseInt(t)<parseInt(i)}},{key:"swap",value:function(t,i){var e=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++;this.cmd(It.setText,this.heapArrayID[t],""),this.cmd(It.setText,this.heapArrayID[i],""),this.cmd(It.setText,this.heapTreeObj[t],""),this.cmd(It.setText,this.heapTreeObj[i],""),this.cmd(It.createLabel,e,this.heapArrayData[t],this.heapArrayXPositions[t],150),this.cmd(It.createLabel,s,this.heapArrayData[i],this.heapArrayXPositions[i],150),this.cmd(It.createLabel,h,this.heapArrayData[t],Zi[t],$i[t]),this.cmd(It.createLabel,a,this.heapArrayData[i],Zi[i],$i[i]),this.cmd(It.move,e,this.heapArrayXPositions[i],150),this.cmd(It.move,s,this.heapArrayXPositions[t],150),this.cmd(It.move,h,Zi[i],$i[i]),this.cmd(It.move,a,Zi[t],$i[t]);var n=this.heapArrayData[t];this.heapArrayData[t]=this.heapArrayData[i],this.heapArrayData[i]=n,this.cmd(It.step),this.cmd(It.setText,this.heapArrayID[t],this.heapArrayData[t]),this.cmd(It.setText,this.heapArrayID[i],this.heapArrayData[i]),this.cmd(It.setText,this.heapTreeObj[t],this.heapArrayData[t]),this.cmd(It.setText,this.heapTreeObj[i],this.heapArrayData[i]),this.cmd(It.delete,e),this.cmd(It.delete,s),this.cmd(It.delete,h),this.cmd(It.delete,a),this.nextIndex-=4}},{key:"setIndexHighlight",value:function(t,i){this.cmd(It.setHighlight,this.heapTreeObj[t],i),this.cmd(It.setHighlight,this.heapArrayID[t],i)}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd(It.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.commands}},{key:"reset",value:function(){this.currentHeapSize=0}},{key:"sortCallback",value:function(){var t=this.listField.value.split(",").filter((function(t){return""!==t}));""!==this.listField.value&&t.length<=15&&t.map(Number).filter((function(t){return t>999||Number.isNaN(t)})).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this))}},{key:"highlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#FF0000")}},{key:"unhighlight",value:function(t,i){this.cmd(It.setForegroundColor,this.codeID[t][i],"#000000")}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),i}(Ft)],BruteForce:["Brute Force",ni],BoyerMoore:["Boyer-Moore",ai],KMP:["KMP",Bi],RabinKarp:["Rabin-Karp",Wi],BFS:["Breadth-First Search",Wt],DFS:["Depth-First Search",Ii],Dijkstra:["Dijkstra's",ki],Prim:["Prim's",Ri],Kruskal:["Kruskal's",_i],LCS:["LCS",fi,"Longest Common Subsequence"],Floyd:["Floyd-Warshall",Ti]},ie=["Lists","ArrayList","LinkedList","DoublyLinkedList","CircularlyLinkedList","Stacks, Queues and Deques","StackArray","StackLL","QueueArray","QueueLL","DequeArray","DequeLL","Trees and SkipList","BST","Heap","AVL","BTree","SplayTree","SkipList","HashMaps","ClosedHash","OpenHash","Sorting and QuickSelect","BubbleSort","CocktailSort","InsertionSort","SelectionSort","QuickSort","QuickSelect","MergeSort","LSDRadix","HeapSort","String Searching","BruteForce","BoyerMoore","KMP","RabinKarp","Graph Algorithms","BFS","DFS","Dijkstra","Prim","Kruskal","Dynamic Programming","LCS","Floyd"],ee={AVL:nt.a.createElement("ul",null,nt.a.createElement("li",null,"To cause a left rotation, add 1, 2 and 3, in that order"),nt.a.createElement("li",null,"To cause a right rotation, add 3, 2 and 1, in that order"),nt.a.createElement("li",null,"To cause a left-right rotation, add 3, 1 and 2, in that order"),nt.a.createElement("li",null,"To cause a right-left rotation, add 1, 3 and 2, in that order")),BoyerMoore:nt.a.createElement("ul",null,nt.a.createElement("li",null,'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different first letter (for example, "aaaaaaaaa" for text and "baaaa" for pattern), since we will only mismatch on the last comparison'),nt.a.createElement("li",null,"When incorporating the Galil Rule, we can use logic similar to that of KMP to optimize our shifts. After finding a full match, instead of shifting by 1 we shift by the period ",nt.a.createElement("i",null,"k"),". After that shift, we don't need to compare the first"," ",nt.a.createElement("i",null,"k")," characters in the pattern because we've already compared them and know that they match!")),BruteForce:nt.a.createElement("ul",null,nt.a.createElement("li",null,'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different last letter (for example, "aaaaaaaaa" for text and "aaaab" for pattern), since we will only mismatch on the last comparison')),BST:nt.a.createElement("ul",null,nt.a.createElement("li",null,"To get a degenerate BST, you can add ascending data, such as 1, 2, 3, ..."),nt.a.createElement("li",null,"To get a full BST, you can add 2, 1, 4, 3, 5, in that order"),nt.a.createElement("li",null,"To get a complete BST, you can add 3, 2, 4, 1, in that order"),nt.a.createElement("li",null,"To get a full and complete BST, you can add 4, 2, 5, 1, 3, in that order")),BTree:nt.a.createElement("ul",null,nt.a.createElement("li",null,"To cause overflow and trigger a promotion, add more than 3 data (for example 1, 2, 3 and 4)"),nt.a.createElement("li",null,"To remove from a leaf node, add 1, 2, 3 and 4, in that order, then remove 3 or 4"),nt.a.createElement("li",null,"To remove from an inner node and use the predecessor, add 1, 3, 4, 5 and 2, in that order, then remove 3"),nt.a.createElement("li",null,"To cause underflow and trigger a rotation/transfer, add 1, 2, 3 and 4, in that order, then remove 1"),nt.a.createElement("li",null,"To cause underflow and trigger a fusion, follow the steps above then remove 2")),BubbleSort:nt.a.createElement("ul",null,nt.a.createElement("li",null,"The best case is when we have a sorted array (terminates if no swaps are made)"),nt.a.createElement("li",null,"The worst case is when we have a reverse sorted array (we perform",nt.a.createElement("p",{className:"equation"},"n + (n - 1) + (n - 2) + ... = n",nt.a.createElement("sup",null,"2")),"comparisons)")),CocktailSort:nt.a.createElement("ul",null,nt.a.createElement("li",null,"The best case is when we have a sorted array (terminates if no swaps are made)"),nt.a.createElement("li",null,"The worst case is when we have a reverse sorted array (we perform",nt.a.createElement("p",{className:"equation"},"n + (n - 1) + (n - 2) + ... = n",nt.a.createElement("sup",null,"2")),"comparisons)"),nt.a.createElement("li",null,"Even though Cocktail Shaker Sort has the same big-O as Bubble Sort, it is still faster; one case where it significantly outperforms Bubble Sort is when we have a sorted array, except for the last element which is the smallest, for example [2, 3, 4, 5, 6, 7, 8, 9, 1]")),InsertionSort:nt.a.createElement("ul",null,nt.a.createElement("li",null,"The best case is when we have a sorted array (terminates if no swaps are made)"),nt.a.createElement("li",null,"The worst case is when we have a reverse sorted array (we perform",nt.a.createElement("p",{className:"equation"},"n + (n - 1) + (n - 2) + ... = n",nt.a.createElement("sup",null,"2")),"comparisons)")),QuickSelect:nt.a.createElement("ul",null,nt.a.createElement("li",null,"The worst case occurs when we pick a bad pivot everytime (for example, the smallest or largest element), since we can no longer subvide the array")),QuickSort:nt.a.createElement("ul",null,nt.a.createElement("li",null,"The worst case occurs when we pick a bad pivot everytime (for example, the smallest or largest element), since we can no longer subvide the array and the algorithms becomes similar to Selection Sort")),SkipList:nt.a.createElement("ul",null,nt.a.createElement("li",null,"You can get a degenerate SkipList by always adding with a constant amount of heads, for example 0 or 4."),nt.a.createElement("li",null,"Note that in a real SkipList, you would have an"," ",nt.a.createElement("span",{className:"inline-eq"},"O(log n) "),"cap to the number of levels, so we wouldn't be able to add the first element with 4 heads, for example."))},se=function(t){function i(t){var e;Object(a.a)(this,i),(e=Object(r.a)(this,Object(l.a)(i).call(this,t))).updateDimensions=function(){e.animManag.changeSize(document.body.clientWidth)},e.toggleExamples=function(){return e.setState((function(t){return{examplesEnabled:!t.examplesEnabled}}))};var s=t.location.pathname.slice(1);return e.canvasRef=nt.a.createRef(),e.animBarRef=nt.a.createRef(),e.state={algoName:s,examplesEnabled:!1,width:0},Dt.a.pageview(s),e}return Object(o.a)(i,t),Object(n.a)(i,[{key:"componentDidMount",value:function(){te[this.state.algoName]&&(this.animManag=new pt(this.canvasRef,this.animBarRef),this.currentAlg=new te[this.state.algoName][1](this.animManag,this.canvasRef.current.width,this.canvasRef.current.height),window.addEventListener("resize",this.updateDimensions))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var t=this.state.algoName;if(!te[t])return nt.a.createElement("div",{className:"container"},nt.a.createElement(bt,null),nt.a.createElement("div",{className:"content"},nt.a.createElement("div",{className:"four-o-four"},nt.a.createElement("h1",null,"404!"),nt.a.createElement("h3",null,"Algorithm not found! Click ",nt.a.createElement(s.b,{to:"/"},"here")," to return to the home screen and choose another algorithm."))),nt.a.createElement(ft,null));var i=te[t][2]?te[t][2]:te[t][0];return nt.a.createElement("div",{className:"VisualizationMainPage"},nt.a.createElement("div",{id:"container"},nt.a.createElement("div",{id:"header"},nt.a.createElement("h1",null,nt.a.createElement(s.b,{to:"/"},"\u3008"),"\xa0\xa0",i)),nt.a.createElement("div",{id:"mainContent"},nt.a.createElement("div",{id:"algoControlSection"},nt.a.createElement("table",{id:"AlgorithmSpecificControls"}),ee[t]&&nt.a.createElement("button",{className:this.state.examplesEnabled?"selected":"",id:"examplesButton",onClick:this.toggleExamples})),nt.a.createElement("div",{className:"viewport"},nt.a.createElement("canvas",{id:"canvas",width:this.state.width,height:"505",ref:this.canvasRef}),this.state.examplesEnabled&&nt.a.createElement("div",{className:"modal"},nt.a.createElement("div",{className:"modal-content"},ee[t]))),nt.a.createElement("div",{id:"generalAnimationControlSection"},nt.a.createElement("table",{id:"GeneralAnimationControls",ref:this.animBarRef}))),nt.a.createElement("div",{id:"footer"},nt.a.createElement("p",null,nt.a.createElement(s.b,{to:"/"},"Return to Home Page")))))}}]),i}(nt.a.Component),he=function(){return nt.a.createElement("div",{className:"about"},nt.a.createElement("p",null,"This is a tool to help you visualize and understand the data structures and algorithms covered in Georgia Tech's CS1332 course. It is based on the"," ",nt.a.createElement("a",{href:"https://www.cs.usfca.edu/~galles/visualization/about.html"},"Data Structures Visualizations website")," ","by David Gales."),nt.a.createElement("p",null,"The CS1332 Visualization Tool was adapted and expanded by"," ",nt.a.createElement("a",{href:"https://rodrigodlpontes.github.io/website/"},"Rodrigo Pontes"),", under the supervision of Dr. Mary Hudachek-Buswell, to include data structures and algorithms covered in the course. It has since received many additions and revisions from"," ",nt.a.createElement("a",{href:"https://github.com/RodrigoDLPontes/visualization-tool#contributors-"},"many other wonderful contributors"),"."),nt.a.createElement("p",null,"It also includes icons from"," ",nt.a.createElement("a",{href:"https://material.io/resources/icons/?style=baseline"},"Google's Material Icons"),", and components from ",nt.a.createElement("a",{href:"https://material-ui.com/"},"Material UI"),"."))},ae=function(){return nt.a.createElement("div",{className:"container"},nt.a.createElement(bt,null),nt.a.createElement("div",{className:"content"},nt.a.createElement(h.c,null,nt.a.createElement(h.a,{exact:!0,path:"/"},nt.a.createElement("div",{className:"outer-flex"},nt.a.createElement("div",{className:"inner-flex"},ie.map((function(t,i){return te[t]?nt.a.createElement(s.b,{to:"/".concat(t),key:i},nt.a.createElement("input",{className:"button",type:"button",value:te[t][0]})):nt.a.createElement("div",{key:i,className:"divider"},nt.a.createElement("span",null,t))}))))),nt.a.createElement(h.a,{path:"/about"},nt.a.createElement(he,null)))),nt.a.createElement(ft,null))},ne=function(){return Dt.a.initialize("UA-164374852-1"),Dt.a.pageview("home"),nt.a.createElement(s.a,{basename:"/"},nt.a.createElement(h.c,null,nt.a.createElement(h.a,{exact:!0,path:["/","/about"],component:ae}),nt.a.createElement(h.a,{component:se})))};lt.a.render(nt.a.createElement(ne,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.8dd9e44a.chunk.js.map